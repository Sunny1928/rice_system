{"version":3,"file":"js/app.5fa65611.js","mappings":"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","sources":["webpack://client/./src/App.vue","webpack://client/src/App.vue","webpack://client/./src/App.vue?7e46","webpack://client/./src/App.vue?0e40","webpack://client/./src/components/Home.vue","webpack://client/./src/components/IndexHeader.vue","webpack://client/src/components/IndexHeader.vue","webpack://client/./src/components/IndexHeader.vue?9da5","webpack://client/./src/components/IndexHeader.vue?ea18","webpack://client/./src/services/Api.js","webpack://client/./src/services/outwards/TradeService.js","webpack://client/./src/services/inwards/OtherTradeService.js","webpack://client/./src/services/inwards/RiceTradeService.js","webpack://client/src/components/Home.vue","webpack://client/./src/components/Home.vue?f4a0","webpack://client/./src/components/Home.vue?f1b4","webpack://client/./src/components/Register.vue","webpack://client/./src/services/AuthenticationService.js","webpack://client/./src/components/Panel.vue","webpack://client/src/components/Panel.vue","webpack://client/./src/components/Panel.vue?4ae4","webpack://client/./src/components/Panel.vue?f23c","webpack://client/src/components/Register.vue","webpack://client/./src/components/Register.vue?1385","webpack://client/./src/components/Register.vue?0ebd","webpack://client/./src/components/Login.vue","webpack://client/src/components/Login.vue","webpack://client/./src/components/Login.vue?7171","webpack://client/./src/components/Login.vue?f3db","webpack://client/./src/components/outwards/index.vue","webpack://client/./src/components/TitlePanel.vue","webpack://client/src/components/TitlePanel.vue","webpack://client/./src/components/TitlePanel.vue?372a","webpack://client/./src/components/TitlePanel.vue?06ff","webpack://client/src/components/outwards/index.vue","webpack://client/./src/components/outwards/index.vue?6029","webpack://client/./src/components/outwards/index.vue?f461","webpack://client/./src/components/outwards/Customer.vue","webpack://client/./src/services/outwards/CustomerService.js","webpack://client/src/components/outwards/Customer.vue","webpack://client/./src/components/outwards/Customer.vue?8612","webpack://client/./src/components/outwards/Customer.vue?e2f4","webpack://client/./src/components/outwards/Transport.vue","webpack://client/./src/services/outwards/TransportService.js","webpack://client/src/components/outwards/Transport.vue","webpack://client/./src/components/outwards/Transport.vue?37e8","webpack://client/./src/components/outwards/Transport.vue?402a","webpack://client/./src/components/outwards/Product.vue","webpack://client/./src/services/outwards/ProductService.js","webpack://client/./src/services/outwards/SellUintService.js","webpack://client/src/components/outwards/Product.vue","webpack://client/./src/components/outwards/Product.vue?c248","webpack://client/./src/components/outwards/Product.vue?cd98","webpack://client/./src/components/outwards/Trade.vue","webpack://client/./src/services/outwards/CashMethodService.js","webpack://client/src/components/outwards/Trade.vue","webpack://client/./src/components/outwards/Trade.vue?35f3","webpack://client/./src/components/outwards/Trade.vue?e421","webpack://client/./src/components/outwards/SellUint.vue","webpack://client/src/components/outwards/SellUint.vue","webpack://client/./src/components/outwards/SellUint.vue?d03c","webpack://client/./src/components/outwards/SellUint.vue?21a1","webpack://client/./src/components/outwards/CashMethod.vue","webpack://client/src/components/outwards/CashMethod.vue","webpack://client/./src/components/outwards/CashMethod.vue?96e8","webpack://client/./src/components/outwards/CashMethod.vue?64a8","webpack://client/./src/components/inwards/index.vue","webpack://client/src/components/inwards/index.vue","webpack://client/./src/components/inwards/index.vue?9ca6","webpack://client/./src/components/inwards/index.vue?54c1","webpack://client/./src/components/inwards/Customer.vue","webpack://client/./src/services/inwards/CustomerService.js","webpack://client/src/components/inwards/Customer.vue","webpack://client/./src/components/inwards/Customer.vue?ed82","webpack://client/./src/components/inwards/Customer.vue?77f8","webpack://client/./src/components/inwards/TradeView.vue","webpack://client/./src/components/inwards/Trade.vue","webpack://client/./src/services/inwards/RicekindService.js","webpack://client/src/components/inwards/Trade.vue","webpack://client/./src/components/inwards/Trade.vue?1dbc","webpack://client/./src/components/inwards/Trade.vue?3729","webpack://client/./src/components/inwards/OtherTrade.vue","webpack://client/./src/services/inwards/ProductService.js","webpack://client/src/components/inwards/OtherTrade.vue","webpack://client/./src/components/inwards/OtherTrade.vue?a72e","webpack://client/./src/components/inwards/OtherTrade.vue?7c9a","webpack://client/src/components/inwards/TradeView.vue","webpack://client/./src/components/inwards/TradeView.vue?877f","webpack://client/./src/components/inwards/TradeView.vue?c96d","webpack://client/./src/components/inwards/Product.vue","webpack://client/src/components/inwards/Product.vue","webpack://client/./src/components/inwards/Product.vue?b6f2","webpack://client/./src/components/inwards/Product.vue?ece6","webpack://client/./src/components/inwards/Ricekind.vue","webpack://client/src/components/inwards/Ricekind.vue","webpack://client/./src/components/inwards/Ricekind.vue?a110","webpack://client/./src/components/inwards/Ricekind.vue?7034","webpack://client/./src/components/print/PrintEnvelope.vue","webpack://client/src/components/print/PrintEnvelope.vue","webpack://client/./src/components/print/PrintEnvelope.vue?74a4","webpack://client/./src/components/print/PrintEnvelope.vue?74f3","webpack://client/./src/components/print/PrintInwardsTrade.vue","webpack://client/src/components/print/PrintInwardsTrade.vue","webpack://client/./src/components/print/PrintInwardsTrade.vue?70d8","webpack://client/./src/components/print/PrintInwardsTrade.vue?025e","webpack://client/./src/components/print/PrintInwardsOtherTrade.vue","webpack://client/src/components/print/PrintInwardsOtherTrade.vue","webpack://client/./src/components/print/PrintInwardsOtherTrade.vue?0091","webpack://client/./src/components/print/PrintInwardsOtherTrade.vue?d827","webpack://client/./src/components/print/PrintOutwardsSomeTrade.vue","webpack://client/src/components/print/PrintOutwardsSomeTrade.vue","webpack://client/./src/components/print/PrintOutwardsSomeTrade.vue?b1c0","webpack://client/./src/components/print/PrintOutwardsSomeTrade.vue?83e0","webpack://client/./src/components/print/PrintOutwardsAllTrade.vue","webpack://client/src/components/print/PrintOutwardsAllTrade.vue","webpack://client/./src/components/print/PrintOutwardsAllTrade.vue?3b6a","webpack://client/./src/components/print/PrintOutwardsAllTrade.vue?c607","webpack://client/./src/router/index.js","webpack://client/./src/store/index.js","webpack://client/./src/plugins/vuetify.js","webpack://client/./src/main.js","webpack://client/webpack/bootstrap","webpack://client/webpack/runtime/chunk loaded","webpack://client/webpack/runtime/compat get default export","webpack://client/webpack/runtime/define property getters","webpack://client/webpack/runtime/global","webpack://client/webpack/runtime/hasOwnProperty shorthand","webpack://client/webpack/runtime/make namespace object","webpack://client/webpack/runtime/jsonp chunk loading","webpack://client/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-main',[_c('router-view')],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <v-app>\n      <v-main>\n        <router-view></router-view>\n      </v-main>\n    </v-app>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n\n.danger-alert {\n  color: red;\n}\n\n.text1{\n  height: auto;\n  text-align: left;\n  font-size: 24px;\n  padding: 5px 10px;\n  color: white;\n  background-color: #1976D2;\n  border-radius: 10px;\n}\n\n.subTitle{\n  text-align: left;\n}\n\n.red-text{\n  color: #E53935;\n}\n\n.blue-text{\n  color: #1976D2;\n  font-weight: bold;\n}\n\n@media (min-width: 960px){\n  .container {\n      max-width: none !important;\n  }\n}\n</style>","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7f751674&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7f751674&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('IndexHeader',[(!_vm.$store.state.isUserLoggedIn)?_c('v-container',[_vm._v(\" 你尚未登入 \")]):_c('v-container',[_c('v-layout',{staticClass:\"ml-4 mr-4\"},[_c('v-flex',{attrs:{\"xs12\":\"\",\"offset-xs0\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"300\",\"to\":{\n                name: 'inwards'\n              }}},[_c('h2',[_vm._v(\"進貨\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"300\",\"to\":{\n                name: 'outwards'\n              }}},[_c('h2',[_vm._v(\"出貨\")])])],1)],1),_c('div',{staticClass:\"border\"},[_c('v-row',{staticClass:\"title\"},[_c('h3',[_vm._v(\"其他功能\")])]),_c('v-row',{staticClass:\"ma-3\",attrs:{\"justify\":\"center\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('b',[_vm._v(\"列印所有交易資料\")]),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates); _vm.getTrades();}}},[_vm._v(\" OK \")])],1)],1),_c('div',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")])],1),_c('v-col',{staticClass:\"pa-6\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-row',[_c('download-excel',{staticClass:\"btn mr-2\",attrs:{\"header\":`出貨交易紀錄`,\"data\":_vm.outward_trades,\"fields\":_vm.outward_json_fields,\"worksheet\":\"出貨統計\",\"name\":_vm.dateText+'出貨交易.xls'}},[_vm._v(\" 下載出貨交易Excel \")]),_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.printAllReceipt}},[_vm._v(\" 列印出貨交易 \")])],1),_c('v-row',[_c('download-excel',{staticClass:\"btn mr-2\",attrs:{\"header\":`糧食交易紀錄`,\"data\":_vm.inward_rice_trades,\"fields\":_vm.inward_rice_json_fields,\"worksheet\":\"糧食交易紀錄統計\",\"name\":_vm.dateText+'糧食交易紀錄.xls'}},[_vm._v(\" 下載糧食交易Excel \")]),_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.printInwardRiceReceipt}},[_vm._v(\" 列印糧食進出交易 \")])],1),_c('v-row',[_c('download-excel',{staticClass:\"btn mr-2\",attrs:{\"header\":`客戶往來交易紀錄`,\"data\":_vm.inward_trades,\"fields\":_vm.inward_json_fields,\"worksheet\":\"客戶往來交易紀錄\",\"name\":_vm.dateText+'客戶往來交易紀錄.xls'}},[_vm._v(\" 下載客戶往來交易Excel \")]),_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.printInwardReceipt}},[_vm._v(\" 列印客戶往來交易 \")])],1)],1)],1)],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('div',{staticClass:\"t1\"},[_c('v-app-bar',{attrs:{\"fixed\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-app-bar-title',{staticClass:\"mr-4\"},[_c('router-link',{staticClass:\"btn_top\",attrs:{\"tag\":\"span\",\"to\":{\n            name: 'root'\n          }}},[_vm._v(\" 年昌米廠 \")])],1),_c('v-spacer'),(_vm.$store.state.isUserLoggedIn)?_c('div',{staticClass:\"d-flex\"},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"open-on-hover\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('p',_vm._g({staticClass:\"btn_top mr-4 ml-4\",attrs:{\"plain\":\"\"}},on),[_vm._v(\" 進貨系統 \")])]}}],null,false,593719664)},[_c('v-list',[_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                    name: 'inwardsCustomer'\n                  }}},[_vm._v(\" 顧客 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'inwardsRicekind'\n                  }}},[_vm._v(\" 米的種類 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'inwardsProduct'\n                  }}},[_vm._v(\" 商品 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                    name: 'inwardsTrade',\n                    params:{\n                      customerName: 'null'\n                    }\n                  }},nativeOn:{\"click\":function($event){return _vm.$router.go()}}},[_vm._v(\" 進貨交易 \")])],1)],1)],1)],1),_c('v-menu',{attrs:{\"offset-y\":\"\",\"open-on-hover\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('p',_vm._g({staticClass:\"btn_top mr-4 ml-4\",attrs:{\"plain\":\"\"}},on),[_vm._v(\" 出貨系統 \")])]}}],null,false,3268580792)},[_c('v-list',[_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                    name: 'customer'\n                  }}},[_vm._v(\" 顧客 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'product'\n                  }}},[_vm._v(\" 商品 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'sellUint'\n                  }}},[_vm._v(\" 販賣單位 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'cashMethod'\n                  }}},[_vm._v(\" 入帳方式 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                  name: 'transport'\n                  }}},[_vm._v(\" 貨運 \")])],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('router-link',{staticClass:\"link\",attrs:{\"to\":{\n                    name: 'trade',\n                    params:{\n                      customerName: 'null'\n                    }\n                  }},nativeOn:{\"click\":function($event){return _vm.$router.go()}}},[_vm._v(\" 出貨交易 \")])],1)],1)],1)],1)],1):_vm._e(),_c('v-spacer'),_c('div',[(!_vm.$store.state.isUserLoggedIn)?_c('router-link',{staticClass:\"btn_top\",attrs:{\"tag\":\"span\",\"to\":{\n            name: 'login'\n          }}},[_vm._v(\" 登入 \")]):_vm._e(),(_vm.$store.state.isUserLoggedIn)?_c('p',{staticClass:\"btn_top\",on:{\"click\":_vm.logout}},[_vm._v(\" 登出 \")]):_vm._e()],1)],1),_c('v-container',[_vm._t(\"default\",function(){return [_vm._v(\" No slot content defined. \")]})],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <div class=\"t1\">\n      <v-app-bar fixed color=\"primary\" dark>\n        <v-app-bar-title class=\"mr-4\">\n          <router-link \n            class=\"btn_top\"\n            tag=\"span\"\n            :to=\"{\n              name: 'root'\n            }\">\n            年昌米廠\n          </router-link>\n        </v-app-bar-title>\n\n        <v-spacer></v-spacer>\n\n        <div v-if=\"$store.state.isUserLoggedIn\"\n            class=\"d-flex\">    \n          <v-menu\n            offset-y\n            open-on-hover>\n            <template v-slot:activator=\"{ on }\">\n              <p\n                class=\"btn_top mr-4 ml-4\"\n                plain\n                v-on=\"on\">\n                進貨系統\n            </p>\n            </template>\n\n\n            <v-list>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link\n                    class=\"link\" \n                    :to=\"{\n                      name: 'inwardsCustomer'\n                    }\">\n                    顧客\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'inwardsRicekind'\n                    }\">\n                    米的種類\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'inwardsProduct'\n                    }\">\n                    商品\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                      name: 'inwardsTrade',\n                      params:{\n                        customerName: 'null'\n                      }\n                    }\"\n                    @click.native=\"$router.go()\">\n                    進貨交易\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n\n          <v-menu\n            offset-y\n            open-on-hover>\n            <template v-slot:activator=\"{ on }\">\n              <p\n                class=\"btn_top mr-4 ml-4\"\n                plain\n                v-on=\"on\">\n                出貨系統\n            </p>\n            </template>\n\n            <v-list>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link\n                    class=\"link\" \n                    :to=\"{\n                      name: 'customer'\n                    }\">\n                    顧客\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'product'\n                    }\">\n                    商品\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'sellUint'\n                    }\">\n                    販賣單位\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'cashMethod'\n                    }\">\n                    入帳方式\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                    name: 'transport'\n                    }\">\n                    貨運\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n              <v-list-item>\n                <v-list-item-title>\n                  <router-link \n                    class=\"link\" \n                    :to=\"{\n                      name: 'trade',\n                      params:{\n                        customerName: 'null'\n                      }\n                    }\"\n                    @click.native=\"$router.go()\">\n                    出貨交易\n                  </router-link>\n                </v-list-item-title>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </div>\n            \n        <v-spacer></v-spacer>\n\n        <div>\n          <router-link \n            v-if=\"!$store.state.isUserLoggedIn\"\n            tag=\"span\"\n            class=\"btn_top\"\n            :to=\"{\n              name: 'login'\n            }\">\n            登入\n          </router-link>\n          \n          <p \n            v-if=\"$store.state.isUserLoggedIn\"\n            class=\"btn_top\"\n            @click=\"logout\">\n            登出\n          </p>\n        </div>\n      </v-app-bar>\n\n      <v-container>\n\n        <slot>\n          No slot content defined.\n        </slot>\n        \n      </v-container>\n    </div>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n    }\n  },\n  methods:{\n    logout(){\n      this.$store.dispatch('setToken', null)\n      this.$store.dispatch('setUser', null)\n      this.$router.push({\n        name: 'login'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.link{\n  text-decoration: none;\n  color: inherit;\n}\n.t1{\n  margin-top: 50px;\n}\n\n.btn_top{\n  color: #FFEE58;\n  font-size: 22px;\n  margin: 10px;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n.btn_top:hover {\n  font-weight: bold;\n  color: rgb(255, 250, 210);\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IndexHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndexHeader.vue?vue&type=template&id=27a3275e&scoped=true&\"\nimport script from \"./IndexHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./IndexHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IndexHeader.vue?vue&type=style&index=0&id=27a3275e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27a3275e\",\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\"\n\nexport default () => {\n  return axios.create({\n    // baseURL: `http://localhost:8089/`,\n    baseURL: window.location.protocol + \"//\" + window.location.host,\n    withCredentials: true,\n  })\n}\n","import Api from '@/services/Api'\n\nconst url = 'api/outwards/trades/'\n\nexport default {\n  index (customer) {\n    // console.log(customer)\n    return Api().get(`${url}allTrades/${customer}`)\n  },\n  indexByDates (dates) {\n    return Api().get(`${url}allTradesByDates/${dates}`)\n  },\n  indexByCashmethodAndDates (cashmethod,dates) {\n    return Api().get(`${url}allTradesByCashmethod/${cashmethod}&${dates}`)\n  },\n  post (item) {\n    return Api().post(`${url}addTrade`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}","import Api from '@/services/Api'\n\nconst url = 'api/inwards/othertrades/'\n\nexport default {\n  index (customer) {\n    return Api().get(`${url}allItems/${customer}`)\n  },\n  getLastTrade (customer) {\n    return Api().get(`${url}lastItem/${customer}`)\n  },\n  indexByDates (dates) {\n    return Api().get(`${url}/allItemsByDates/${dates}`)\n  },\n  getAllItemsByProduct (type, dates) {\n    return Api().get(`${url}allItems/${type}/${dates}`)\n  },\n  post (item) {\n    return Api().post(`${url}addItem`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}\n","import Api from '@/services/Api'\n\nconst url = 'api/inwards/ricetrades/'\n\nexport default {\n  index (customer) {\n    return Api().get(`${url}allItems/${customer}`)\n  },\n  indexByDates (dates) {\n    return Api().get(`${url}allItemsByDates/${dates}`)\n  },\n  getAllItemsByRicekind (type, dates) {\n    return Api().get(`${url}allItems/${type}/${dates}`)\n  },\n  post (item) {\n    return Api().post(`${url}addItem`, item)\n  },\n  get (id) {\n    return Api().get(`${url}${id}`)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  },\n  deleteById (id) {\n    return Api().delete(`${url}${id}`)\n  }\n}","<template>\n  <IndexHeader>\n    <v-container v-if=\"!$store.state.isUserLoggedIn\">\n      你尚未登入\n    </v-container>\n\n    <v-container v-else>\n      <v-layout class=\"ml-4 mr-4\">\n        <v-flex xs12 offset-xs0>\n          <v-row>\n            <v-col\n              cols=\"12\"\n              md=\"6\">\n              <v-btn\n                color=\"primary\"\n                class=\"d-flex align-center\"\n                dark\n                height=\"300\"\n                :to=\"{\n                  name: 'inwards'\n                }\">\n                <h2>進貨</h2>\n              </v-btn>\n            </v-col>\n            <v-col\n              cols=\"12\"\n              md=\"6\">\n              <v-btn\n                color=\"primary\"\n                class=\" d-flex align-center\"\n                dark\n                height=\"300\"\n                :to=\"{\n                  name: 'outwards'\n                }\">\n                <h2>出貨</h2>\n              </v-btn>\n            </v-col>\n          </v-row>\n\n          <div\n            class=\"border\">\n            <v-row\n              class=\"title\">\n              <h3>其他功能</h3>\n            </v-row>\n            <v-row\n              justify=\"center\"\n              align=\"center\"\n              class=\"ma-3 \">\n              <v-col\n                cols=\"12\"\n                md=\"6\">\n                <b>列印所有交易資料</b>\n                <v-menu\n                  ref=\"menu\"\n                  v-model=\"menu\"\n                  :close-on-content-click=\"false\"\n                  :return-value.sync=\"dates\"\n                  transition=\"scale-transition\"\n                  offset-y\n                  min-width=\"auto\">\n                  <template v-slot:activator=\"{ on, attrs }\">\n                    <v-text-field\n                      v-model=\"dateText\"\n                      label=\"篩選日期\"\n                      prepend-icon=\"mdi-calendar\"\n                      readonly\n                      dense\n                      outlined\n                      flat\n                      solo\n                      v-bind=\"attrs\"\n                      v-on=\"on\">\n                    </v-text-field>\n                  </template>\n                  <v-date-picker\n                    v-model=\"dates\"\n                    no-title\n                    range>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      text\n                      color=\"primary\"\n                      @click=\"menu = false\">\n                      Cancel\n                    </v-btn>\n                    <v-btn\n                      text\n                      color=\"primary\"\n                      @click=\"$refs.menu.save(dates); getTrades();\">\n                      OK\n                    </v-btn>\n                  </v-date-picker>\n                </v-menu>\n                <div class=\"danger-alert\">\n                  {{error}}\n                </div>\n              </v-col>\n              <v-col\n                cols=\"12\"\n                md=\"6\"\n                class=\"pa-6\">\n                <v-row>\n                  <download-excel\n                    class=\"btn mr-2\"\n                    :header=\"`出貨交易紀錄`\"\n                    :data=\"outward_trades\"\n                    :fields=\"outward_json_fields\"\n                    worksheet=\"出貨統計\"\n                    :name=\"dateText+'出貨交易.xls'\">\n                    下載出貨交易Excel\n                  </download-excel>\n                  <v-btn\n                    class=\"mb-2 \"\n                    @click=\"printAllReceipt\">\n                    列印出貨交易\n                  </v-btn>\n                </v-row>\n                <v-row>\n                  <download-excel\n                    class=\"btn mr-2\"\n                    :header=\"`糧食交易紀錄`\"\n                    :data=\"inward_rice_trades\"\n                    :fields=\"inward_rice_json_fields\"\n                    worksheet=\"糧食交易紀錄統計\"\n                    :name=\"dateText+'糧食交易紀錄.xls'\">\n                    下載糧食交易Excel\n                  </download-excel>\n                  <v-btn\n                    class=\"mb-2 \"\n                    @click=\"printInwardRiceReceipt\">\n                    列印糧食進出交易\n                  </v-btn>\n                </v-row>\n                <v-row>\n                  <download-excel\n                    class=\"btn mr-2\"\n                    :header=\"`客戶往來交易紀錄`\"\n                    :data=\"inward_trades\"\n                    :fields=\"inward_json_fields\"\n                    worksheet=\"客戶往來交易紀錄\"\n                    :name=\"dateText+'客戶往來交易紀錄.xls'\">\n                    下載客戶往來交易Excel\n                  </download-excel>\n                  <v-btn\n                    class=\"mb-2 \"\n                    @click=\"printInwardReceipt\">\n                    列印客戶往來交易\n                  </v-btn>\n                </v-row>\n              </v-col>\n            </v-row>\n          </div>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </IndexHeader>\n</template>\n\n<script>\nimport IndexHeader from '@/components/IndexHeader.vue'\nimport TradeService from '@/services/outwards/TradeService'\nimport OtherTradeService from '@/services/inwards/OtherTradeService'\nimport RiceTradeService from '@/services/inwards/RiceTradeService'\n\nexport default {\n  components: { IndexHeader},\n  data() {\n    return{\n      error:'',\n      menu:false,\n      dates:[],\n      dateText:'',\n      outward_json_fields: {\n        顧客: \"customer_name\",\n        日期: {\n          callback: (value) => {\n            return value.made_date.slice(0,10);\n          }\n        },\n        品名: \"name\",\n        數量: \"amount\",\n        包數: \"package\",\n        總數量: \"totalNumber\",\n        單位: \"sellUint\",\n        單價: 'uintPrice',\n        小計: \"aTradePrice\",\n        累計: \"grandPrice\",\n        貨運: \"transport\",\n        備註: \"comment\"\n      },\n      inward_json_fields: {\n        顧客: \"customer_name\",\n        日期: {\n          callback: (value) => {\n            return value.made_date.slice(0,10);\n          }\n        },\n        名稱: \"name\",\n        單價: \"uintPrice\",\n        數量: \"number\",\n        小計: \"aTradePrice\",\n        餘額: \"grandPrice\",\n        備註: \"comment\"\n      },\n      inward_rice_json_fields: {\n        顧客: \"customer_name\",\n        日期: {\n          callback: (value) => {\n            return value.made_date.slice(0,10);\n          }\n        },\n        品名: \"name\",\n        進: \"in\",\n        出: \"out\",\n        小計: \"stock\",\n        稻穀紀錄: \"go\",\n        備註: \"comment\"\n      },\n      json_meta: [\n        [\n          {\n            key: \"charset\",\n            value: \"utf-8\",\n          },\n        ],\n      ],\n      outward_trades:[],\n      inward_rice_trades:[],\n      inward_trades:[],\n    }\n  },\n  methods: {\n    dateRangeText () {\n      if(this.dates[1] == undefined){\n        this.dates[1] = this.dates[0]\n      }\n      if(new Date(this.dates[0])> new Date(this.dates[1])){\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + '~' + this.dates[1]\n    },\n    async getTrades(){\n      this.dateRangeText()\n      this.outward_trades = (await TradeService.indexByDates(this.dates[0]+','+this.dates[1])).data\n      // console.log(this.outward_trades)\n      this.inward_trades = (await OtherTradeService.indexByDates(this.dates[0]+','+this.dates[1])).data\n      // console.log(this.inward_trades)\n      this.inward_rice_trades = (await RiceTradeService.indexByDates(this.dates[0]+','+this.dates[1])).data\n      // console.log(this.inward_rice_trades)\n      this.error=\"\"\n      if(this.outward_trades.length == 0) this.error+=\"此時段無出貨交易資料\\n\"\n      if(this.inward_rice_trades.length == 0) this.error+=\"此時段無糧食交易資料\\n\"\n      if(this.inward_trades.length == 0) this.error+=\"此時段無客戶往來交易資料\\n\"\n    },\n    printAllReceipt(){\n      let routeData = this.$router.resolve({\n        name: 'printOutwardsAllTrade', \n        query: {\n          all: true,\n          formerSum:0,\n          sum: 0,\n          weight: 0\n        }\n      })\n      this.$store.dispatch('setPrintData', this.outward_trades)\n      this.$store.dispatch('setPrintCustomer', null)\n      window.open(routeData.href, '_blank')\n    },\n    printInwardReceipt(){\n      let routeData = this.$router.resolve({\n        name: 'printInwardsOtherTrade', \n        query: {\n          all: true,\n        }\n      })\n      this.$store.dispatch('setPrintData', this.inward_trades)\n      this.$store.dispatch('setPrintCustomer', null)\n      window.open(routeData.href, '_blank')\n    },\n    printInwardRiceReceipt(){\n      let routeData = this.$router.resolve({\n        name: 'printInwardsTrade', \n        query: {\n          all: true\n        }\n      });\n      this.$store.dispatch('setPrintData', this.inward_rice_trades)\n      this.$store.dispatch('setPrintCustomer', this.customerInfo)\n      window.open(routeData.href, '_blank')\n    },\n\n  }, \n}\n</script>\n\n<style scoped>\n.col-12{\n  padding: 12px 6px;\n}\n\n.title{\n  background: #1976D2;\n  color: #fff;\n  padding: 6px 10px;\n  margin: 0 auto;\n  text-align: center;\n}\n.border{\n  margin-top: 30px;\n  border: solid 3px #1976D2;\n  border-radius: 5px;\n}\n\n.v-application p {\n  margin-bottom:0;\n  color: #000; \n\n}\n\n.btn{\n  height: 36px;\n  min-width: 64px;\n  padding: 0 16px;\n  font-size: 0.875rem;\n  color: rgba(0, 0, 0, 0.87);\n  margin-bottom: 8px !important;\n  -webkit-appearance: button;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  align-items: center;\n  border-radius: 4px;\n  display: inline-flex;\n  flex: 0 0 auto;\n  font-weight: 500;\n  letter-spacing: 0.0892857143em;\n  justify-content: center;\n  outline: 0;\n  position: relative;\n  text-decoration: none;\n  text-indent: 0.0892857143em;\n  text-transform: uppercase;\n  transition-duration: 0.28s;\n  transition-property: box-shadow, transform, opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  cursor: pointer;\n  color: inherit;\n  border-style: none;\n  background-color: #f5f5f5;\n}\n\n.btn:after {\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n}\n\n.btn:hover {\n  filter: brightness(95%);\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=11e5af82&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=11e5af82&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11e5af82\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('IndexHeader',[_c('v-container',[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\",\"offset-xs3\":\"\"}},[_c('panel',{attrs:{\"title\":\"Register\"}},[_c('div',{staticClass:\"pl-4 pr-4 pt-2 pb-2\"},[_c('v-text-field',{attrs:{\"label\":\"Account\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":\"password\",\"autocomplete\":\"new-password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\" Register \")])],1)])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nexport default {\n  register (credentials) {\n    return Api().post('api/users/addUser', credentials)\n  },\n  login (credentials) {\n    return Api().post('api/users/login', credentials)\n  }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"white elevation-2\"},[_c('v-app-bar',{attrs:{\"flat\":\"\",\"dense\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-app-bar-title',[_vm._v(_vm._s(_vm.title))])],1),_vm._t(\"default\",function(){return [_vm._v(\" No slot content defined. \")]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"white elevation-2\">\n    <v-app-bar flat dense color=\"primary\" dark>\n      <v-app-bar-title>{{title}}</v-app-bar-title>\n    </v-app-bar>\n\n    <slot>\n      No slot content defined.\n    </slot>\n    \n  </div>\n</template>\n\n<script>\n  export default {\n    props:[\n      'title'\n    ]\n  }\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=3a6b9a62&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <IndexHeader> \n    <v-container>\n      <v-layout>\n        <v-flex xs6 offset-xs3>\n          <panel title=\"Register\">\n            <div class=\"pl-4 pr-4 pt-2 pb-2\">\n              <v-text-field\n                label=\"Account\"\n                v-model=\"account\"\n              ></v-text-field>\n              <v-text-field\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"password\"\n                autocomplete=\"new-password\"\n              ></v-text-field>\n                <v-btn\n                dark\n                color=\"primary\"\n                @click=\"register\">\n                Register\n                </v-btn>\n            </div>\n          </panel> \n        </v-flex>\n      </v-layout>\n    </v-container>\n  </IndexHeader>\n</template>\n\n<script>\nimport AuthenticationService from '@/services/AuthenticationService'\nimport Panel from './Panel.vue'\nimport IndexHeader from '@/components/IndexHeader.vue'\n\nexport default {\n  components: {\n    Panel,IndexHeader\n  },\n  data () {\n    return {\n      account: '',\n      password: '',\n      error: null\n    }\n  },\n  methods: {\n    async register () {\n      try {\n        const response = await AuthenticationService.register({\n          account: this.account,\n          password: this.password\n        })\n        this.$store.dispatch('setToken', response.data.token)\n        this.$store.dispatch('setUser', response.data.user)\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=e69b6abc&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e69b6abc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('IndexHeader',[_c('v-container',[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\",\"offset-xs3\":\"\"}},[_c('panel',{attrs:{\"title\":\"登入\"}},[_c('div',{staticClass:\"pl-4 pr-4 pt-2 pb-2\"},[_c('v-text-field',{attrs:{\"label\":\"帳號\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('v-text-field',{attrs:{\"label\":\"密碼\",\"type\":\"password\",\"autocomplete\":\"new-password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),(_vm.error)?_c('div',{staticClass:\"danger-alert\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\" 登入 \")])],1)])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <IndexHeader> \n    <v-container>\n      <v-layout>\n        <v-flex xs6 offset-xs3>\n          <panel title=\"登入\">\n            <div class=\"pl-4 pr-4 pt-2 pb-2\">\n              <v-text-field\n                label=\"帳號\"\n                v-model=\"account\"\n              ></v-text-field>\n              <v-text-field\n                label=\"密碼\"\n                type=\"password\"\n                v-model=\"password\"\n                autocomplete=\"new-password\">\n              </v-text-field>\n              <div class=\"danger-alert\" v-if=\"error\">{{error}}</div>\n              <v-btn\n                dark\n                color=\"primary\"\n                @click=\"login\">\n                登入\n              </v-btn>\n            </div>\n          </panel>\n        </v-flex>\n      </v-layout>\n    </v-container>\n  </IndexHeader> \n</template>\n\n<script>\nimport AuthenticationService from '@/services/AuthenticationService'\nimport Panel from './Panel.vue'\nimport IndexHeader from '@/components/IndexHeader.vue'\n\nexport default {\n  components: { Panel, IndexHeader},\n  data () {\n    return {\n      account: '',\n      password: '',\n      error: null\n    }\n  },\n  methods: {\n    async login () {\n      this.$loading(true)\n      try {\n        const response = await AuthenticationService.login({\n          account: this.account,\n          password: this.password\n        })\n        this.$store.dispatch('setToken', response.data.token)\n        this.$store.dispatch('setUser', response.data.user)\n        this.$router.push({\n        name: 'root'\n      })\n      } catch (error) {\n        this.error = error.response.data.error\n      }\n      this.$loading(false)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=59fd17ea&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs12\":\"\",\"offset-xs0\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'customer'\n            }}},[_c('h3',[_vm._v(\"顧客\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'product'\n            }}},[_c('h3',[_vm._v(\"產品\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'sellUint'\n            }}},[_c('h3',[_vm._v(\"販賣單位\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'cashMethod'\n            }}},[_c('h3',[_vm._v(\"入帳方式\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'transport'\n            }}},[_c('h3',[_vm._v(\"貨運\")])])],1)],1),_c('br'),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'trade',\n              params:{\n                customerName:'null'\n              }\n            }}},[_c('h3',[_vm._v(\"交易\")])])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('IndexHeader',[(!_vm.$store.state.isUserLoggedIn)?_c('v-container',[_vm._v(\" You have not login in yet \")]):_c('v-container',[_c('h1',[_vm._v(_vm._s(_vm.title)+\" 系 統\")]),_c('br'),_vm._t(\"default\",function(){return [_vm._v(\" No slot content defined. \")]})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <IndexHeader>\n    <v-container v-if=\"!$store.state.isUserLoggedIn\">\n      You have not login in yet\n    </v-container>\n    \n    <v-container v-else>\n      <h1>{{title}} 系 統</h1>\n      <br>\n\n      <slot>\n        No slot content defined.\n      </slot>\n      \n    </v-container>\n  </IndexHeader>\n</template>\n\n<script>\nimport IndexHeader from '@/components/IndexHeader.vue'\n\nexport default {\n  props:[\n    'title'\n  ],\n  components: {\n    IndexHeader\n  }\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitlePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TitlePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitlePanel.vue?vue&type=template&id=507493ac&scoped=true&\"\nimport script from \"./TitlePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./TitlePanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"507493ac\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <titlepanel title=\"出 貨 \">\n    <v-layout>\n      <v-flex xs12 offset-xs0>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"3\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'customer'\n              }\">\n              <h3>顧客</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"3\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'product'\n              }\">\n              <h3>產品</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"2\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'sellUint'\n              }\">\n              <h3>販賣單位</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"2\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'cashMethod'\n              }\">\n              <h3>入帳方式</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"2\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'transport'\n              }\">\n              <h3>貨運</h3>\n            </v-btn>\n          </v-col>\n        </v-row>\n        <br>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'trade',\n                params:{\n                  customerName:'null'\n                }\n              }\">\n              <h3>交易</h3>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-flex>\n    </v-layout>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\n\nexport default {\n  components: { Titlepanel },\n  data() {\n    return{\n    }\n  }\n}\n</script>\n\n<style scoped>\n.col-12{\n  padding: 12px 6px;\n}\n\n\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8d88e936&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8d88e936&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d88e936\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"交易日期篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex pt-3\",attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.date == null},on:{\"click\":_vm.serchDateCustomer}},[_vm._v(\" 搜尋 \")]),_c('v-btn',{staticClass:\"ml-2\"},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.initialize}},[_vm._v(\" mdi-refresh \")])],1)],1)],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\" 顧客資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋顧客\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.customers,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增顧客 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[(_vm.editedIndex==-1)?_c('v-text-field',{attrs:{\"label\":\"顧客姓名\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}}):_c('v-text-field',{attrs:{\"label\":\"顧客姓名（無法修改）\",\"readonly\":\"\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"地址\"},model:{value:(_vm.editedItem.address),callback:function ($$v) {_vm.$set(_vm.editedItem, \"address\", $$v)},expression:\"editedItem.address\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"住家電話\"},model:{value:(_vm.editedItem.homePhone),callback:function ($$v) {_vm.$set(_vm.editedItem, \"homePhone\", $$v)},expression:\"editedItem.homePhone\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"手機電話\"},model:{value:(_vm.editedItem.phone),callback:function ($$v) {_vm.$set(_vm.editedItem, \"phone\", $$v)},expression:\"editedItem.phone\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"聯絡人\"},model:{value:(_vm.editedItem.contact),callback:function ($$v) {_vm.$set(_vm.editedItem, \"contact\", $$v)},expression:\"editedItem.contact\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"統編/身分證號碼\"},model:{value:(_vm.editedItem.taxId),callback:function ($$v) {_vm.$set(_vm.editedItem, \"taxId\", $$v)},expression:\"editedItem.taxId\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個客戶嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.navigateTo({\n          name: 'trade',\n          params: {\n            customerName: item.name\n          }\n        })}}},[_vm._v(\" mdi-eye \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/outwards/customers/'\n\nexport default {\n  index () {\n    return Api().get(`${url}allCustomers`)\n  },\n  get (name) {\n    return Api().get(`${url}${name}`)\n  },\n  post (item) {\n    return Api().post(`${url}addCustomer`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}","<template>\n  <titlepanel title=\"出 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n          <b>交易日期篩選條件</b>\n      </div>\n      <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"date\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"date\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\">\n              </v-text-field>\n            </template>\n            <v-date-picker\n              v-model=\"date\"\n              no-title\n              scrollable>\n              <v-spacer></v-spacer>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"menu = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.menu.save(date)\">\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"3\"\n          class=\" d-flex pt-3\">\n          <v-btn\n            :disabled = \"date == null\"\n            @click=\"serchDateCustomer\">\n            搜尋\n          </v-btn>\n          <v-btn\n            class=\"ml-2\">\n            <v-icon\n              small\n              @click=\"initialize\">\n              mdi-refresh\n            </v-icon>\n          </v-btn>\n        </v-col>\n\n        <!-- <v-col\n          v-if=\"searchRicekind != ''\"\n          cols=\"12\"\n          md=\"4\"\n          class=\"pl-0 d-flex flex-row \">\n          <b class=\"text1\">{{this.date}}進貨{{this.sum}}份</b>\n        </v-col> -->\n      </v-row>\n    </div>\n\n    <v-card>\n    <v-card-title>\n      顧客資料\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋顧客\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"customers\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增顧客\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-text-field\n                      v-if=\"editedIndex==-1\"\n                      v-model=\"editedItem.name\"\n                      label=\"顧客姓名\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                    <v-text-field\n                      v-else\n                      v-model=\"editedItem.name\"\n                      label=\"顧客姓名（無法修改）\"\n                      readonly\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.address\"\n                      label=\"地址\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.homePhone\"\n                      label=\"住家電話\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.phone\"\n                      label=\"手機電話\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.contact\"\n                      label=\"聯絡人\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.taxId\"\n                      label=\"統編/身分證號碼\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{error}}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個客戶嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n        <v-icon\n          small\n          @click=\"navigateTo({\n            name: 'trade',\n            params: {\n              customerName: item.name\n            }\n          })\">\n          mdi-eye\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">你還沒新增資料</p>\n        <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n        <v-btn\n          class=\"mb-3\"\n          color=\"primary\"\n          @click=\"initialize\">\n          重整\n        </v-btn>\n      </template>\n\n    </v-data-table>\n    </v-card>\n\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport CustomerService from '@/services/outwards/CustomerService'\nimport TradeService from '@/services/outwards/TradeService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    date:'',\n    menu:false,\n    error:'',\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '顧客',\n        align: 'start',\n        sortable: false,\n        value: 'name',\n      },\n      { text: '地址', value: 'address', sortable: false},\n      { text: '住家電話', value: 'homePhone', sortable: false, width: '120px'},\n      { text: '手機電話', value: 'phone', sortable: false, width: '120px'},\n      { text: '聯絡人', value: 'contact', sortable: false},      \n      { text: '統編/身分證號碼', value: 'taxId', sortable: false, width: '130px'},\n      { text: '功能', value: 'actions', sortable: false },\n    ],\n    customers: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      address: '',\n      phone: '',\n      homePhone: '',\n      contact:'',\n      taxId: ''\n    },\n    defaultItem: {\n      name: '',\n      address: '',\n      phone: '',\n      homePhone: '',\n      contact:'',\n      taxId: ''\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增顧客' : '編輯顧客'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n\n    async serchDateCustomer(){\n      this.$loading(true)\n      var trades = (await TradeService.indexByDates([this.date,this.date])).data\n      var set = new Set()\n      trades.forEach(item=>{\n        set.add(item.customer_name)\n      })\n      this.customers = []\n      for (const x of set.values()) {\n        var item = (await CustomerService.get(x)).data[0]\n        this.customers.push(item)\n      }      \n      this.customers.sort((a,b) =>{return a.name.localeCompare(b.name, \"zh-Hant\")})\n      this.$loading(false)\n    },\n\n    navigateTo (route) {\n      this.$router.push(route)\n    },\n\n    async initialize () {\n      this.customers = (await CustomerService.index()).data\n    },\n\n    editItem (item) {\n      this.editedIndex = this.customers.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.customers.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await CustomerService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error=\"\"\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save () {\n      this.$loading(true)\n      if (this.editedIndex > -1) {\n        try{\n          await CustomerService.put(this.editedItem)\n          Object.assign(this.customers[this.editedIndex], this.editedItem)\n        }catch(err){\n          console.log(err)\n        }\n      } else {\n        const checkSameItem = (item) => item.name == this.editedItem.name;\n        if(this.customers.some(checkSameItem)) {\n          this.error=\"你有相同的顧客名字\"\n          this.$loading(false)\n          return\n        }\n        \n        try{\n          await CustomerService.post(this.editedItem)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customer.vue?vue&type=template&id=c75e8f62&\"\nimport script from \"./Customer.vue?vue&type=script&lang=js&\"\nexport * from \"./Customer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" 貨運資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋貨運\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.transports,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增貨運 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"貨運名稱\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"車牌\"},model:{value:(_vm.editedItem.license),callback:function ($$v) {_vm.$set(_vm.editedItem, \"license\", $$v)},expression:\"editedItem.license\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"電話\"},model:{value:(_vm.editedItem.phone),callback:function ($$v) {_vm.$set(_vm.editedItem, \"phone\", $$v)},expression:\"editedItem.phone\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個貨運品項嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/outwards/'\n\nexport default {\n  index () {\n    return Api().get(`${url}transports/allTransports`)\n  },\n  post (item) {\n    return Api().post(`${url}transports/addTransport`, item)\n  },\n  put (item) {\n    return Api().put(`${url}transports/${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}transports/${item.id}`)\n  }\n}","<template>\n  <titlepanel title=\"出 貨 \">\n    <v-card>\n    <v-card-title>\n      貨運資料\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋貨運\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"transports\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增貨運\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"貨運名稱\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.license\"\n                      label=\"車牌\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.phone\"\n                      label=\"電話\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{error}}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個貨運品項嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon> \n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">你還沒新增資料</p>\n        <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n        <v-btn\n          class=\"mb-3\"\n          color=\"primary\"\n          @click=\"initialize\">\n          重整\n        </v-btn>\n      </template>\n\n    </v-data-table>\n    </v-card>\n\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport TransportService from '@/services/outwards/TransportService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    error:'',\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {text: '貨運名稱', align: 'start', sortable: false, value: 'name'},\n      { text: '車牌', value: 'license', sortable: false},\n      { text: '電話', value: 'phone', sortable: false},\n      { text: '功能', value: 'actions', sortable: false },\n    ],\n    transports: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      address: '',\n      phone: ''\n    },\n    defaultItem: {\n      name: '',\n      license: '',\n      phone: ''\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增貨運' : '編輯貨運'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n\n    async initialize () {\n      this.transports = (await TransportService.index()).data\n    },\n\n    editItem (item) {\n      this.editedIndex = this.transports.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.transports.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    }, \n\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await TransportService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error=\"\"\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n\n    async save () {\n      this.$loading(true)\n      if (this.editedIndex > -1) {\n        try{\n          await TransportService.put(this.editedItem)\n          Object.assign(this.transports[this.editedIndex], this.editedItem)\n        }catch(err){\n          console.log(err)\n        }\n      } else {\n        const checkSameItem = (item) => item.name == this.editedItem.name;\n        if(this.transports.some(checkSameItem)) {\n          this.error=\"你有相同的貨運名字\"\n          this.$loading(false)\n          return\n        }\n        \n        try{\n          await TransportService.post(this.editedItem)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Transport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Transport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Transport.vue?vue&type=template&id=0b2f46f8&\"\nimport script from \"./Transport.vue?vue&type=script&lang=js&\"\nexport * from \"./Transport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" 商品資訊 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋商品\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.products,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增商品 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[(_vm.editedIndex != -1)?_c('div',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"商品名稱（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"數量（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}}),_c('v-select',{attrs:{\"items\":_vm.productUints,\"label\":\"單位（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.uint),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uint\", $$v)},expression:\"editedItem.uint\"}})],1)],1):_c('div',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"商品名稱\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"數量\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}}),_c('v-select',{attrs:{\"items\":_vm.productUints,\"label\":\"單位\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.uint),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uint\", $$v)},expression:\"editedItem.uint\"}})],1)],1),_c('v-row',[_c('v-select',{staticClass:\"pr-4\",attrs:{\"items\":_vm.productSellUint,\"label\":\"販賣單位\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.sellUint),callback:function ($$v) {_vm.$set(_vm.editedItem, \"sellUint\", $$v)},expression:\"editedItem.sellUint\"}}),_c('v-text-field',{attrs:{\"label\":\"單價\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.price),callback:function ($$v) {_vm.$set(_vm.editedItem, \"price\", $$v)},expression:\"editedItem.price\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name=='' || _vm.editedItem.number=='' || _vm.editedItem.uint=='' || _vm.editedItem.sellUint=='' || _vm.editedItem.price==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個商品嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/outwards/'\n\nexport default {\n  index () {\n    return Api().get(`${url}products/allProducts`)\n  },\n  post (item) {\n    return Api().post(`${url}products/addProduct`, item)\n  },\n  put (item) {\n    return Api().put(`${url}products/${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}products/${item.id}`)\n  }\n}","import Api from '@/services/Api'\n\nconst url = 'api/outwards/'\n\nexport default {\n  index () {\n    return Api().get(`${url}sellUints/allSellUints`)\n  },\n  post (item) {\n    return Api().post(`${url}sellUints/addSellUint`, item)\n  },\n  put (item) {\n    return Api().put(`${url}sellUints/${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}sellUints/${item.id}`)\n  }\n}","<template>\n  <titlepanel title=\"出 貨 \">\n\n    <v-card>\n    <v-card-title>\n      商品資訊\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋商品\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"products\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增商品\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <div v-if=\"editedIndex != -1\">\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"商品名稱（無法修改）\"\n                      readonly>\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                      <v-text-field\n                        class=\"pr-4\"\n                        v-model=\"editedItem.number\"\n                        label=\"數量（無法修改）\"\n                        readonly>\n                      </v-text-field>\n                      <v-select\n                        v-model=\"editedItem.uint\"\n                        :items=\"productUints\"\n                        label=\"單位（無法修改）\"\n                        readonly>\n                      </v-select>\n                  </v-row>\n                  </div>\n                  <div v-else>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"商品名稱\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                      <v-text-field\n                        class=\"pr-4\"\n                        v-model=\"editedItem.number\"\n                        label=\"數量\"\n                        :rules=\"[required]\">\n                      </v-text-field>\n                      <v-select\n                        v-model=\"editedItem.uint\"\n                        :items=\"productUints\"\n                        label=\"單位\"\n                        :rules=\"[required]\">\n                      </v-select>\n                  </v-row>\n                  </div>\n                  <v-row>\n                      <v-select\n                        class=\"pr-4\"\n                        v-model=\"editedItem.sellUint\"\n                        :items=\"productSellUint\"\n                        label=\"販賣單位\"\n                        :rules=\"[required]\">\n                      </v-select>\n                      <v-text-field\n                        v-model=\"editedItem.price\"\n                        label=\"單價\"\n                        :rules=\"[required]\">\n                      </v-text-field>\n                  </v-row>\n                </v-container>\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{error}}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name=='' || editedItem.number=='' || editedItem.uint=='' || editedItem.sellUint=='' || editedItem.price==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個商品嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">你還沒新增資料</p>\n        <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n        <v-btn\n          class=\"mb-3\"\n          color=\"primary\"\n          @click=\"initialize\">\n          重整\n        </v-btn>\n      </template>\n\n    </v-data-table>\n    </v-card>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport ProductService from '@/services/outwards/ProductService'\nimport SellUintService from '@/services/outwards/SellUintService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    error:'',\n    productUints:['公斤', '台斤', '件', '批'],\n    productSellUint:[],\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '商品',\n        align: 'start',\n        sortable: false,\n        value: 'name',\n      },\n      { text: '數量', value: 'number', sortable: false},\n      { text: '單位', value: 'uint', sortable: false},\n      { text: '販賣單位', value: 'sellUint', sortable: false},\n      { text: '單價', value: 'price', sortable: false},\n      { text: '功能', value: 'actions', sortable: false }\n    ],\n    products: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      number: '',\n      uint: '',\n      sellUint: '',\n      price: ''\n    },\n    defaultItem: {\n      name: '',\n      number: '',\n      uint: '',\n      sellUint: '',\n      price: ''\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增商品' : '編輯商品'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n\n    checkInp(x){\n      if (isNaN(x)){\n        this.error=\"請輸入正確格式\";\n        return true;\n      }\n      return false;\n    },\n    async initialize () {\n      this.products = (await ProductService.index()).data\n      this.productSellUint = (await SellUintService.index()).data.map(value => value.name).sort((a,b) =>{return a.localeCompare(b, \"zh-Hant\")})\n    },\n\n    editItem (item) {\n      this.editedIndex = this.products.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.products.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await ProductService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error=\"\"\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save () {\n      this.$loading(true)\n      var item = this.editedItem\n\n      // check input is correct\n      if(this.checkInp(item.number) || this.checkInp(item.price)) {\n        this.$loading(false)\n        return\n      }\n      if (this.editedIndex > -1) {\n        try{\n          await ProductService.put(item)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      } else {\n        item.full_name = `${item.name}${item.number}${item.uint}`\n        try{\n          await ProductService.post(item)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=53effabe&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.customerNames,\"label\":\"顧客選項\",\"dense\":\"\",\"outlined\":\"\",\"solo\":\"\"},model:{value:(_vm.searchCustomer),callback:function ($$v) {_vm.searchCustomer=$$v},expression:\"searchCustomer\"}})],1),_c('v-col',{staticClass:\"pt-3\",attrs:{\"cols\":\"12\",\"md\":\"1\"}},[_c('v-btn',{staticClass:\"d-flex\",attrs:{\"depressed\":\"\",\"disabled\":_vm.searchCustomer == 'null',\"to\":{\n            name: 'trade',\n            params: {\n              customerName: _vm.searchCustomer,\n            },\n          }},on:{\"click\":this.initialize}},[_vm._v(\" 搜尋 \")])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates)\n                _vm.filterTrades()}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex flex-row\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('today')}}},[_vm._v(\"今日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('week')}}},[_vm._v(\"前七日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('month')}}},[_vm._v(\"前一個月\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('year')}}},[_vm._v(\"前一年\")])],1)],1)],1),(_vm.customerName == 'null')?_c('div',[_vm._v(\"請選擇上面的顧客選項\")]):_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.trades,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('div',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.customerName)+\" 交易資料\")]),_c('p',[_vm._v(_vm._s(_vm.customerInfo.homePhone)+\" | \"+_vm._s(_vm.customerInfo.phone))])],1),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('download-excel',{staticClass:\"btn\",attrs:{\"header\":`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${_vm.customerInfo.taxId} 廠商姓名： ${_vm.customerInfo.name}\\n 廠商地址： ${_vm.customerInfo.address}\\n 廠商手機： ${_vm.customerInfo.homePhone} 廠商手機： ${_vm.customerInfo.phone}`,\"data\":_vm.trades,\"fields\":_vm.json_fields,\"worksheet\":\"出貨統計\",\"name\":_vm.customerName + '出貨交易.xls'}},[_vm._v(\" 下載Excel \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printEnvelope}},[_vm._v(\" 列印信封 \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printAllReceipt}},[_vm._v(\" 列印交易紀錄 \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printSomeReceipt}},[_vm._v(\" 列印出貨單 \")]),_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2 mr-2\",attrs:{\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增交易 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"change-position\"},[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))]),_c('v-spacer'),(_vm.editedIndex == -1)?_c('v-switch',{attrs:{\"inset\":\"\",\"label\":`${_vm.switch1 === true ? '付款模式' : '訂單模式'}`},on:{\"change\":function($event){_vm.editedItem = Object.assign({}, _vm.defaultItem)}},model:{value:(_vm.switch1),callback:function ($$v) {_vm.switch1=$$v},expression:\"switch1\"}}):_vm._e()],1),_c('v-card-text',[(!_vm.switch1)?_c('v-container',[_c('v-row',[(_vm.editedIndex != -1)?_c('v-text-field',{attrs:{\"label\":\"交易日期（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.formMadeDate),callback:function ($$v) {_vm.formMadeDate=$$v},expression:\"formMadeDate\"}}):_c('v-menu',{ref:\"menu_made_date\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.editedItem.made_date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"交易日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},'v-text-field',attrs,false),on))]}}],null,false,545477903),model:{value:(_vm.menu_made_date),callback:function ($$v) {_vm.menu_made_date=$$v},expression:\"menu_made_date\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu_made_date = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu_made_date.save(_vm.editedItem.made_date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-row',[_c('v-col',{staticClass:\"pa-0\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.productNames,\"label\":\"商品選項\",\"rules\":[_vm.required]},on:{\"input\":_vm.chooseProduct},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-col',{staticClass:\"ml-2 pa-0\"},[_c('v-text-field',{attrs:{\"label\":\"單價\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.uintPrice),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uintPrice\", $$v)},expression:\"editedItem.uintPrice\"}})],1)],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"數量\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.amount),callback:function ($$v) {_vm.$set(_vm.editedItem, \"amount\", $$v)},expression:\"editedItem.amount\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"包數\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.package),callback:function ($$v) {_vm.$set(_vm.editedItem, \"package\", $$v)},expression:\"editedItem.package\"}})],1),_c('v-row',[_c('v-autocomplete',{attrs:{\"items\":_vm.transportNames,\"label\":\"貨運\"},model:{value:(_vm.editedItem.transport),callback:function ($$v) {_vm.$set(_vm.editedItem, \"transport\", $$v)},expression:\"editedItem.transport\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1):_c('v-container',[_c('v-row',[(_vm.editedIndex != -1)?_c('v-text-field',{attrs:{\"label\":\"交易日期（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.formMadeDate),callback:function ($$v) {_vm.formMadeDate=$$v},expression:\"formMadeDate\"}}):_c('v-menu',{ref:\"menu_made_date\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.editedItem.made_date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"交易日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu_made_date),callback:function ($$v) {_vm.menu_made_date=$$v},expression:\"menu_made_date\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu_made_date = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu_made_date.save(_vm.editedItem.made_date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-row',[_c('v-autocomplete',{attrs:{\"items\":_vm.cashMethod,\"label\":\"入帳選項\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"現金收款\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.aTradePrice),callback:function ($$v) {_vm.$set(_vm.editedItem, \"aTradePrice\", $$v)},expression:\"editedItem.aTradePrice\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),(_vm.switch1)?_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name == '' ||\n                  _vm.editedItem.aTradePrice == '' ||\n                  _vm.editedItem.made_date == ''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")]):_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name == '' ||\n                  _vm.editedItem.uintPrice == '' ||\n                  _vm.editedItem.amount == '' ||\n                  _vm.editedItem.package == '' ||\n                  _vm.editedItem.made_date == '' ||\n                  _vm.editedItem.uintPrice == ''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個交易嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true},_vm._l((_vm.headers.filter((header) =>\n        header.hasOwnProperty('formatter')\n      )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [(header.value == 'grandPrice' && value > 0)?_c('div',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value < 0)?_c('div',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value == 0)?_c('div',{staticClass:\"zero\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]}}})],null,true)})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/outwards/'\n\nexport default {\n  index () {\n    return Api().get(`${url}cashMethods/allcashMethods`)\n  },\n  post (item) {\n    return Api().post(`${url}cashMethods/addcashMethod`, item)\n  },\n  put (item) {\n    return Api().put(`${url}cashMethods/${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}cashMethods/${item.id}`)\n  }\n}","<template>\n  <titlepanel title=\"出 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n        <b>篩選條件</b>\n      </div>\n      <v-row>\n        <v-col cols=\"12\" md=\"3\">\n          <v-autocomplete\n            v-model=\"searchCustomer\"\n            :items=\"customerNames\"\n            label=\"顧客選項\"\n            dense\n            outlined\n            solo\n          />\n        </v-col>\n\n        <v-col cols=\"12\" md=\"1\" class=\"pt-3\">\n          <v-btn\n            class=\"d-flex\"\n            depressed\n            :disabled=\"searchCustomer == 'null'\"\n            :to=\"{\n              name: 'trade',\n              params: {\n                customerName: searchCustomer,\n              },\n            }\"\n            @click=\"this.initialize\"\n          >\n            搜尋\n          </v-btn>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"dateText\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n              </v-text-field>\n            </template>\n            <v-date-picker v-model=\"dates\" no-title range>\n              <v-spacer></v-spacer>\n              <v-btn text color=\"primary\" @click=\"menu = false\"> Cancel </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"\n                  $refs.menu.save(dates)\n                  filterTrades()\n                \"\n              >\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\" class=\"d-flex flex-row\">\n          <v-btn @click=\"changeDate('today')\">今日</v-btn>\n          <v-btn @click=\"changeDate('week')\">前七日</v-btn>\n          <v-btn @click=\"changeDate('month')\">前一個月</v-btn>\n          <v-btn @click=\"changeDate('year')\">前一年</v-btn>\n        </v-col>\n      </v-row>\n    </div>\n    <div v-if=\"customerName == 'null'\">請選擇上面的顧客選項</div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"trades\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      v-else\n    >\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <div>\n            <v-toolbar-title>{{ customerName }} 交易資料</v-toolbar-title>\n            <p>{{ customerInfo.homePhone }} | {{ customerInfo.phone }}</p>\n          </div>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n\n          <v-dialog v-model=\"dialog\" max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <download-excel\n                class=\"btn\"\n                :header=\"`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${customerInfo.taxId} 廠商姓名： ${customerInfo.name}\\n 廠商地址： ${customerInfo.address}\\n 廠商手機： ${customerInfo.homePhone} 廠商手機： ${customerInfo.phone}`\"\n                :data=\"trades\"\n                :fields=\"json_fields\"\n                worksheet=\"出貨統計\"\n                :name=\"customerName + '出貨交易.xls'\"\n              >\n                下載Excel\n              </download-excel>\n\n              <v-btn class=\"mb-2 mr-2\" @click=\"printEnvelope\"> 列印信封 </v-btn>\n\n              <v-btn class=\"mb-2 mr-2\" @click=\"printAllReceipt\">\n                列印交易紀錄\n              </v-btn>\n\n              <v-btn class=\"mb-2 mr-2\" @click=\"printSomeReceipt\">\n                列印出貨單\n              </v-btn>\n\n              <v-btn color=\"primary\" class=\"mb-2 mr-2\" v-bind=\"attrs\" v-on=\"on\">\n                新增交易\n              </v-btn>\n            </template>\n\n            <v-card class=\"change-position\">\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n                <v-spacer></v-spacer>\n                <v-switch\n                  @change=\"editedItem = Object.assign({}, defaultItem)\"\n                  v-if=\"editedIndex == -1\"\n                  v-model=\"switch1\"\n                  inset\n                  :label=\"`${switch1 === true ? '付款模式' : '訂單模式'}`\"\n                ></v-switch>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container v-if=\"!switch1\">\n                  <v-row>\n                    <v-text-field\n                      v-if=\"editedIndex != -1\"\n                      v-model=\"formMadeDate\"\n                      label=\"交易日期（無法修改）\"\n                      readonly\n                    >\n                    </v-text-field>\n                    <v-menu\n                      v-else\n                      ref=\"menu_made_date\"\n                      v-model=\"menu_made_date\"\n                      :close-on-content-click=\"false\"\n                      :return-value.sync=\"editedItem.made_date\"\n                      transition=\"scale-transition\"\n                      offset-y\n                      min-width=\"auto\"\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field\n                          v-model=\"editedItem.made_date\"\n                          label=\"交易日期\"\n                          prepend-icon=\"mdi-calendar\"\n                          readonly\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        >\n                        </v-text-field>\n                      </template>\n                      <v-date-picker\n                        v-model=\"editedItem.made_date\"\n                        no-title\n                        scrollable\n                      >\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"menu_made_date = false\"\n                        >\n                          Cancel\n                        </v-btn>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"\n                            $refs.menu_made_date.save(editedItem.made_date)\n                          \"\n                        >\n                          OK\n                        </v-btn>\n                      </v-date-picker>\n                    </v-menu>\n                  </v-row>\n                  <v-row>\n                    <v-col class=\"pa-0\">\n                      <v-autocomplete\n                        v-model=\"editedItem.name\"\n                        :items=\"productNames\"\n                        label=\"商品選項\"\n                        :rules=\"[required]\"\n                        @input=\"chooseProduct\"\n                      />\n                    </v-col>\n                    <v-col class=\"ml-2 pa-0\">\n                      <v-text-field\n                        v-model=\"editedItem.uintPrice\"\n                        label=\"單價\"\n                        :rules=\"[required]\"\n                      >\n                      </v-text-field>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.amount\"\n                      label=\"數量\"\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.package\"\n                      label=\"包數\"\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-autocomplete\n                      v-model=\"editedItem.transport\"\n                      :items=\"transportNames\"\n                      label=\"貨運\"\n                    />\n                  </v-row>\n                  <v-row>\n                    <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-else>\n                  <v-row>\n                    <v-text-field\n                      v-if=\"editedIndex != -1\"\n                      v-model=\"formMadeDate\"\n                      label=\"交易日期（無法修改）\"\n                      readonly\n                    >\n                    </v-text-field>\n                    <v-menu\n                      v-else\n                      ref=\"menu_made_date\"\n                      v-model=\"menu_made_date\"\n                      :close-on-content-click=\"false\"\n                      :return-value.sync=\"editedItem.made_date\"\n                      transition=\"scale-transition\"\n                      offset-y\n                      min-width=\"auto\"\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-text-field\n                          v-model=\"editedItem.made_date\"\n                          label=\"交易日期\"\n                          prepend-icon=\"mdi-calendar\"\n                          readonly\n                          v-bind=\"attrs\"\n                          v-on=\"on\"\n                        >\n                        </v-text-field>\n                      </template>\n                      <v-date-picker\n                        v-model=\"editedItem.made_date\"\n                        no-title\n                        scrollable\n                      >\n                        <v-spacer></v-spacer>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"menu_made_date = false\"\n                        >\n                          Cancel\n                        </v-btn>\n                        <v-btn\n                          text\n                          color=\"primary\"\n                          @click=\"\n                            $refs.menu_made_date.save(editedItem.made_date)\n                          \"\n                        >\n                          OK\n                        </v-btn>\n                      </v-date-picker>\n                    </v-menu>\n                  </v-row>\n                  <v-row>\n                    <v-autocomplete\n                      v-model=\"editedItem.name\"\n                      :items=\"cashMethod\"\n                      label=\"入帳選項\"\n                      :rules=\"[required]\"\n                    />\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.aTradePrice\"\n                      label=\"現金收款\"\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{ error }}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"close\"> 取消 </v-btn>\n                <v-btn\n                  v-if=\"switch1\"\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"\n                    editedItem.name == '' ||\n                    editedItem.aTradePrice == '' ||\n                    editedItem.made_date == ''\n                  \"\n                >\n                  儲存\n                </v-btn>\n                <v-btn\n                  v-else\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"\n                    editedItem.name == '' ||\n                    editedItem.uintPrice == '' ||\n                    editedItem.amount == '' ||\n                    editedItem.package == '' ||\n                    editedItem.made_date == '' ||\n                    editedItem.uintPrice == ''\n                  \"\n                >\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\"\n                >你確定要刪掉這個交易嗎？</v-card-title\n              >\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                  >取消</v-btn\n                >\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                  >確認</v-btn\n                >\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <!-- <v-dialog v-model=\"dialogCashTime\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">付款時間為 {{currentTime.toLocaleString()}}</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeCashTime\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"CashTimeItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog> -->\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n        <v-icon small class=\"mr-2\" @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n        <!-- <v-icon\n          v-if=\"item.pay==true\"\n          dense\n          @click=\"addCashDate(item)\">\n          mdi-check-circle\n        </v-icon> -->\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">你還沒新增資料</p>\n        <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n        <v-btn class=\"mb-3\" color=\"primary\" @click=\"initialize\"> 重整 </v-btn>\n      </template>\n\n      <template\n        v-for=\"header in headers.filter((header) =>\n          header.hasOwnProperty('formatter')\n        )\"\n        v-slot:[`item.${header.value}`]=\"{ header, value }\"\n      >\n        <div v-if=\"header.value == 'grandPrice' && value > 0\" class=\"blue-text\">\n          {{ header.formatter(value) }}\n        </div>\n        <div\n          v-else-if=\"header.value == 'grandPrice' && value < 0\"\n          class=\"red-text\"\n        >\n          {{ header.formatter(value) }}\n        </div>\n        <div\n          v-else-if=\"header.value == 'grandPrice' && value == 0\"\n          class=\"zero\"\n        >\n          {{ header.formatter(value) }}\n        </div>\n        <div v-else>\n          {{ header.formatter(value) }}\n        </div>\n      </template>\n    </v-data-table>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from \"../TitlePanel.vue\"\nimport ProductService from \"@/services/outwards/ProductService\"\nimport TradeService from \"@/services/outwards/TradeService\"\nimport CashMethodService from \"@/services/outwards/CashMethodService\"\nimport TransportService from \"@/services/outwards/TransportService\"\nimport CustomerService from \"@/services/outwards/CustomerService\"\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    error: \"\",\n    json_fields: {\n      日期: {\n        callback: (value) => {\n          return value.made_date.slice(0, 10)\n        },\n      },\n      品名: \"name\",\n      數量: \"amount\",\n      包數: \"package\",\n      總數量: \"totalNumber\",\n      單位: \"sellUint\",\n      單價: \"uintPrice\",\n      小計: \"aTradePrice\",\n      累計: \"grandPrice\",\n      貨運: \"transport\",\n      備註: \"comment\",\n    },\n    json_meta: [\n      [\n        {\n          key: \"charset\",\n          value: \"utf-8\",\n        },\n      ],\n    ],\n    formerSum: 0,\n    sum: 0,\n    weight: 0,\n    today: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n      .toISOString()\n      .substr(0, 10),\n    dateText: \"\",\n    dates: [],\n    menu: false,\n    menu_made_date: false,\n\n    searchCustomer: \"null\",\n    switch1: false,\n    cashMethod: [],\n    productNames: [],\n    transportNames: [],\n    customerNames: [],\n    customerName: \"\",\n    customerInfo: {},\n    required: (value) => (value + \"\").length !== 0 || \"Required.\",\n    dialog: false,\n    dialogDelete: false,\n    dialogCashTime: false,\n    headers: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"產品\", align: \"start\", sortable: false, value: \"name\" },\n      {\n        text: \"數量\",\n        value: \"amount\",\n        sortable: false,\n        formatter: (x) =>\n          x ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"包數\",\n        value: \"package\",\n        sortable: false,\n        formatter: (x) =>\n          x ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"總數量\",\n        value: \"totalNumber\",\n        sortable: false,\n        formatter: (x) =>\n          x ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"單位\",\n        value: \"sellUint\",\n        sortable: false,\n        formatter: (x) => (x ? x : \"-\"),\n      },\n      {\n        text: \"單價\",\n        value: \"uintPrice\",\n        sortable: false,\n        formatter: (x) =>\n          x != null ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"小計\",\n        value: \"aTradePrice\",\n        sortable: false,\n        formatter: (x) =>\n          x != null ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"累計\",\n        value: \"grandPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"貨運\",\n        value: \"transport\",\n        sortable: false,\n        formatter: (x) => (x ? x : \"-\"),\n      },\n      { text: \"備註\", value: \"comment\", sortable: false },\n      { text: \"功能\", value: \"actions\", sortable: false, width: \"10%\" },\n    ],\n    cashMethodArr: [],\n    changeItemId: null,\n    productArr: [],\n    trades: [],\n    allTrades: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      uintPrice: \"\",\n      amount: \"\",\n      package: \"\",\n      aTradePrice: \"\",\n      transport: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n    defaultItem: {\n      name: \"\",\n      uintPrice: \"\",\n      amount: \"\",\n      package: \"\",\n      aTradePrice: \"\",\n      transport: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n  }),\n\n  mounted() {},\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"新增交易\" : \"編輯交易\"\n    },\n    formMadeDate() {\n      return this.editedItem.made_date.slice(0, 10)\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      this.switch1 = this.editedItem.pay\n      val || this.close()\n    },\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n    dialogCashTime(val) {\n      val || this.closeCashTime()\n    },\n  },\n\n  created() {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    chooseProduct() {\n      this.editedItem.uintPrice = this.productArr[this.editedItem.name].price\n    },\n\n    checkInp(x) {\n      if (isNaN(x)) {\n        this.error = \"should input number\"\n        return true\n      }\n      return false\n    },\n    printEnvelope() {\n      let routeData = this.$router.resolve({ name: \"printEnvelope\" })\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n    printSomeReceipt() {\n      this.calculatePriceAndWeight()\n\n      let routeData = this.$router.resolve({\n        name: \"printOutwardsSomeTrade\",\n        query: {\n          formerSum: this.formerSum,\n          sum: this.sum,\n          weight: this.weight,\n        },\n      })\n      this.$store.dispatch(\"setPrintData\", this.trades)\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n    printAllReceipt() {\n      this.calculatePriceAndWeight()\n\n      let routeData = this.$router.resolve({\n        name: \"printOutwardsAllTrade\",\n        query: {\n          all: false,\n          formerSum: this.formerSum,\n          sum: this.sum,\n          weight: this.weight,\n        },\n      })\n      this.$store.dispatch(\"setPrintData\", this.trades)\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n\n    dateRangeText() {\n      if (this.dates[1] == undefined) {\n        this.dates[1] = this.dates[0]\n      }\n      if (new Date(this.dates[0]) > new Date(this.dates[1])) {\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + \"~\" + this.dates[1]\n    },\n\n    changeDate(x) {\n      var date\n      if (x == \"today\") {\n        this.dates[0] = this.today\n        this.dates[1] = this.today\n      } else if (x == \"week\") {\n        date = new Date(this.dates[0])\n        date.setDate(date.getDate() - 7)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"month\") {\n        date = new Date(this.dates[0])\n        date.setMonth(date.getMonth() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"year\") {\n        date = new Date(this.dates[0])\n        date.setFullYear(date.getFullYear() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }\n      this.filterTrades()\n    },\n\n    filterTrades() {\n      this.dateRangeText()\n      var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      var endDate = new Date(`${this.dates[1]}T24:00:00`)\n\n      this.trades = this.allTrades.filter(function (product) {\n        var date = new Date(product.made_date)\n        return date >= startDate && date <= endDate\n      })\n      // console.log(this.trades)\n      if (this.trades.length == 0) return\n    },\n\n    calculatePriceAndWeight() {\n      // formerSum\n      this.formerSum = 0\n      const index = this.allTrades.indexOf(this.trades[0]) - 1\n      if (index > -1) {\n        this.formerSum = this.allTrades[index].grandPrice\n      }\n      // console.log(this.formerSum)\n\n      // sum and weight\n      this.sum = 0\n      this.weight = 0\n      this.trades.forEach((item) => {\n        this.sum += item.aTradePrice\n        if (item.pay == true) {\n          return\n        } else if (item.uint == \"台斤\") {\n          this.weight += item.number * item.totalNumber * 0.6\n        } else if (item.uint == \"公斤\") {\n          this.weight += item.number * item.totalNumber\n        }\n      })\n      this.weight = this.weight.toFixed(2)\n    },\n\n    async initialize() {\n      // all customer names\n      var customerData = (await CustomerService.index()).data\n      this.customerNames = customerData.map((value) => value.name)\n\n      // customer name\n      this.customerName = this.$store.state.route.params.customerName\n      if (this.customerName == \"null\") return\n\n      customerData.forEach((item) => {\n        if (item.name == this.customerName) this.customerInfo = item\n      })\n      // console.log(this.customerName)\n\n      // get all products\n      const products = (await ProductService.index()).data\n      this.productNames = []\n      this.productArr = []\n      products.forEach((item) => {\n        this.productNames.push(item.full_name)\n        this.productArr[item.full_name] = item\n      })\n      // console.log(this.productArr)\n\n      // get all transport names\n      this.transportNames = (await TransportService.index()).data.map(\n        (value) => value.name\n      )\n\n      // gat all cashMethod\n      const cashMethod = (await CashMethodService.index()).data\n      cashMethod.forEach((item) => {\n        this.cashMethod.push(item.name)\n        this.cashMethodArr[item.name] = item.ratio\n      })\n      // console.log(this.cashMethodArr)\n      // console.log(this.cashMethod)\n      // get dates range\n      var date = new Date(this.today)\n      date.setDate(date.getDate() - 30)\n      this.dates[0] = date.toISOString().substr(0, 10)\n      this.dates[1] = this.today\n\n      this.updateAllTradesByLastTen()\n    },\n\n    getChangeIdLeftTrades() {\n      let len = this.allTrades.indexOf(\n        this.allTrades.find((x) => x.id === this.changeItemId)\n      )\n      if (this.allTrades.length - len < 10)\n        this.trades = this.allTrades.slice(\n          Math.max(this.allTrades.length - 10, 0)\n        )\n      else this.trades = this.allTrades.slice(Math.max(len, 0))\n    },\n\n    getLastTenTrades() {\n      this.trades = this.allTrades.slice(\n        Math.max(this.allTrades.length - 10, 0)\n      )\n      this.dates = []\n      this.dateText = \"\"\n    },\n\n    async updateAllTrades() {\n      this.allTrades = (await TradeService.index(this.customerName)).data\n      this.getChangeIdLeftTrades()\n    },\n\n    async updateAllTradesByLastTen() {\n      this.allTrades = (await TradeService.index(this.customerName)).data\n      // console.log(this.allTrades)\n      this.getLastTenTrades()\n    },\n\n    editItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n      if (this.editedItem.aTradePrice < 0)\n        this.editedItem.aTradePrice = 0 - this.editedItem.aTradePrice\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm() {\n      this.$loading(true)\n      // console.log('delete')\n      try {\n        var deleteATradePrice = this.editedItem.aTradePrice\n        await TradeService.delete(this.editedItem)\n        this.editedIndex++\n        while (this.editedIndex != this.allTrades.length) {\n          var item = this.allTrades[this.editedIndex]\n          item[\"grandPrice\"] = item[\"grandPrice\"] - deleteATradePrice\n\n          try {\n            await TradeService.put(item)\n            this.editedIndex++\n          } catch (err) {\n            console.log(err)\n          }\n        }\n        this.updateAllTradesByLastTen()\n        this.closeDelete()\n      } catch (err) {\n        console.log(err)\n      }\n      this.$loading(false)\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error = \"\"\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeCashTime() {\n      this.dialogCashTime = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save() {\n      this.$loading(true)\n      var item = this.editedItem\n      // check input correct\n      if (this.editedIndex > -1) {\n        if (\n          (!item.pay &&\n            (this.checkInp(item.amount) || this.checkInp(item.package))) ||\n          (item.pay && this.checkInp(item.aTradePrice))\n        ) {\n          this.$loading(false)\n          return\n        }\n      } else {\n        if (\n          (!this.switch1 &&\n            (this.checkInp(item.amount) || this.checkInp(item.package))) ||\n          (this.switch1 && this.checkInp(item.aTradePrice))\n        ) {\n          this.$loading(false)\n          return\n        }\n      }\n\n      var size = this.allTrades.length\n      item[\"customer_name\"] = this.customerName\n      item[\"user_name\"] = this.$store.state.user.account\n      // console.log(item['user_name'])\n\n      var sum = 0\n\n      if (this.switch1) {\n        item[\"pay\"] = true\n        item[\"number\"] = null\n        item[\"uint\"] = null\n        item[\"package\"] = null\n        item[\"amount\"] = null\n        item[\"totalNumber\"] = null\n        item[\"sellUint\"] = null\n        item[\"uintPrice\"] = null\n        item[\"transport\"] = null\n        item[\"aTradePrice\"] = -item.aTradePrice * this.cashMethodArr[item.name]\n        item[\"aTradePrice\"] = -item.aTradePrice\n      } else {\n        item[\"pay\"] = false\n        item[\"number\"] = this.productArr[item.name].number\n        item[\"uint\"] = this.productArr[item.name].uint\n        item[\"totalNumber\"] = item.amount * item.package\n        item[\"sellUint\"] = this.productArr[item.name].sellUint\n        item[\"aTradePrice\"] = Math.round(item.totalNumber * item.uintPrice)\n        // item['cashDate'] = null\n      }\n      // console.log(item)\n\n      if (this.editedIndex > -1) {\n        // console.log('edit')\n        this.changeItemId = item.id\n\n        if (this.editedIndex != 0) {\n          sum = this.allTrades[this.editedIndex - 1].grandPrice\n        }\n        while (1) {\n          sum = sum + item.aTradePrice\n          item[\"grandPrice\"] = sum\n          try {\n            await TradeService.put(item)\n            this.editedIndex++\n            if (this.editedIndex == size) break\n            item = this.allTrades[this.editedIndex]\n          } catch (err) {\n            console.log(err)\n          }\n        }\n        this.updateAllTrades()\n      } else {\n        // console.log('new')\n        // if (this.switch1) {\n        item.made_date = `${item.made_date} 23:59:59`\n        var index = size - 1\n\n        while (index >= 0) {\n          if (this.allTrades[index].made_date > item.made_date) index--\n          else break\n        }\n        sum = index == -1 ? 0 : this.allTrades[index].grandPrice\n        item[\"grandPrice\"] = sum + item.aTradePrice\n        try {\n          var res = (await TradeService.post(item)).data\n          this.changeItemId = res.id\n        } catch (err) {\n          console.log(err)\n        }\n        index++\n        while (index < size) {\n          var editItem = this.allTrades[index]\n          editItem.grandPrice += item.aTradePrice\n          try {\n            await TradeService.put(editItem)\n          } catch (err) {\n            console.log(err)\n          }\n          index++\n        }\n\n        this.updateAllTrades()\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n\n<style scoped>\n.v-application p {\n  margin-bottom: 0;\n  color: #000;\n}\n\n.btn {\n  height: 36px;\n  min-width: 64px;\n  padding: 0 16px;\n  font-size: 0.875rem;\n  color: rgba(0, 0, 0, 0.87);\n  margin-bottom: 8px !important;\n  -webkit-appearance: button;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  align-items: center;\n  border-radius: 4px;\n  display: inline-flex;\n  flex: 0 0 auto;\n  font-weight: 500;\n  letter-spacing: 0.0892857143em;\n  justify-content: center;\n  outline: 0;\n  position: relative;\n  text-decoration: none;\n  text-indent: 0.0892857143em;\n  text-transform: uppercase;\n  transition-duration: 0.28s;\n  transition-property: box-shadow, transform, opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  cursor: pointer;\n  color: inherit;\n  border-style: none;\n  background-color: #f5f5f5;\n}\n\n.btn:after {\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n}\n\n.btn:hover {\n  filter: brightness(95%);\n}\n\n.subTitle {\n  text-align: left;\n}\n\n.zero {\n  background: #daebfa;\n}\n\n.change-position {\n  position: absolute;\n  right: 0px;\n  bottom: 100px;\n  width: 500px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trade.vue?vue&type=template&id=11c0fdb9&scoped=true&\"\nimport script from \"./Trade.vue?vue&type=script&lang=js&\"\nexport * from \"./Trade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Trade.vue?vue&type=style&index=0&id=11c0fdb9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11c0fdb9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" 販賣單位資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋販賣單位\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.sellUints,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增販賣單位 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"販賣單位\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個客戶嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <titlepanel title=\"出 貨 \">\n\n    <v-card>\n    <v-card-title>\n      販賣單位資料\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋販賣單位\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"sellUints\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增販賣單位\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"販賣單位\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個客戶嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">你還沒新增資料</p>\n        <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n        <v-btn\n          class=\"mb-3\"\n          color=\"primary\"\n          @click=\"initialize\">\n          重整\n        </v-btn>\n      </template>\n    </v-data-table>\n    </v-card>\n\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport SellUintService from '@/services/outwards/SellUintService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '販賣單位',\n        align: 'start',\n        sortable: false,\n        value: 'name',\n      },\n      { text: '功能', value: 'actions', sortable: false },\n    ],\n    sellUints: [],\n    editedIndex: -1,\n    editedItem: {\n      name: ''\n    },\n    defaultItem: {\n      name: ''\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增販賣單位' : '編輯販賣單位'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n\n    navigateTo (route) {\n      this.$router.push(route)\n    },\n\n    async initialize () {\n      this.sellUints = (await SellUintService.index()).data\n      // console.log(this.sellUints)\n    },\n\n    editItem (item) {\n      this.editedIndex = this.sellUints.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.sellUints.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await SellUintService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save () {\n      this.$loading(true)\n      if (this.editedIndex > -1) {\n        try{\n          await SellUintService.put(this.editedItem)\n          Object.assign(this.sellUints[this.editedIndex], this.editedItem)\n        }catch(err){\n          console.log(err)\n        }\n      } else {\n        try{\n          await SellUintService.post(this.editedItem)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SellUint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SellUint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SellUint.vue?vue&type=template&id=5a7c9d80&\"\nimport script from \"./SellUint.vue?vue&type=script&lang=js&\"\nexport * from \"./SellUint.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"出 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates)\n                _vm.dateRangeText()}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex flex-row\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('today')}}},[_vm._v(\"今日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('week')}}},[_vm._v(\"前七日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('month')}}},[_vm._v(\"前一個月\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('year')}}},[_vm._v(\"前一年\")])],1)],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\" 入帳資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋入帳\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.cashMethods,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增入帳選項 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"名稱\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-select',{attrs:{\"label\":\"匯出或匯入\",\"items\":_vm.actionNames,\"rules\":[_vm.required]},model:{value:(_vm.editedItem.ratioName),callback:function ($$v) {_vm.$set(_vm.editedItem, \"ratioName\", $$v)},expression:\"editedItem.ratioName\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name == ''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個客戶嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"1200px\"},model:{value:(_vm.dialogSearch),callback:function ($$v) {_vm.dialogSearch=$$v},expression:\"dialogSearch\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.editedItem.name))]),_c('v-card-text',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.tradeHeaders,\"items\":_vm.trades,\"item-key\":\"id\"},scopedSlots:_vm._u([_vm._l((_vm.tradeHeaders.filter((header) =>\n                      header.hasOwnProperty('formatter')\n                    )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [(header.value == 'grandPrice' && value > 0)?_c('div',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value < 0)?_c('div',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value == 0)?_c('div',{staticClass:\"zero\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]}}})],null,true)})],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.searchItem(item)}}},[_vm._v(\" mdi-card-search \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <titlepanel title=\"出 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n        <b>篩選條件</b>\n      </div>\n      <v-row>\n        <v-col cols=\"12\" md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"dateText\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n              </v-text-field>\n            </template>\n            <v-date-picker v-model=\"dates\" no-title range>\n              <v-spacer></v-spacer>\n              <v-btn text color=\"primary\" @click=\"menu = false\"> Cancel </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"\n                  $refs.menu.save(dates)\n                  dateRangeText()\n                \"\n              >\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\" class=\"d-flex flex-row\">\n          <v-btn @click=\"changeDate('today')\">今日</v-btn>\n          <v-btn @click=\"changeDate('week')\">前七日</v-btn>\n          <v-btn @click=\"changeDate('month')\">前一個月</v-btn>\n          <v-btn @click=\"changeDate('year')\">前一年</v-btn>\n        </v-col>\n      </v-row>\n    </div>\n    <v-card>\n      <v-card-title>\n        入帳資料\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"搜尋入帳\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"cashMethods\"\n        :items-per-page=\"10\"\n        class=\"elevation-1\"\n        item-key=\"name\"\n        :search=\"search\"\n        :custom-filter=\"filterOnlyCapsText\"\n      >\n        <template v-slot:footer>\n          <v-toolbar flat>\n            <v-spacer></v-spacer>\n\n            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  新增入帳選項\n                </v-btn>\n              </template>\n\n              <v-card>\n                <v-card-title>\n                  <span class=\"text-h5\">{{ formTitle }}</span>\n                </v-card-title>\n\n                <v-card-text>\n                  <v-container>\n                    <v-row>\n                      <v-text-field\n                        v-model=\"editedItem.name\"\n                        label=\"名稱\"\n                        :rules=\"[required]\"\n                      >\n                      </v-text-field>\n                    </v-row>\n                    <v-row>\n                      <v-select\n                        v-model=\"editedItem.ratioName\"\n                        label=\"匯出或匯入\"\n                        :items=\"actionNames\"\n                        :rules=\"[required]\"\n                      >\n                      </v-select>\n                    </v-row>\n                  </v-container>\n                </v-card-text>\n\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"close\">\n                    取消\n                  </v-btn>\n                  <v-btn\n                    color=\"blue darken-1\"\n                    text\n                    @click=\"save\"\n                    :disabled=\"editedItem.name == ''\"\n                  >\n                    儲存\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n\n            <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n              <v-card>\n                <v-card-title class=\"text-h5\"\n                  >你確定要刪掉這個客戶嗎？</v-card-title\n                >\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                    >取消</v-btn\n                  >\n                  <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                    >確認</v-btn\n                  >\n                  <v-spacer></v-spacer>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n\n            <!-- check how many the cash methods are choosen -->\n            <v-dialog v-model=\"dialogSearch\" max-width=\"1200px\">\n              <v-card>\n                <v-card-title class=\"text-h5\">{{\n                  editedItem.name\n                }}</v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :headers=\"tradeHeaders\"\n                    :items=\"trades\"\n                    item-key=\"id\"\n                    class=\"elevation-1\"\n                  >\n                    <template\n                      v-for=\"header in tradeHeaders.filter((header) =>\n                        header.hasOwnProperty('formatter')\n                      )\"\n                      v-slot:[`item.${header.value}`]=\"{ header, value }\"\n                    >\n                      <!-- {{ header.formatter(value) }} -->\n                      <div\n                        v-if=\"header.value == 'grandPrice' && value > 0\"\n                        class=\"blue-text\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div\n                        v-else-if=\"header.value == 'grandPrice' && value < 0\"\n                        class=\"red-text\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div\n                        v-else-if=\"header.value == 'grandPrice' && value == 0\"\n                        class=\"zero\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div v-else>\n                        {{ header.formatter(value) }}\n                      </div>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-card>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\n            mdi-pencil\n          </v-icon>\n          <v-icon small class=\"mr-2\" @click=\"deleteItem(item)\">\n            mdi-delete\n          </v-icon>\n          <v-icon small class=\"mr-2\" @click=\"searchItem(item)\">\n            mdi-card-search\n          </v-icon>\n        </template>\n\n        <template v-slot:no-data>\n          <p class=\"ma-3\">你還沒新增資料</p>\n          <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n          <v-btn class=\"mb-3\" color=\"primary\" @click=\"initialize\"> 重整 </v-btn>\n        </template>\n      </v-data-table>\n    </v-card>\n  </titlepanel>\n</template>\n\n<script>\nimport CashMethodService from \"@/services/outwards/CashMethodService\"\nimport Titlepanel from \"../TitlePanel.vue\"\nimport TradeService from \"@/services/outwards/TradeService\"\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    today: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n      .toISOString()\n      .substr(0, 10),\n    dates: [],\n    dateText: \"\",\n    menu: false,\n    trades: [],\n    tradeHeaders: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"顧客\", align: \"start\", sortable: false, value: \"customer_name\" },\n      {\n        text: \"小計\",\n        value: \"aTradePrice\",\n        sortable: false,\n        formatter: (x) =>\n          x != null ? (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"-\",\n      },\n      {\n        text: \"累計\",\n        value: \"grandPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      { text: \"備註\", value: \"comment\", sortable: false },\n    ],\n    actionNames: [\"匯入\", \"匯出\"],\n    search: \"\",\n    required: (value) => !!value || \"Required.\",\n    dialog: false,\n    dialogDelete: false,\n    dialogSearch: false,\n    headers: [\n      {\n        text: \"入帳選項\",\n        align: \"start\",\n        sortable: false,\n        value: \"name\",\n      },\n      {\n        text: \"比率\",\n        align: \"start\",\n        sortable: false,\n        value: \"ratio\",\n      },\n      { text: \"功能\", value: \"actions\", sortable: false },\n    ],\n    cashMethods: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      ratioName: \"匯入\",\n    },\n    defaultItem: {\n      name: \"\",\n      ratioName: \"匯入\",\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"新增入帳選項\" : \"編輯入帳選項\"\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close()\n    },\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n    dialogSearch(val) {\n      val || this.closeSearch()\n    },\n  },\n\n  created() {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    changeDate(x) {\n      var date\n      if (x == \"today\") {\n        this.dates[0] = this.today\n        this.dates[1] = this.today\n      } else if (x == \"week\") {\n        date = new Date(this.dates[0])\n        date.setDate(date.getDate() - 7)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"month\") {\n        date = new Date(this.dates[0])\n        date.setMonth(date.getMonth() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"year\") {\n        date = new Date(this.dates[0])\n        date.setFullYear(date.getFullYear() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }\n      this.dateRangeText()\n    },\n\n    // filterTrades (){\n\n    //   this.trades = this.allTrades.filter(function (product) {\n    //     var date = new Date(product.made_date)\n    //     return (date >= startDate && date <= endDate)\n    //   })\n    //   // console.log(this.trades)\n    //   if(this.trades.length==0) return\n    // },\n\n    dateRangeText() {\n      if (this.dates[1] == undefined) {\n        this.dates[1] = this.dates[0]\n      }\n      if (new Date(this.dates[0]) > new Date(this.dates[1])) {\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + \"~\" + this.dates[1]\n    },\n\n    filterOnlyCapsText(value, search, item) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().indexOf(search) !== -1\n      )\n    },\n\n    // navigateTo (route) {\n    //   this.$router.push(route)\n    // },\n\n    async initialize() {\n      this.cashMethods = (await CashMethodService.index()).data\n      // console.log(this.cashMethods)\n\n      // get dates range\n      var date = new Date(this.today)\n      date.setDate(date.getDate() - 30)\n      this.dates[0] = date.toISOString().substr(0, 10)\n      this.dates[1] = this.today\n      this.dateRangeText()\n    },\n\n    editItem(item) {\n      this.editedIndex = this.cashMethods.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      if (this.editedItem.ratio == -1) this.editedItem.ratioName = \"匯入\"\n      if (this.editedItem.ratio == 1) this.editedItem.ratioName = \"匯出\"\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.cashMethods.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async searchItem(item) {\n      // var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      // var endDate = new Date(`${this.dates[1]}T24:00:00`)\n\n      this.trades = (\n        await TradeService.indexByCashmethodAndDates(item.name, this.dates)\n      ).data\n      this.editedItem = Object.assign({}, item)\n\n      this.dialogSearch = true\n    },\n\n    async deleteItemConfirm() {\n      this.$loading(true)\n      try {\n        await CashMethodService.delete(this.editedItem)\n        this.closeDelete()\n      } catch (err) {\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeSearch() {\n      this.dialogSearch = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save() {\n      this.$loading(true)\n      var item = this.editedItem\n      if (item.ratioName == \"匯出\") item.ratio = 1\n      else item.ratio = -1\n\n      if (this.editedIndex > -1) {\n        try {\n          await CashMethodService.put(this.editedItem)\n          Object.assign(this.cashMethods[this.editedIndex], this.editedItem)\n        } catch (err) {\n          console.log(err)\n        }\n      } else {\n        try {\n          await CashMethodService.post(this.editedItem)\n          this.initialize()\n        } catch (err) {\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CashMethod.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CashMethod.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CashMethod.vue?vue&type=template&id=f959eabc&\"\nimport script from \"./CashMethod.vue?vue&type=script&lang=js&\"\nexport * from \"./CashMethod.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"進 貨 \"}},[_c('v-layout',{staticClass:\"ml-4 mr-4\"},[_c('v-flex',{attrs:{\"xs12\":\"\",\"offset-xs0\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'inwardsCustomer'\n            }}},[_c('h3',[_vm._v(\"顧客\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'inwardsRicekind'\n            }}},[_c('h3',[_vm._v(\"米的種類\")])])],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'inwardsProduct'\n            }}},[_c('h3',[_vm._v(\"產品\")])])],1)],1),_c('br'),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-btn',{staticClass:\"d-flex align-center\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"200\",\"to\":{\n              name: 'inwardsTrade',\n              params:{\n                customerName:'null'\n              }\n            }}},[_c('h3',[_vm._v(\"交易\")])])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <titlepanel title=\"進 貨 \">\n    <v-layout class=\"ml-4 mr-4\">\n      <v-flex xs12 offset-xs0>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'inwardsCustomer'\n              }\">\n              <h3>顧客</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"4\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'inwardsRicekind'\n              }\">\n              <h3>米的種類</h3>\n            </v-btn>\n          </v-col>\n          <v-col\n            cols=\"12\"\n            md=\"4\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'inwardsProduct'\n              }\">\n              <h3>產品</h3>\n            </v-btn>\n          </v-col>\n        </v-row>\n        <br>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"12\">\n            <v-btn\n              color=\"primary\"\n              class=\"d-flex align-center\"\n              dark\n              height=\"200\"\n              :to=\"{\n                name: 'inwardsTrade',\n                params:{\n                  customerName:'null'\n                }\n              }\">\n              <h3>交易</h3>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-flex>\n    </v-layout>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\n\nexport default {\n  components: { Titlepanel },\n  data() {\n    return{\n    }\n  },\n  methods: {\n    navigateTo (route) {\n      this.$router.push(route)\n    }\n  }\n    \n}\n</script>\n\n<style scoped>\n.col-12{\n  padding: 12px 6px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c8d9a0ba&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=c8d9a0ba&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8d9a0ba\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"進 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"交易日期篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex pt-3\",attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.date == null},on:{\"click\":_vm.serchDateCustomer}},[_vm._v(\" 搜尋 \")]),_c('v-btn',{staticClass:\"ml-2\"},[_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":_vm.initialize}},[_vm._v(\" mdi-refresh \")])],1)],1)],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\" 顧客資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋顧客\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.customers,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增顧客 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[(_vm.editedIndex==-1)?_c('v-text-field',{attrs:{\"label\":\"顧客姓名\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}}):_c('v-text-field',{attrs:{\"label\":\"顧客姓名（無法修改）\",\"readonly\":\"\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"地址\"},model:{value:(_vm.editedItem.address),callback:function ($$v) {_vm.$set(_vm.editedItem, \"address\", $$v)},expression:\"editedItem.address\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"住家電話\"},model:{value:(_vm.editedItem.homePhone),callback:function ($$v) {_vm.$set(_vm.editedItem, \"homePhone\", $$v)},expression:\"editedItem.homePhone\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"手機電話\"},model:{value:(_vm.editedItem.phone),callback:function ($$v) {_vm.$set(_vm.editedItem, \"phone\", $$v)},expression:\"editedItem.phone\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"聯絡人\"},model:{value:(_vm.editedItem.contact),callback:function ($$v) {_vm.$set(_vm.editedItem, \"contact\", $$v)},expression:\"editedItem.contact\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"統編/身分證號碼\"},model:{value:(_vm.editedItem.taxId),callback:function ($$v) {_vm.$set(_vm.editedItem, \"taxId\", $$v)},expression:\"editedItem.taxId\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個客戶嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.navigateTo({\n          name: 'inwardsTrade',\n          params: {\n            customerName: item.name\n          }\n        })}}},[_vm._v(\" mdi-eye \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"There is no data\")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/inwards/customers/'\n\nexport default {\n  index () {\n    return Api().get(`${url}allCustomers`)\n  },\n  get (name) {\n    return Api().get(`${url}${name}`)\n  },\n  post (item) {\n    return Api().post(`${url}addCustomer`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}","<template>\n  <titlepanel title=\"進 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n        <b>交易日期篩選條件</b>\n      </div>\n      <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"date\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"date\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\">\n              </v-text-field>\n            </template>\n            <v-date-picker\n              v-model=\"date\"\n              no-title\n              scrollable>\n              <v-spacer></v-spacer>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"menu = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.menu.save(date)\">\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"3\"\n          class=\" d-flex pt-3\">\n          <v-btn\n            :disabled = \"date == null\"\n            @click=\"serchDateCustomer\">\n            搜尋\n          </v-btn>\n          <v-btn\n            class=\"ml-2\">\n            <v-icon\n              small\n              @click=\"initialize\">\n              mdi-refresh\n            </v-icon>\n          </v-btn>\n        </v-col>\n\n        <!-- <v-col\n          v-if=\"searchRicekind != ''\"\n          cols=\"12\"\n          md=\"4\"\n          class=\"pl-0 d-flex flex-row \">\n          <b class=\"text1\">{{this.date}}進貨{{this.sum}}份</b>\n        </v-col> -->\n      </v-row>\n    </div>\n\n    <v-card>\n    <v-card-title>\n      顧客資料\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋顧客\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"customers\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增顧客\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-text-field\n                      v-if=\"editedIndex==-1\"\n                      v-model=\"editedItem.name\"\n                      label=\"顧客姓名\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                    <v-text-field\n                      v-else\n                      v-model=\"editedItem.name\"\n                      label=\"顧客姓名（無法修改）\"\n                      readonly\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.address\"\n                      label=\"地址\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.homePhone\"\n                      label=\"住家電話\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.phone\"\n                      label=\"手機電話\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.contact\"\n                      label=\"聯絡人\">\n                    </v-text-field>\n                  </v-row>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.taxId\"\n                      label=\"統編/身分證號碼\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{error}}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個客戶嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n        <v-icon\n          small\n          @click=\"navigateTo({\n            name: 'inwardsTrade',\n            params: {\n              customerName: item.name\n            }\n          })\">\n          mdi-eye\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n        <p class=\"ma-3\">There is no data</p>\n        <!-- <p class=\"ma-3\">If you add, click the reset button</p> -->\n          <!-- <v-btn\n            class=\"mb-3\"\n            color=\"primary\"\n            @click=\"initialize\">\n            Reset\n          </v-btn> -->\n      </template>\n\n    </v-data-table>\n    </v-card>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport CustomerService from '@/services/inwards/CustomerService'\nimport RiceTradeService from '@/services/inwards/RiceTradeService'\nimport OtherTradeService from '@/services/inwards/OtherTradeService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    date:'',\n    menu:false,\n    error:'',\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '顧客',\n        align: 'start',\n        sortable: false,\n        value: 'name',\n      },\n      { text: '地址', value: 'address', sortable: false},\n      { text: '住家電話', value: 'homePhone', sortable: false, width: '120px'},\n      { text: '手機電話', value: 'phone', sortable: false, width: '120px'},\n      { text: '聯絡人', value: 'contact', sortable: false},      \n      { text: '統編/身分證號碼', value: 'taxId', sortable: false, width: '130px'},\n      { text: '功能', value: 'actions', sortable: false, },\n    ],\n    customers: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n      address: '',\n      phone: '',\n      homePhone: '',\n      contact:'',\n      taxId: ''\n    },\n    defaultItem: {\n      name: '',\n      address: '',\n      phone: '',\n      homePhone: '',\n      contact:'',\n      taxId: ''\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增顧客' : '編輯顧客'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n    async serchDateCustomer(){\n      this.$loading(true)\n      var trades = (await OtherTradeService.indexByDates([this.date,this.date])).data\n      var set = new Set()\n      trades.forEach(item=>{\n        set.add(item.customer_name)\n      })\n      // console.log(trades)\n\n      trades = (await RiceTradeService.indexByDates([this.date,this.date])).data\n      trades.forEach(item=>{\n        set.add(item.customer_name)\n      })\n      // console.log(trades)\n\n      this.customers = []\n      for (const x of set.values()) {\n        var item = (await CustomerService.get(x)).data[0]\n        this.customers.push(item)\n      }  \n      this.customers.sort((a,b) =>{return a.name.localeCompare(b.name, \"zh-Hant\")})\n\n      this.$loading(false)\n    },\n    \n    navigateTo (route) {\n      this.$router.push(route)\n    },\n\n    async initialize () {\n      this.customers = (await CustomerService.index()).data\n    },\n\n    editItem (item) {\n      this.editedIndex = this.customers.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.customers.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await CustomerService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error=\"\"\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save () {\n      this.$loading(true)\n      if (this.editedIndex > -1) {\n        try{\n          await CustomerService.put(this.editedItem)\n          Object.assign(this.customers[this.editedIndex], this.editedItem)\n        }catch(err){\n          console.log(err)\n        }\n      } else {\n        const checkSameItem = (item) => item.name == this.editedItem.name;\n        if(this.customers.some(checkSameItem)) {\n          this.error=\"你有相同的顧客名字\"\n          this.$loading(false)\n          return\n        }\n\n        try{\n          await CustomerService.post(this.editedItem)\n          this.initialize()\n        }catch(err){\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customer.vue?vue&type=template&id=7794593c&\"\nimport script from \"./Customer.vue?vue&type=script&lang=js&\"\nexport * from \"./Customer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"進 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"篩選條件\")])]),_c('v-row',[_c('v-col',{staticClass:\"d-flex\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-autocomplete',{attrs:{\"hide-details\":\"\",\"items\":_vm.customerNames,\"label\":\"顧客選項\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.searchCustomer),callback:function ($$v) {_vm.searchCustomer=$$v},expression:\"searchCustomer\"}}),_c('v-btn',{staticClass:\"ml-1\",attrs:{\"depressed\":\"\",\"disabled\":_vm.searchCustomer == 'null',\"to\":{\n            name: 'inwardsTrade',\n            params: {\n              customerName: _vm.searchCustomer\n            }\n          }},on:{\"click\":function($event){return _vm.$router.go()}}},[_vm._v(\" 搜尋 \")])],1),_c('v-col',{staticClass:\"d-flex flex-row\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates); _vm.filterTrades();}}},[_vm._v(\" OK \")])],1)],1),_c('div',{staticClass:\"ml-1\"},[_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('today')}}},[_vm._v(\"今日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('week')}}},[_vm._v(\"前七日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('month')}}},[_vm._v(\"前一個月\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('year')}}},[_vm._v(\"前一年\")])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"2\"}},[_c('v-sheet',{staticClass:\"mx-auto transition-swing rounded-lg py-1\",attrs:{\"elevation\":\"3\",\"width\":\"100%\"}},[_c('h4',[_vm._v(\"客戶往來最後交易金額\")]),(_vm.lastOtherTrade.grandPrice<0)?_c('h4',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(_vm.lastOtherTradeGrandPrice)+\" \")]):_c('h4',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(_vm.lastOtherTradeGrandPrice)+\" \")])])],1)],1)],1),(_vm.customerName=='null')?_c('div',[_vm._v(\" 請選擇上面的顧客選項 \")]):_c('div',[_c('Trade',{ref:\"riceTrade\",attrs:{\"dates\":_vm.dates}}),_c('OtherTrade',{ref:\"otherTrade\",attrs:{\"dates\":_vm.dates}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.trades,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('div',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.customerName)+\" 糧食交易資料\")]),_c('p',[_vm._v(_vm._s(_vm.customerInfo.homePhone)+\" | \"+_vm._s(_vm.customerInfo.phone))])],1),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('download-excel',{staticClass:\"btn\",attrs:{\"header\":`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${_vm.customerInfo.taxId} 廠商姓名： ${_vm.customerInfo.name}\\n 廠商地址： ${_vm.customerInfo.address}\\n 廠商手機： ${_vm.customerInfo.homePhone} 廠商手機： ${_vm.customerInfo.phone}`,\"data\":_vm.trades,\"fields\":_vm.json_fields,\"worksheet\":\"糧食進出交易\",\"name\":_vm.customerName + '糧食進出交易.xls'}},[_vm._v(\" 下載Excel \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printEnvelope}},[_vm._v(\" 列印信封 \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printReceipt}},[_vm._v(\" 列印糧食進出登記簿 \")]),_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2 mr-2\",attrs:{\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增糧食進出交易 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"change-position\"},[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))]),_c('v-spacer'),(_vm.editedIndex == -1)?_c('v-switch',{attrs:{\"inset\":\"\",\"label\":`${_vm.switch1 === true ? '轉出模式' : '正常模式'}`},on:{\"change\":function($event){_vm.editedItem = Object.assign({}, _vm.defaultItem)}},model:{value:(_vm.switch1),callback:function ($$v) {_vm.switch1=$$v},expression:\"switch1\"}}):_vm._e()],1),_c('v-card-text',[(_vm.editedIndex == -1)?_c('v-container',[_c('v-row',[_c('v-menu',{ref:\"menu_made_date\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.editedItem.made_date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"交易日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},'v-text-field',attrs,false),on))]}}],null,false,545477903),model:{value:(_vm.menu_made_date),callback:function ($$v) {_vm.menu_made_date=$$v},expression:\"menu_made_date\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu_made_date = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu_made_date.save(_vm.editedItem.made_date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-row',[_c('v-autocomplete',{attrs:{\"items\":_vm.ricekindNames,\"label\":\"米項目選項\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[(_vm.switch1 === false)?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"進\"},model:{value:(_vm.editedItem.in),callback:function ($$v) {_vm.$set(_vm.editedItem, \"in\", $$v)},expression:\"editedItem.in\"}}):_vm._e(),_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"出\"},model:{value:(_vm.editedItem.out),callback:function ($$v) {_vm.$set(_vm.editedItem, \"out\", $$v)},expression:\"editedItem.out\"}})],1),_c('v-row',[_c('v-select',{attrs:{\"items\":_vm.ricekindUints,\"label\":\"單位\"},model:{value:(_vm.editedItem.uint),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uint\", $$v)},expression:\"editedItem.uint\"}})],1),(_vm.switch1 === true)?_c('v-row',[_c('v-autocomplete',{attrs:{\"items\":_vm.inCustomerNames,\"label\":\"轉入客戶選項\"},model:{value:(_vm.editedItem.inCustomer),callback:function ($$v) {_vm.$set(_vm.editedItem, \"inCustomer\", $$v)},expression:\"editedItem.inCustomer\"}})],1):_vm._e(),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1):_c('v-container',[_c('v-row',[(_vm.editedIndex != -1)?_c('v-text-field',{attrs:{\"label\":\"交易日期（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.formMadeDate),callback:function ($$v) {_vm.formMadeDate=$$v},expression:\"formMadeDate\"}}):_vm._e()],1),_c('v-row',[_c('v-autocomplete',{attrs:{\"items\":_vm.ricekindNames,\"label\":\"米項目選項\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[(_vm.editedItem.in !== 0)?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"進\"},model:{value:(_vm.editedItem.in),callback:function ($$v) {_vm.$set(_vm.editedItem, \"in\", $$v)},expression:\"editedItem.in\"}}):_vm._e(),(_vm.editedItem.out !== 0)?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"出\"},model:{value:(_vm.editedItem.out),callback:function ($$v) {_vm.$set(_vm.editedItem, \"out\", $$v)},expression:\"editedItem.out\"}}):_vm._e()],1),_c('v-row',[_c('v-select',{attrs:{\"items\":_vm.ricekindUints,\"label\":\"單位\"},model:{value:(_vm.editedItem.uint),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uint\", $$v)},expression:\"editedItem.uint\"}})],1),(_vm.editedItem.turn_id != -1)?_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"稻穀紀錄（若要修改客戶選項，請刪除在做新增）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.go),callback:function ($$v) {_vm.$set(_vm.editedItem, \"go\", $$v)},expression:\"editedItem.go\"}})],1):_vm._e(),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),(_vm.editedIndex == -1)?_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.made_date == '' ||\n                _vm.editedItem.name == '' ||\n                _vm.editedItem.uint == '' ||\n                (_vm.editedItem.in == '' && _vm.editedItem.out == '') ||\n                (_vm.editedItem.in != '' && _vm.editedItem.out != '') ||\n                (_vm.editedItem.in != '' && _vm.editedItem.inCustomer != '')},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")]):_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.made_date == '' ||\n                _vm.editedItem.name == '' ||\n                _vm.editedItem.uint == '' ||\n                (_vm.editedItem.in == '' && _vm.editedItem.out == '') ||\n                (_vm.editedItem.in != '' && _vm.editedItem.out != '')},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個糧食進出交易嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true},_vm._l((_vm.headers.filter((header) =>\n      header.hasOwnProperty('formatter')\n    )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [(header.value == 'stock')?_c('div',[(value >= 0)?_c('div',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):_c('div',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]):_c('div',[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]}}})],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/inwards/ricekinds/'\n\nexport default {\n  index () {\n    return Api().get(`${url}allItems`)\n  },\n  post (item) {\n    return Api().post(`${url}addItem`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"trades\"\n    :items-per-page=\"10\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:footer>\n      <v-toolbar flat>\n        <div>\n          <v-toolbar-title>{{ customerName }} 糧食交易資料</v-toolbar-title>\n          <p>{{ customerInfo.homePhone }} | {{ customerInfo.phone }}</p>\n        </div>\n        <v-divider class=\"mx-4\" inset vertical></v-divider>\n        <v-spacer></v-spacer>\n\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <download-excel\n              class=\"btn\"\n              :header=\"`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${customerInfo.taxId} 廠商姓名： ${customerInfo.name}\\n 廠商地址： ${customerInfo.address}\\n 廠商手機： ${customerInfo.homePhone} 廠商手機： ${customerInfo.phone}`\"\n              :data=\"trades\"\n              :fields=\"json_fields\"\n              worksheet=\"糧食進出交易\"\n              :name=\"customerName + '糧食進出交易.xls'\"\n            >\n              下載Excel\n            </download-excel>\n\n            <v-btn class=\"mb-2 mr-2\" @click=\"printEnvelope\"> 列印信封 </v-btn>\n\n            <v-btn class=\"mb-2 mr-2\" @click=\"printReceipt\">\n              列印糧食進出登記簿\n            </v-btn>\n\n            <v-btn color=\"primary\" class=\"mb-2 mr-2\" v-bind=\"attrs\" v-on=\"on\">\n              新增糧食進出交易\n            </v-btn>\n          </template>\n\n          <v-card class=\"change-position\">\n            <v-card-title>\n              <span class=\"text-h5\">{{ formTitle }}</span>\n              <v-spacer></v-spacer>\n              <v-switch\n                @change=\"editedItem = Object.assign({}, defaultItem)\"\n                v-if=\"editedIndex == -1\"\n                v-model=\"switch1\"\n                inset\n                :label=\"`${switch1 === true ? '轉出模式' : '正常模式'}`\"\n              ></v-switch>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container v-if=\"editedIndex == -1\">\n                <v-row>\n                  <v-menu\n                    ref=\"menu_made_date\"\n                    v-model=\"menu_made_date\"\n                    :close-on-content-click=\"false\"\n                    :return-value.sync=\"editedItem.made_date\"\n                    transition=\"scale-transition\"\n                    offset-y\n                    min-width=\"auto\"\n                  >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field\n                        v-model=\"editedItem.made_date\"\n                        label=\"交易日期\"\n                        prepend-icon=\"mdi-calendar\"\n                        readonly\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                      >\n                      </v-text-field>\n                    </template>\n                    <v-date-picker\n                      v-model=\"editedItem.made_date\"\n                      no-title\n                      scrollable\n                    >\n                      <v-spacer></v-spacer>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"menu_made_date = false\"\n                      >\n                        Cancel\n                      </v-btn>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"$refs.menu_made_date.save(editedItem.made_date)\"\n                      >\n                        OK\n                      </v-btn>\n                    </v-date-picker>\n                  </v-menu>\n                </v-row>\n                <v-row>\n                  <v-autocomplete\n                    v-model=\"editedItem.name\"\n                    :items=\"ricekindNames\"\n                    label=\"米項目選項\"\n                    :rules=\"[required]\"\n                  />\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    v-if=\"switch1 === false\"\n                    class=\"pr-4\"\n                    v-model=\"editedItem.in\"\n                    label=\"進\"\n                  >\n                  </v-text-field>\n                  <v-text-field\n                    class=\"pr-4\"\n                    v-model=\"editedItem.out\"\n                    label=\"出\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-select\n                    v-model=\"editedItem.uint\"\n                    :items=\"ricekindUints\"\n                    label=\"單位\"\n                  >\n                  </v-select>\n                </v-row>\n                <v-row v-if=\"switch1 === true\">\n                  <v-autocomplete\n                    v-model=\"editedItem.inCustomer\"\n                    :items=\"inCustomerNames\"\n                    label=\"轉入客戶選項\"\n                  />\n                </v-row>\n                <v-row>\n                  <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                  </v-text-field>\n                </v-row>\n              </v-container>\n\n              <v-container v-else>\n                <v-row>\n                  <v-text-field\n                    v-if=\"editedIndex != -1\"\n                    v-model=\"formMadeDate\"\n                    label=\"交易日期（無法修改）\"\n                    readonly\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-autocomplete\n                    v-model=\"editedItem.name\"\n                    :items=\"ricekindNames\"\n                    label=\"米項目選項\"\n                    :rules=\"[required]\"\n                  />\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    v-if=\"editedItem.in !== 0\"\n                    class=\"pr-4\"\n                    v-model=\"editedItem.in\"\n                    label=\"進\"\n                  >\n                  </v-text-field>\n                  <v-text-field\n                    v-if=\"editedItem.out !== 0\"\n                    class=\"pr-4\"\n                    v-model=\"editedItem.out\"\n                    label=\"出\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-select\n                    v-model=\"editedItem.uint\"\n                    :items=\"ricekindUints\"\n                    label=\"單位\"\n                  >\n                  </v-select>\n                </v-row>\n                <v-row v-if=\"editedItem.turn_id != -1\">\n                  <v-text-field\n                    v-model=\"editedItem.go\"\n                    label=\"稻穀紀錄（若要修改客戶選項，請刪除在做新增）\"\n                    readonly\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                  </v-text-field>\n                </v-row>\n              </v-container>\n              <v-container v-if=\"error\" class=\"danger-alert\">\n                {{ error }}\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\"> 取消 </v-btn>\n              <v-btn\n                v-if=\"editedIndex == -1\"\n                color=\"blue darken-1\"\n                text\n                @click=\"save\"\n                :disabled=\"\n                  editedItem.made_date == '' ||\n                  editedItem.name == '' ||\n                  editedItem.uint == '' ||\n                  (editedItem.in == '' && editedItem.out == '') ||\n                  (editedItem.in != '' && editedItem.out != '') ||\n                  (editedItem.in != '' && editedItem.inCustomer != '')\n                \"\n              >\n                儲存\n              </v-btn>\n              <v-btn\n                v-else\n                color=\"blue darken-1\"\n                text\n                @click=\"save\"\n                :disabled=\"\n                  editedItem.made_date == '' ||\n                  editedItem.name == '' ||\n                  editedItem.uint == '' ||\n                  (editedItem.in == '' && editedItem.out == '') ||\n                  (editedItem.in != '' && editedItem.out != '')\n                \"\n              >\n                儲存\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"text-h5\"\n              >你確定要刪掉這個糧食進出交易嗎？</v-card-title\n            >\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                >取消</v-btn\n              >\n              <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                >確認</v-btn\n              >\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n      <v-icon small class=\"mr-2\" @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n    </template>\n\n    <template v-slot:no-data>\n      <p class=\"ma-3\">你還沒新增資料</p>\n      <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n      <v-btn class=\"mb-3\" color=\"primary\" @click=\"initialize\"> 重整 </v-btn>\n    </template>\n\n    <template\n      v-for=\"header in headers.filter((header) =>\n        header.hasOwnProperty('formatter')\n      )\"\n      v-slot:[`item.${header.value}`]=\"{ header, value }\"\n    >\n      <div v-if=\"header.value == 'stock'\">\n        <div v-if=\"value >= 0\" class=\"blue-text\">\n          {{ header.formatter(value) }}\n        </div>\n        <div v-else class=\"red-text\">\n          {{ header.formatter(value) }}\n        </div>\n      </div>\n      <div v-else>\n        {{ header.formatter(value) }}\n      </div>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport RicekindService from \"@/services/inwards/RicekindService\"\nimport RiceTradeService from \"@/services/inwards/RiceTradeService\"\n\nexport default {\n  props: [\"dates\"],\n  data: () => ({\n    json_fields: {\n      日期: {\n        callback: (value) => {\n          return value.made_date.slice(0, 10)\n        },\n      },\n      品名: \"name\",\n      進: \"in\",\n      出: \"out\",\n      小計: \"stock\",\n      稻穀紀錄: \"go\",\n      備註: \"comment\",\n    },\n    json_meta: [\n      [\n        {\n          key: \"charset\",\n          value: \"utf-8\",\n        },\n      ],\n    ],\n    today: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n      .toISOString()\n      .substr(0, 10),\n    customerName: \"\",\n    customerNames: [],\n    customerInfo: {},\n    error: \"\",\n    switch1: false,\n    menu: false,\n    menu_made_date: false,\n\n    ricekindNames: [],\n    ricekinds: [],\n    ricekindUints: [\"公斤\", \"台斤\"],\n    inCustomerNames: [],\n\n    required: (value) => value.toString().length !== 0 || \"Required.\",\n    dialog: false,\n    dialogDelete: false,\n    currentTime: \"\",\n    headers: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"產品\", align: \"start\", sortable: false, value: \"name\" },\n      {\n        text: \"進\",\n        value: \"in\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"出\",\n        value: \"out\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"小計\",\n        value: \"stock\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      { text: \"稻穀紀錄\", value: \"go\", sortable: false },\n      { text: \"備註\", value: \"comment\", sortable: false },\n      { text: \"功能\", value: \"actions\", sortable: false, width: \"10%\" },\n    ],\n    changeItemId: null,\n    trades: [],\n    allTrades: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      in: \"\",\n      out: \"\",\n      uint: \"公斤\",\n      inCustomer: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n    defaultItem: {\n      name: \"\",\n      in: \"\",\n      out: \"\",\n      uint: \"公斤\",\n      inCustomer: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n  }),\n\n  mounted() {},\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"新增糧食進出交易\" : \"編輯糧食進出交易\"\n    },\n    formMadeDate() {\n      return this.editedItem.made_date.slice(0, 10)\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close()\n    },\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created() {\n    // this.initialize()\n  },\n\n  methods: {\n    printEnvelope() {\n      let routeData = this.$router.resolve({ name: \"printEnvelope\" })\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n    printReceipt() {\n      let routeData = this.$router.resolve({\n        name: \"printInwardsTrade\",\n        query: {\n          all: false,\n        },\n      })\n      this.$store.dispatch(\"setPrintData\", this.trades)\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n\n    checkInp(x) {\n      if (isNaN(x)) {\n        this.error = \"請輸入正確格式\"\n        return true\n      }\n      return false\n    },\n\n    filterTrades() {\n      var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      var endDate = new Date(`${this.dates[1]}T24:00:00`)\n\n      this.trades = this.allTrades.filter(function (product) {\n        var date = new Date(product.made_date)\n        return date >= startDate && date <= endDate\n      })\n      // console.log(this.trades)\n    },\n\n    async initialize() {\n      this.inCustomerNames = this.customerNames.filter(\n        (e) => e !== this.customerName\n      )\n      // console.log(this.inCustomerNames)\n\n      // get all ricekinds\n      this.updateRicekinds()\n\n      // get all trades\n      this.updateAllTradesByLastTen()\n    },\n\n    getLastTenTrades() {\n      this.trades = this.allTrades.slice(\n        Math.max(this.allTrades.length - 10, 0)\n      )\n    },\n\n    getChangeIdLeftTrades() {\n      let len = this.allTrades.indexOf(\n        this.allTrades.find((x) => x.id === this.changeItemId)\n      )\n      // console.log(this.changeItemId)\n      // console.log(len)\n      if (this.allTrades.length - len < 10)\n        this.trades = this.allTrades.slice(\n          Math.max(this.allTrades.length - 10, 0)\n        )\n      else this.trades = this.allTrades.slice(Math.max(len, 0))\n    },\n\n    async updateAllTrades() {\n      this.allTrades = (await RiceTradeService.index(this.customerName)).data\n      // this.getLastTenTrades()\n      this.getChangeIdLeftTrades()\n    },\n\n    async updateAllTradesByLastTen() {\n      this.allTrades = (await RiceTradeService.index(this.customerName)).data\n      this.getLastTenTrades()\n    },\n\n    async updateRicekinds() {\n      var ricekindData = (await RicekindService.index()).data\n      ricekindData.forEach((item) => {\n        this.ricekindNames.push(item.name)\n        this.ricekinds[item.name] = item\n      })\n    },\n\n    editItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.editedItem.uint = \"公斤\"\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm() {\n      this.$loading(true)\n      // console.log('delete')\n      var item = this.editedItem\n\n      var size = this.allTrades.length\n      var gap = parseInt(item.in) - parseInt(item.out)\n      var index = this.editedIndex\n      index++\n\n      while (index < size) {\n        var editItem = this.allTrades[index]\n        editItem[\"stock\"] = editItem.stock - gap\n        try {\n          await RiceTradeService.put(editItem)\n          index++\n        } catch (err) {\n          console.log(err)\n        }\n      }\n\n      // delete another customer item\n      if (item.another_customer_name != null) {\n        var anotherAllTrades = (\n          await RiceTradeService.index(item.another_customer_name)\n        ).data\n        var anotherSize = anotherAllTrades.length\n        var anotherIndex = anotherAllTrades.findIndex(\n          (e) => e.turn_id == item.id\n        )\n        anotherIndex++\n        while (anotherIndex != anotherSize) {\n          var editItem = anotherAllTrades[anotherIndex]\n          editItem[\"stock\"] = editItem.stock + gap\n          try {\n            await RiceTradeService.put(editItem)\n            anotherIndex++\n          } catch (err) {\n            console.log(err)\n          }\n        }\n      }\n\n      try {\n        await RiceTradeService.delete(item)\n        await RiceTradeService.deleteById(item.turn_id)\n      } catch (err) {\n        console.log(err)\n      }\n\n      this.updateAllTradesByLastTen()\n      this.closeDelete()\n      this.$loading(false)\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error = \"\"\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save() {\n      this.$loading(true)\n      var item = this.editedItem\n\n      // check input is correct\n      if (this.checkInp(item.in)) {\n        this.$loading(false)\n        return\n      }\n      if (this.checkInp(item.out)) {\n        this.$loading(false)\n        return\n      }\n      if (item.uint == \"台斤\") {\n        item.in = item.in * 0.6\n        item.out = item.out * 0.6\n      }\n\n      item.customer_name = this.customerName\n      item.user_name = this.$store.state.user.account\n      if (item.in == \"\" || item.in == 0) item.in = 0\n      else item.out = 0\n      // console.log(item)\n\n      var size = this.allTrades.length\n      var sum = 0\n      var aTradeStock = parseInt(item.in) - parseInt(item.out)\n\n      if (this.editedIndex > -1) {\n        // console.log('edit')\n        var index = this.editedIndex\n        var gap =\n          aTradeStock - this.allTrades[index].in + this.allTrades[index].out\n        item.stock = item.stock + gap\n        try {\n          await RiceTradeService.put(item)\n          this.changeItemId = item.id\n        } catch (err) {\n          console.log(err)\n        }\n\n        index++\n\n        // edit my items\n        while (index < size) {\n          var edititem = this.allTrades[index]\n          edititem[\"stock\"] = edititem.stock + gap\n          try {\n            await RiceTradeService.put(edititem)\n          } catch (err) {\n            console.log(err)\n          }\n          index++\n        }\n\n        // edit another customer's items\n        if (item.turn_id != -1) {\n          try {\n            var anotherItem = (await RiceTradeService.get(item.turn_id)).data\n            var anotherAllTrades = (\n              await RiceTradeService.index(item.another_customer_name)\n            ).data\n            var anotherSize = await anotherAllTrades.length\n            var anotherIndex = anotherAllTrades.findIndex(\n              (e) => e.id == item.turn_id\n            )\n\n            anotherItem[\"made_date\"] = item.made_date\n            anotherItem[\"name\"] = item.name\n            anotherItem[\"in\"] = item.out\n            anotherItem[\"out\"] = item.in\n            anotherItem[\"stock\"] = anotherItem.stock - gap\n            try {\n              await RiceTradeService.put(anotherItem)\n            } catch (err) {\n              console.log(err)\n            }\n\n            anotherIndex++\n\n            while (anotherIndex != anotherSize) {\n              var anotherItem = anotherAllTrades[anotherIndex]\n              anotherItem[\"stock\"] = anotherItem.stock - gap\n              try {\n                await RiceTradeService.put(anotherItem)\n                anotherIndex++\n              } catch (err) {\n                console.log(err)\n              }\n            }\n          } catch (err) {\n            console.log(err)\n          }\n        }\n\n        this.updateAllTrades()\n      } else {\n        // console.log('new')\n\n        item.made_date = `${item.made_date} 23:59:59`\n        var index = size - 1\n\n        while (index >= 0) {\n          if (this.allTrades[index].made_date > item.made_date) index--\n          else break\n        }\n\n        sum = index == -1 ? 0 : this.allTrades[index].stock\n        item[\"stock\"] = sum + aTradeStock\n\n        if (item.inCustomer == \"\") {\n          try {\n            var res = (await RiceTradeService.post(item)).data\n            this.changeItemId = res.id\n          } catch (err) {\n            console.log(err)\n          }\n        } else {\n          var checkGo = item.in === 0\n          if (checkGo) item[\"go\"] = `轉出至${item.inCustomer}`\n          else item[\"go\"] = `${item.inCustomer}轉入`\n          item[\"another_customer_name\"] = item.inCustomer\n          // console.log(item)\n          try {\n            var res_out = (await RiceTradeService.post(item)).data\n\n            // another customer item\n            try {\n              var anotherAllTrades = (\n                await RiceTradeService.index(item.inCustomer)\n              ).data\n              var anotherSize = await anotherAllTrades.length\n\n              var anotherItem = {}\n              anotherItem[\"turn_id\"] = await res_out.id\n              anotherItem[\"made_date\"] = item.made_date\n              anotherItem[\"name\"] = item.name\n              anotherItem[\"customer_name\"] = item.inCustomer\n              anotherItem[\"another_customer_name\"] = item.customer_name\n              anotherItem[\"user_name\"] = item.user_name\n\n              if (checkGo) {\n                anotherItem[\"in\"] = item.out\n                anotherItem[\"go\"] = `${item.customer_name}轉入`\n              } else {\n                anotherItem[\"out\"] = item.in\n                anotherItem[\"go\"] = `轉出至${item.customer_name}`\n              }\n\n              var anotherIndex = anotherSize - 1\n\n              while (anotherIndex >= 0) {\n                if (anotherAllTrades[anotherIndex].made_date > item.made_date)\n                  anotherIndex--\n                else break\n              }\n\n              var anotherSum =\n                anotherIndex == -1 ? 0 : anotherAllTrades[anotherIndex].stock\n              anotherItem[\"stock\"] = parseInt(anotherSum) - aTradeStock\n\n              // console.log(anotherItem)\n\n              // another trade id back to origin item turn_id\n              var res_in = (await RiceTradeService.post(anotherItem)).data\n              res_out[\"turn_id\"] = await res_in.id\n              await RiceTradeService.put(res_out)\n              this.changeItemId = res_out.id\n\n              anotherIndex++\n              while (anotherIndex < anotherSize) {\n                var editItem = anotherAllTrades[anotherIndex]\n                editItem.stock -= aTradeStock\n                try {\n                  await RiceTradeService.put(editItem)\n                } catch (err) {\n                  console.log(err)\n                }\n                anotherIndex++\n              }\n            } catch (err) {\n              console.log(err)\n            }\n          } catch (err) {\n            console.log(err)\n          }\n        }\n\n        index++\n        while (index < size) {\n          var editItem = this.allTrades[index]\n          editItem.stock += aTradeStock\n          try {\n            await RiceTradeService.put(editItem)\n          } catch (err) {\n            console.log(err)\n          }\n          index++\n        }\n        this.updateAllTrades()\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n\n<style scoped>\n.receipt * {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n.receipt {\n  margin-left: 0;\n  padding: 0;\n  margin-top: -100px;\n}\n\n.v-application p {\n  margin-bottom: 0;\n  color: #000;\n}\n\n.btn {\n  height: 36px;\n  min-width: 64px;\n  padding: 0 16px;\n  font-size: 0.875rem;\n  color: rgba(0, 0, 0, 0.87);\n  margin-bottom: 8px !important;\n  -webkit-appearance: button;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  align-items: center;\n  border-radius: 4px;\n  display: inline-flex;\n  flex: 0 0 auto;\n  font-weight: 500;\n  letter-spacing: 0.0892857143em;\n  justify-content: center;\n  outline: 0;\n  position: relative;\n  text-decoration: none;\n  text-indent: 0.0892857143em;\n  text-transform: uppercase;\n  transition-duration: 0.28s;\n  transition-property: box-shadow, transform, opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  cursor: pointer;\n  color: inherit;\n  border-style: none;\n  background-color: #f5f5f5;\n}\n\n.btn:after {\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n}\n\n.btn:hover {\n  filter: brightness(95%);\n}\n\n.change-position {\n  position: absolute;\n  right: 0px;\n  bottom: 100px;\n  width: 500px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Trade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trade.vue?vue&type=template&id=7632926f&scoped=true&\"\nimport script from \"./Trade.vue?vue&type=script&lang=js&\"\nexport * from \"./Trade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Trade.vue?vue&type=style&index=0&id=7632926f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7632926f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.trades,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('div',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.customerName)+\" 客戶往來交易資料\")]),_c('p',[_vm._v(_vm._s(_vm.customerInfo.homePhone)+\" | \"+_vm._s(_vm.customerInfo.phone))])],1),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('download-excel',{staticClass:\"btn\",attrs:{\"header\":`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${_vm.customerInfo.taxId} 廠商姓名： ${_vm.customerInfo.name}\\n 廠商地址： ${_vm.customerInfo.address}\\n 廠商手機： ${_vm.customerInfo.homePhone} 廠商手機： ${_vm.customerInfo.phone}`,\"data\":_vm.trades,\"fields\":_vm.json_fields,\"worksheet\":\"客戶往來交易\",\"name\":_vm.customerName + '客戶往來交易.xls'}},[_vm._v(\" 下載Excel \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printEnvelope}},[_vm._v(\" 列印信封 \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",on:{\"click\":_vm.printReceipt}},[_vm._v(\" 列印客戶往來交易 \")]),_c('v-btn',{staticClass:\"mb-2 mr-2\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.showLoan}},[_vm._v(\" 結算利息 \")]),_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2 mr-2\",attrs:{\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" 客戶往來交易 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"change-position\"},[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[(_vm.editedIndex == -1)?_c('v-container',[_c('v-row',[_c('v-menu',{ref:\"menu_made_date\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.editedItem.made_date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)},\"update:return-value\":function($event){return _vm.$set(_vm.editedItem, \"made_date\", $event)}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"交易日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},'v-text-field',attrs,false),on))]}}],null,false,545477903),model:{value:(_vm.menu_made_date),callback:function ($$v) {_vm.menu_made_date=$$v},expression:\"menu_made_date\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.editedItem.made_date),callback:function ($$v) {_vm.$set(_vm.editedItem, \"made_date\", $$v)},expression:\"editedItem.made_date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu_made_date = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu_made_date.save(_vm.editedItem.made_date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-row',[_c('v-col',{staticClass:\"pa-0\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.productNames,\"label\":\"商品選項\",\"rules\":[_vm.required]},on:{\"input\":_vm.chooseProduct},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-col',{staticClass:\"ml-2 pa-0\"},[_c('v-text-field',{staticClass:\"ml-2\",attrs:{\"label\":\"單價\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.uintPrice),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uintPrice\", $$v)},expression:\"editedItem.uintPrice\"}})],1)],1),_c('v-row',[_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"數量\"},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1):_c('v-container',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"交易日期（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.formMadeDate),callback:function ($$v) {_vm.formMadeDate=$$v},expression:\"formMadeDate\"}})],1),_c('v-row',[_c('v-col',{staticClass:\"pa-0\"},[(_vm.editedItem.name == '利息')?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"商品選項（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}}):_c('v-select',{attrs:{\"items\":_vm.productNames,\"label\":\"商品選項（無法修改）\",\"readonly\":\"\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-col',{staticClass:\"ml-2 pa-0\"},[(\n                      _vm.editedItem.name == '利息' || _vm.editedItem.name == '借現金'\n                    )?_c('v-text-field',{attrs:{\"label\":\"單價（無法修改）\",\"readonly\":\"\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.uintPrice),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uintPrice\", $$v)},expression:\"editedItem.uintPrice\"}}):_c('v-text-field',{attrs:{\"label\":\"單價\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.uintPrice),callback:function ($$v) {_vm.$set(_vm.editedItem, \"uintPrice\", $$v)},expression:\"editedItem.uintPrice\"}})],1)],1),_c('v-row',[(_vm.editedItem.name == '利息')?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"readonly\":\"\",\"label\":\"數量（無法修改）\"},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}}):(\n                    _vm.editedItem.name == '借現金' && _vm.editedItem.loan != 'not'\n                  )?_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"readonly\":\"\",\"label\":\"數量（以結算利息因此無法修改、刪除。若要修改、刪除，請刪除其結算的利息）\"},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}}):_c('v-text-field',{staticClass:\"pr-4\",attrs:{\"label\":\"數量\"},model:{value:(_vm.editedItem.number),callback:function ($$v) {_vm.$set(_vm.editedItem, \"number\", $$v)},expression:\"editedItem.number\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.editedItem.comment),callback:function ($$v) {_vm.$set(_vm.editedItem, \"comment\", $$v)},expression:\"editedItem.comment\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name == '' ||\n                _vm.editedItem.number == '' ||\n                _vm.editedItem.uintPrice == '' ||\n                _vm.editedItem.made_date == '' ||\n                _vm.editedItem.uintPrice == ''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個糧食進出交易嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"800px\"},model:{value:(_vm.dialogLoan),callback:function ($$v) {_vm.dialogLoan=$$v},expression:\"dialogLoan\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(\"計算利息\")])]),_c('v-card-text',[_c('v-row',{staticClass:\"pa-4\"},[_c('v-col',[_c('v-menu',{ref:\"menu_loan_made_date\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.loan_made_date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.loan_made_date=$event},\"update:return-value\":function($event){_vm.loan_made_date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"交易日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.loan_made_date),callback:function ($$v) {_vm.loan_made_date=$$v},expression:\"loan_made_date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu_loan_made_date),callback:function ($$v) {_vm.menu_loan_made_date=$$v},expression:\"menu_loan_made_date\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.loan_made_date),callback:function ($$v) {_vm.loan_made_date=$$v},expression:\"loan_made_date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu_loan_made_date = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu_loan_made_date.save(_vm.loan_made_date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"利率\"},model:{value:(_vm.rate),callback:function ($$v) {_vm.rate=$$v},expression:\"rate\"}})],1),_c('v-col',[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.date,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"試算截止日\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu1),callback:function ($$v) {_vm.menu1=$$v},expression:\"menu1\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu1 = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.date)\n                        _vm.calculateLoanDay()}}},[_vm._v(\" OK \")])],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.loanHeaders,\"items\":_vm.loans,\"item-key\":\"id\",\"show-select\":\"\"},scopedSlots:_vm._u([_vm._l((_vm.loanHeaders.filter((header) =>\n                  header.hasOwnProperty('formatter')\n                )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]}}})],null,true),model:{value:(_vm.selectedLoans),callback:function ($$v) {_vm.selectedLoans=$$v},expression:\"selectedLoans\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeLoan}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.rate == '' || _vm.selectedLoans.length == 0},on:{\"click\":_vm.calculateLoan}},[_vm._v(\" 儲存利息 \")])],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),(!(item.name == '借現金' && item.loan != 'not'))?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]):_vm._e()]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true},{key:\"item.grandPrice\",fn:function({ item }){return undefined}},_vm._l((_vm.headers.filter((header) =>\n      header.hasOwnProperty('formatter')\n    )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [(header.value == 'grandPrice')?_c('div',[(value < 0)?_c('div',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):_c('div',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]):_c('div',[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]}}})],null,true)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Api from '@/services/Api'\n\nconst url = 'api/inwards/products/'\n\nexport default {\n  index () {\n    return Api().get(`${url}allItems`)\n  },\n  post (item) {\n    return Api().post(`${url}addItem`, item)\n  },\n  put (item) {\n    return Api().put(`${url}${item.id}`, item)\n  },\n  delete (item) {\n    return Api().delete(`${url}${item.id}`)\n  }\n}","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"trades\"\n    :items-per-page=\"10\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:footer>\n      <v-toolbar flat>\n        <div>\n          <v-toolbar-title>{{ customerName }} 客戶往來交易資料</v-toolbar-title>\n          <p>{{ customerInfo.homePhone }} | {{ customerInfo.phone }}</p>\n        </div>\n        <v-divider class=\"mx-4\" inset vertical></v-divider>\n        <v-spacer></v-spacer>\n\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <download-excel\n              class=\"btn\"\n              :header=\"`交 易 紀 錄\\n年昌碾米工廠 地址: 玉里中華路28號\\n電話: 03-8883066 03-8882066 傳真: 03-8881066\\n 廠商編號：${customerInfo.taxId} 廠商姓名： ${customerInfo.name}\\n 廠商地址： ${customerInfo.address}\\n 廠商手機： ${customerInfo.homePhone} 廠商手機： ${customerInfo.phone}`\"\n              :data=\"trades\"\n              :fields=\"json_fields\"\n              worksheet=\"客戶往來交易\"\n              :name=\"customerName + '客戶往來交易.xls'\"\n            >\n              下載Excel\n            </download-excel>\n\n            <v-btn class=\"mb-2 mr-2\" @click=\"printEnvelope\"> 列印信封 </v-btn>\n\n            <v-btn class=\"mb-2 mr-2\" @click=\"printReceipt\">\n              列印客戶往來交易\n            </v-btn>\n\n            <v-btn color=\"primary\" class=\"mb-2 mr-2\" @click=\"showLoan\">\n              結算利息\n            </v-btn>\n\n            <v-btn color=\"primary\" class=\"mb-2 mr-2\" v-bind=\"attrs\" v-on=\"on\">\n              客戶往來交易\n            </v-btn>\n          </template>\n\n          <v-card class=\"change-position\">\n            <v-card-title>\n              <span class=\"text-h5\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container v-if=\"editedIndex == -1\">\n                <v-row>\n                  <v-menu\n                    ref=\"menu_made_date\"\n                    v-model=\"menu_made_date\"\n                    :close-on-content-click=\"false\"\n                    :return-value.sync=\"editedItem.made_date\"\n                    transition=\"scale-transition\"\n                    offset-y\n                    min-width=\"auto\"\n                  >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field\n                        v-model=\"editedItem.made_date\"\n                        label=\"交易日期\"\n                        prepend-icon=\"mdi-calendar\"\n                        readonly\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                      >\n                      </v-text-field>\n                    </template>\n                    <v-date-picker\n                      v-model=\"editedItem.made_date\"\n                      no-title\n                      scrollable\n                    >\n                      <v-spacer></v-spacer>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"menu_made_date = false\"\n                      >\n                        Cancel\n                      </v-btn>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"$refs.menu_made_date.save(editedItem.made_date)\"\n                      >\n                        OK\n                      </v-btn>\n                    </v-date-picker>\n                  </v-menu>\n                </v-row>\n                <v-row>\n                  <v-col class=\"pa-0\">\n                    <v-autocomplete\n                      v-model=\"editedItem.name\"\n                      :items=\"productNames\"\n                      label=\"商品選項\"\n                      @input=\"chooseProduct\"\n                      :rules=\"[required]\"\n                    />\n                  </v-col>\n                  <v-col class=\"ml-2 pa-0\">\n                    <v-text-field\n                      class=\"ml-2\"\n                      v-model=\"editedItem.uintPrice\"\n                      label=\"單價\"\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    class=\"pr-4\"\n                    v-model=\"editedItem.number\"\n                    label=\"數量\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                  </v-text-field>\n                </v-row>\n              </v-container>\n\n              <v-container v-else>\n                <v-row>\n                  <v-text-field\n                    v-model=\"formMadeDate\"\n                    label=\"交易日期（無法修改）\"\n                    readonly\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-col class=\"pa-0\">\n                    <v-text-field\n                      v-if=\"editedItem.name == '利息'\"\n                      class=\"pr-4\"\n                      v-model=\"editedItem.name\"\n                      label=\"商品選項（無法修改）\"\n                      readonly\n                    >\n                    </v-text-field>\n                    <v-select\n                      v-else\n                      v-model=\"editedItem.name\"\n                      :items=\"productNames\"\n                      label=\"商品選項（無法修改）\"\n                      readonly\n                      :rules=\"[required]\"\n                    >\n                    </v-select>\n                  </v-col>\n                  <v-col class=\"ml-2 pa-0\">\n                    <v-text-field\n                      v-if=\"\n                        editedItem.name == '利息' || editedItem.name == '借現金'\n                      \"\n                      v-model=\"editedItem.uintPrice\"\n                      label=\"單價（無法修改）\"\n                      readonly\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                    <v-text-field\n                      v-else\n                      v-model=\"editedItem.uintPrice\"\n                      label=\"單價\"\n                      :rules=\"[required]\"\n                    >\n                    </v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-text-field\n                    v-if=\"editedItem.name == '利息'\"\n                    class=\"pr-4\"\n                    v-model=\"editedItem.number\"\n                    readonly\n                    label=\"數量（無法修改）\"\n                  >\n                  </v-text-field>\n                  <v-text-field\n                    v-else-if=\"\n                      editedItem.name == '借現金' && editedItem.loan != 'not'\n                    \"\n                    class=\"pr-4\"\n                    v-model=\"editedItem.number\"\n                    readonly\n                    label=\"數量（以結算利息因此無法修改、刪除。若要修改、刪除，請刪除其結算的利息）\"\n                  >\n                  </v-text-field>\n                  <v-text-field\n                    v-else\n                    class=\"pr-4\"\n                    v-model=\"editedItem.number\"\n                    label=\"數量\"\n                  >\n                  </v-text-field>\n                </v-row>\n                <v-row>\n                  <v-text-field v-model=\"editedItem.comment\" label=\"備註\">\n                  </v-text-field>\n                </v-row>\n              </v-container>\n\n              <v-container v-if=\"error\" class=\"danger-alert\">\n                {{ error }}\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\"> 取消 </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"save\"\n                :disabled=\"\n                  editedItem.name == '' ||\n                  editedItem.number == '' ||\n                  editedItem.uintPrice == '' ||\n                  editedItem.made_date == '' ||\n                  editedItem.uintPrice == ''\n                \"\n              >\n                儲存\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n          <v-card>\n            <v-card-title class=\"text-h5\"\n              >你確定要刪掉這個糧食進出交易嗎？</v-card-title\n            >\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                >取消</v-btn\n              >\n              <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                >確認</v-btn\n              >\n              <v-spacer></v-spacer>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogLoan\" max-width=\"800px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"text-h5\">計算利息</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-row class=\"pa-4\">\n                <v-col>\n                  <v-menu\n                    ref=\"menu_loan_made_date\"\n                    v-model=\"menu_loan_made_date\"\n                    :close-on-content-click=\"false\"\n                    :return-value.sync=\"loan_made_date\"\n                    transition=\"scale-transition\"\n                    offset-y\n                    min-width=\"auto\"\n                  >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field\n                        v-model=\"loan_made_date\"\n                        label=\"交易日期\"\n                        prepend-icon=\"mdi-calendar\"\n                        readonly\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                      >\n                      </v-text-field>\n                    </template>\n                    <v-date-picker v-model=\"loan_made_date\" no-title scrollable>\n                      <v-spacer></v-spacer>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"menu_loan_made_date = false\"\n                      >\n                        Cancel\n                      </v-btn>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"$refs.menu_loan_made_date.save(loan_made_date)\"\n                      >\n                        OK\n                      </v-btn>\n                    </v-date-picker>\n                  </v-menu>\n                </v-col>\n                <v-col>\n                  <v-text-field v-model=\"rate\" label=\"利率\"> </v-text-field>\n                </v-col>\n                <v-col>\n                  <v-menu\n                    ref=\"menu\"\n                    v-model=\"menu1\"\n                    :close-on-content-click=\"false\"\n                    :return-value.sync=\"date\"\n                    transition=\"scale-transition\"\n                    offset-y\n                    min-width=\"auto\"\n                  >\n                    <template v-slot:activator=\"{ on, attrs }\">\n                      <v-text-field\n                        v-model=\"date\"\n                        label=\"試算截止日\"\n                        prepend-icon=\"mdi-calendar\"\n                        readonly\n                        v-bind=\"attrs\"\n                        v-on=\"on\"\n                      >\n                      </v-text-field>\n                    </template>\n                    <v-date-picker v-model=\"date\" no-title scrollable>\n                      <v-spacer></v-spacer>\n                      <v-btn text color=\"primary\" @click=\"menu1 = false\">\n                        Cancel\n                      </v-btn>\n                      <v-btn\n                        text\n                        color=\"primary\"\n                        @click=\"\n                          $refs.menu.save(date)\n                          calculateLoanDay()\n                        \"\n                      >\n                        OK\n                      </v-btn>\n                    </v-date-picker>\n                  </v-menu>\n                </v-col>\n              </v-row>\n              <v-data-table\n                v-model=\"selectedLoans\"\n                :headers=\"loanHeaders\"\n                :items=\"loans\"\n                item-key=\"id\"\n                show-select\n                class=\"elevation-1\"\n              >\n                <template\n                  v-for=\"header in loanHeaders.filter((header) =>\n                    header.hasOwnProperty('formatter')\n                  )\"\n                  v-slot:[`item.${header.value}`]=\"{ header, value }\"\n                >\n                  {{ header.formatter(value) }}\n                </template>\n              </v-data-table>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"closeLoan\">\n                取消\n              </v-btn>\n              <v-btn\n                color=\"blue darken-1\"\n                text\n                @click=\"calculateLoan\"\n                :disabled=\"rate == '' || selectedLoans.length == 0\"\n              >\n                儲存利息\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon small class=\"mr-2\" @click=\"editItem(item)\"> mdi-pencil </v-icon>\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"deleteItem(item)\"\n        v-if=\"!(item.name == '借現金' && item.loan != 'not')\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n\n    <template v-slot:no-data>\n      <p class=\"ma-3\">你還沒新增資料</p>\n      <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n      <v-btn class=\"mb-3\" color=\"primary\" @click=\"initialize\"> 重整 </v-btn>\n    </template>\n\n    <template v-slot:item.grandPrice=\"{ item }\"> </template>\n\n    <template\n      v-for=\"header in headers.filter((header) =>\n        header.hasOwnProperty('formatter')\n      )\"\n      v-slot:[`item.${header.value}`]=\"{ header, value }\"\n    >\n      <div v-if=\"header.value == 'grandPrice'\">\n        <div v-if=\"value < 0\" class=\"blue-text\">\n          {{ header.formatter(value) }}\n        </div>\n        <div v-else class=\"red-text\">\n          {{ header.formatter(value) }}\n        </div>\n      </div>\n      <div v-else>\n        {{ header.formatter(value) }}\n      </div>\n    </template>\n  </v-data-table>\n</template>\n\n<script>\nimport ProductService from \"@/services/inwards/ProductService\"\nimport OtherTradeService from \"@/services/inwards/OtherTradeService\"\n\nexport default {\n  props: [\"dates\"],\n  data: () => ({\n    lastTrade: {},\n    error: \"\",\n    json_fields: {\n      日期: {\n        callback: (value) => {\n          return value.made_date.slice(0, 10)\n        },\n      },\n      名稱: \"name\",\n      單價: \"uintPrice\",\n      數量: \"number\",\n      小計: \"aTradePrice\",\n      餘額: \"grandPrice\",\n      備註: \"comment\",\n    },\n    json_meta: [\n      [\n        {\n          key: \"charset\",\n          value: \"utf-8\",\n        },\n      ],\n    ],\n    customerName: \"\",\n    customerNames: [],\n    customerInfo: {},\n    rate: 1.5,\n    date: \"\",\n    menu1: false,\n    today: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n      .toISOString()\n      .substr(0, 10),\n\n    selectedLoans: [],\n    loans: [],\n    menu: false,\n    menu_made_date: false,\n    menu_loan_made_date: false,\n    loan_made_date: new Date(\n      Date.now() - new Date().getTimezoneOffset() * 60000\n    )\n      .toISOString()\n      .substr(0, 10),\n\n    productNames: [],\n    productArr: [],\n\n    required: (value) => value.toString().length !== 0 || \"Required.\",\n    dialog: false,\n    dialogDelete: false,\n    dialogLoan: false,\n    currentTime: \"\",\n    headers: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"名稱\", align: \"start\", sortable: false, value: \"name\" },\n      {\n        text: \"單價\",\n        value: \"uintPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"數量\",\n        value: \"number\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"小計\",\n        value: \"aTradePrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"餘額\",\n        value: \"grandPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"結算日期\",\n        value: \"payLoanDate\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => (x ? x.slice(0, 10) : \"-\"),\n      },\n      { text: \"備註\", value: \"comment\", sortable: false },\n      { text: \"功能\", value: \"actions\", sortable: false, width: \"10%\" },\n    ],\n    loanHeaders: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"名稱\", align: \"start\", sortable: false, value: \"name\" },\n      {\n        text: \"單價\",\n        value: \"uintPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"數量\",\n        value: \"number\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"小計\",\n        value: \"aTradePrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"結算天數\",\n        value: \"day\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n    ],\n\n    changeItemId: null,\n    trades: [],\n    allTrades: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      uintPrice: \"\",\n      number: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n    defaultItem: {\n      name: \"\",\n      uintPrice: \"\",\n      number: \"\",\n      comment: \"\",\n      made_date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n        .toISOString()\n        .substr(0, 10),\n    },\n  }),\n\n  mounted() {},\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"新增客戶往來交易\" : \"編輯客戶往來交易\"\n    },\n    formMadeDate() {\n      return this.editedItem.made_date.slice(0, 10)\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close()\n    },\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n    dialogLoan(val) {\n      val || this.closeLoan()\n    },\n  },\n\n  created() {\n    // this.initialize()\n  },\n\n  methods: {\n    chooseProduct() {\n      if (this.editedItem.name == \"利息\") this.editedItem.uintPrice = 1\n      else\n        this.editedItem.uintPrice = this.productArr[this.editedItem.name].price\n    },\n\n    calculateLoanDay() {\n      const date1 = new Date(this.date)\n      this.loans.forEach((loan) => {\n        const date2 = new Date(loan.made_date)\n        const diffDays = Math.ceil(\n          Math.abs(date2 - date1) / (1000 * 60 * 60 * 24)\n        )\n        loan.day = diffDays\n        // console.log(loan.day)\n      })\n    },\n\n    // 結算利息\n    async calculateLoan() {\n      this.$loading(true)\n      var sum = 0\n      var loanComment = \"\"\n      // console.log(this.selectedLoans)\n      this.selectedLoans.forEach((loan) => {\n        sum += (loan.number / 100) * this.rate * (loan.day / 30)\n        loanComment += `${loan.id} `\n      })\n\n      sum = Math.ceil(sum)\n      // console.log(sum)\n      //new rateItem\n      var size = this.allTrades.length\n      var formerSum = size != 0 ? this.allTrades[size - 1].grandPrice : 0\n      var rateItem = {\n        name: \"利息\",\n        number: sum,\n        uintPrice: 1,\n        aTradePrice: sum,\n        loan: loanComment,\n        customer_name: this.customerName,\n        user_name: this.$store.state.user.account,\n        made_date: `${this.loan_made_date.substr(0, 10)} 23:59:59`,\n        comment: `結算至${this.date.substr(0, 10)}`,\n      }\n\n      var index = size - 1\n\n      while (index >= 0) {\n        if (this.allTrades[index].made_date > rateItem.made_date) index--\n        else break\n      }\n\n      var formerSum = index == -1 ? 0 : this.allTrades[index].grandPrice\n      rateItem[\"grandPrice\"] = formerSum + sum\n\n      try {\n        var res = (await OtherTradeService.post(rateItem)).data\n        this.changeItemId = res.id\n        // pay\n        for (var loan of this.selectedLoans) {\n          try {\n            loan.payLoanDate = this.date\n            loan.loan = res.id\n            await OtherTradeService.put(loan)\n          } catch (err) {\n            console.log(err)\n          }\n        }\n      } catch (err) {\n        console.log(err)\n      }\n\n      index++\n      while (index < size) {\n        var editItem = this.allTrades[index]\n        editItem.grandPrice += sum\n        try {\n          await OtherTradeService.put(editItem)\n        } catch (err) {\n          console.log(err)\n        }\n        index++\n      }\n\n      this.updateAllTrades()\n      this.closeLoan()\n      this.$loading(false)\n    },\n\n    showLoan() {\n      this.dialogLoan = true\n      this.loans = []\n      this.allTrades.forEach((item) => {\n        if (item.loan == \"not\") this.loans.push(item)\n      })\n      this.calculateLoanDay()\n    },\n\n    checkInp(x) {\n      if (isNaN(x)) {\n        this.error = \"請輸入正確格式\"\n        return true\n      }\n      return false\n    },\n\n    printEnvelope() {\n      let routeData = this.$router.resolve({ name: \"printEnvelope\" })\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n\n    printReceipt() {\n      let routeData = this.$router.resolve({\n        name: \"printInwardsOtherTrade\",\n        query: {\n          all: false,\n        },\n      })\n      this.$store.dispatch(\"setPrintData\", this.trades)\n      this.$store.dispatch(\"setPrintCustomer\", this.customerInfo)\n      window.open(routeData.href, \"_blank\")\n    },\n\n    filterTrades() {\n      var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      var endDate = new Date(`${this.dates[1]}T24:00:00`)\n\n      this.trades = this.allTrades.filter(function (product) {\n        var date = new Date(product.made_date)\n        return date >= startDate && date <= endDate\n      })\n      // console.log(this.trades)\n    },\n\n    async initialize() {\n      // get 利息date\n      this.date = this.today\n\n      // get all products\n      const products = (await ProductService.index()).data\n      this.productArr = []\n      products.forEach((item) => {\n        this.productNames.push(item.name)\n        this.productArr[item.name] = item\n      })\n      // console.log(this.productArr)\n\n      // not or pay\n      var loanItem = {\n        name: \"借現金\",\n        price: 1,\n      }\n      this.productNames.push(\"借現金\")\n      this.productArr[\"借現金\"] = loanItem\n      // console.log(this.productNames)\n\n      // this.allTrades = (await OtherTradeService.index(this.customerName)).data\n      // // console.log(this.allTrades)\n\n      // this.getLastTenTrades()\n      this.updateAllTradesByLastTen()\n\n      // get last trade\n      // this.lastTrade = (await OtherTradeService.getLastTrade(this.customerName)).data\n    },\n\n    getLastTenTrades() {\n      this.trades = this.allTrades.slice(\n        Math.max(this.allTrades.length - 10, 0)\n      )\n    },\n\n    getChangeIdLeftTrades() {\n      let len = this.allTrades.indexOf(\n        this.allTrades.find((x) => x.id === this.changeItemId)\n      )\n      // console.log(this.changeItemId)\n      // console.log(len)\n      if (this.allTrades.length - len < 10)\n        this.trades = this.allTrades.slice(\n          Math.max(this.allTrades.length - 10, 0)\n        )\n      else this.trades = this.allTrades.slice(Math.max(len, 0))\n    },\n\n    async updateAllTrades() {\n      this.allTrades = (await OtherTradeService.index(this.customerName)).data\n      this.getChangeIdLeftTrades()\n    },\n\n    async updateAllTradesByLastTen() {\n      this.allTrades = (await OtherTradeService.index(this.customerName)).data\n      this.getLastTenTrades()\n    },\n\n    editItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.editedItem.uint = \"公斤\"\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.allTrades.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm() {\n      this.$loading(true)\n      // console.log('delete')\n\n      // edit product stock\n      if (\n        !(this.editedItem.name == \"利息\" || this.editedItem.name == \"借現金\")\n      ) {\n        var productItem = this.productArr[this.editedItem.name]\n        productItem.stock = productItem.stock + this.editedItem.number\n        try {\n          await ProductService.put(productItem)\n        } catch (err) {\n          console.log(err)\n        }\n      }\n\n      var gap = this.editedItem.aTradePrice\n      var index = this.editedIndex\n      index++\n\n      while (index != this.allTrades.length) {\n        var item = this.allTrades[index]\n        item[\"grandPrice\"] = item.grandPrice - gap\n        try {\n          await OtherTradeService.put(item)\n          index++\n        } catch (err) {\n          console.log(err)\n        }\n      }\n\n      // if 利息\n      if (this.editedItem.name == \"利息\") {\n        var idArr = (this.editedItem.loan + \"\").split(\" \")\n\n        for (var id of idArr) {\n          if (id == \"\") break\n          var item = this.allTrades.find((x) => x.id === parseInt(id))\n          item.loan = \"not\"\n          item.payLoanDate = null\n          try {\n            await OtherTradeService.put(item)\n          } catch (err) {\n            console.log(err)\n          }\n        }\n      }\n\n      // delete item\n      try {\n        await OtherTradeService.delete(this.editedItem)\n      } catch (err) {\n        console.log(err)\n      }\n\n      this.updateAllTradesByLastTen()\n      this.closeDelete()\n      this.$loading(false)\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error = \"\"\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeLoan() {\n      this.dialogLoan = false\n      this.selectedLoans = []\n      this.date = this.today\n    },\n\n    async save() {\n      this.$loading(true)\n      var item = this.editedItem\n\n      // check input is correct\n      if (this.checkInp(item.number) || this.checkInp(item.uintPrice)) {\n        this.$loading(false)\n        return\n      }\n      var size = this.allTrades.length\n\n      item[\"customer_name\"] = this.customerName\n      item[\"user_name\"] = this.$store.state.user.account\n      item[\"aTradePrice\"] = Math.round(item.uintPrice * item.number)\n\n      var sum = 0\n      // console.log(item)\n\n      // edit product stock\n      if (\n        !(this.editedItem.name == \"利息\" || this.editedItem.name == \"借現金\")\n      ) {\n        var productItem = this.productArr[item.name]\n        var x = item.number\n        if (this.editedIndex > -1)\n          x = x - this.allTrades[this.editedIndex].number\n        productItem.stock = productItem.stock - x\n        try {\n          await ProductService.put(productItem)\n        } catch (err) {\n          console.log(err)\n        }\n      }\n\n      if (this.editedIndex > -1) {\n        // console.log('edit')\n\n        this.changeItemId = item.id\n\n        if (this.editedIndex != 0) {\n          sum = this.allTrades[this.editedIndex - 1].grandPrice\n        }\n        while (1) {\n          sum = sum + item.aTradePrice\n          item[\"grandPrice\"] = sum\n          try {\n            await OtherTradeService.put(item)\n            this.editedIndex++\n            if (this.editedIndex == size) break\n            item = this.allTrades[this.editedIndex]\n          } catch (err) {\n            console.log(err)\n          }\n        }\n        this.updateAllTrades()\n      } else {\n        // console.log('new')\n\n        if (item.name == \"借現金\") item.loan = \"not\"\n\n        item.made_date = `${item.made_date} 23:59:59`\n        var index = size - 1\n\n        while (index >= 0) {\n          if (this.allTrades[index].made_date > item.made_date) index--\n          else break\n        }\n\n        sum = index == -1 ? 0 : this.allTrades[index].grandPrice\n        item[\"grandPrice\"] = sum + item.aTradePrice\n        // console.log(item)\n\n        try {\n          var res = (await OtherTradeService.post(item)).data\n          this.changeItemId = res.id\n        } catch (err) {\n          console.log(err)\n        }\n\n        index++\n        while (index < size) {\n          var editItem = this.allTrades[index]\n          editItem.grandPrice += item.aTradePrice\n          try {\n            await OtherTradeService.put(editItem)\n          } catch (err) {\n            console.log(err)\n          }\n          index++\n        }\n\n        this.updateAllTrades()\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n\n<style scoped>\n.v-application p {\n  margin-bottom: 0;\n  color: #000;\n}\n\n.btn {\n  height: 36px;\n  min-width: 64px;\n  padding: 0 16px;\n  font-size: 0.875rem;\n  color: rgba(0, 0, 0, 0.87);\n  margin-bottom: 8px !important;\n  -webkit-appearance: button;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  align-items: center;\n  border-radius: 4px;\n  display: inline-flex;\n  flex: 0 0 auto;\n  font-weight: 500;\n  letter-spacing: 0.0892857143em;\n  justify-content: center;\n  outline: 0;\n  position: relative;\n  text-decoration: none;\n  text-indent: 0.0892857143em;\n  text-transform: uppercase;\n  transition-duration: 0.28s;\n  transition-property: box-shadow, transform, opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  cursor: pointer;\n  color: inherit;\n  border-style: none;\n  background-color: #f5f5f5;\n}\n\n.btn:after {\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n}\n\n.btn:hover {\n  filter: brightness(95%);\n}\n\n.change-position {\n  position: absolute;\n  right: 0px;\n  bottom: 100px;\n  width: 500px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OtherTrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OtherTrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OtherTrade.vue?vue&type=template&id=285f4b66&scoped=true&\"\nimport script from \"./OtherTrade.vue?vue&type=script&lang=js&\"\nexport * from \"./OtherTrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OtherTrade.vue?vue&type=style&index=0&id=285f4b66&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"285f4b66\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <titlepanel title=\"進 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n          <b>篩選條件</b>\n      </div>\n      <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"4\"\n          class=\"d-flex\">\n          <v-autocomplete\n          hide-details\n            v-model=\"searchCustomer\"\n            :items=\"customerNames\"\n            label=\"顧客選項\"\n            dense\n            outlined\n            flat\n            solo\n            />\n          <v-btn\n            class=\"ml-1\"\n            depressed\n            :disabled = \"searchCustomer == 'null'\"\n            :to=\"{\n              name: 'inwardsTrade',\n              params: {\n                customerName: searchCustomer\n              }\n            }\"\n            @click=\"$router.go()\">\n            搜尋\n          </v-btn>\n        </v-col>\n      \n        <v-col\n          cols=\"12\"\n          md=\"6\"\n          class=\"d-flex flex-row\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"dateText\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\">\n              </v-text-field>\n            </template>\n            <v-date-picker\n              v-model=\"dates\"\n              no-title\n              range>\n              <v-spacer></v-spacer>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"menu = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.menu.save(dates); filterTrades();\">\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n          <div class=\"ml-1\">\n            <v-btn @click=\"changeDate('today')\">今日</v-btn>\n            <v-btn @click=\"changeDate('week')\">前七日</v-btn>\n            <v-btn @click=\"changeDate('month')\">前一個月</v-btn>\n            <v-btn @click=\"changeDate('year')\">前一年</v-btn>\n          </div>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"2\">\n          <v-sheet\n            class=\"mx-auto transition-swing rounded-lg py-1\"\n            elevation=\"3\"\n            width=\"100%\"\n          >\n            <h4>客戶往來最後交易金額</h4>\n            <h4\n              v-if=\"lastOtherTrade.grandPrice<0\" \n              class=\"blue-text\">\n              {{ lastOtherTradeGrandPrice }}\n            </h4>\n            <h4\n              v-else \n              class=\"red-text\">\n              {{ lastOtherTradeGrandPrice }}\n            </h4>\n          </v-sheet>\n\n          \n        </v-col>\n      </v-row>\n    </div>\n    <div v-if=\"customerName=='null'\">\n      請選擇上面的顧客選項\n    </div>\n    <div v-else>\n      <Trade \n        ref=\"riceTrade\"\n        :dates=\"dates\" />\n      <OtherTrade \n        ref=\"otherTrade\"\n        :dates=\"dates\" />\n    </div>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport CustomerService from '@/services/inwards/CustomerService'\nimport Trade from './Trade.vue'\nimport OtherTrade from './OtherTrade.vue'\nimport OtherTradeService from '@/services/inwards/OtherTradeService'\n\n\nexport default {\n  components: { Titlepanel, Trade, OtherTrade },\n  data: () => ({\n    today: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\n    dateText: '',\n    dates: [],\n    menu: false,\n\n    searchCustomer:'null',\n    customerNames: [],\n    customerName: '',\n    customerInfo:{},\n    lastOtherTrade:{},\n\n  }),\n\n  mounted () {\n  },\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增糧食進出交易' : '編輯糧食進出交易'\n    },\n    lastOtherTradeGrandPrice () {\n      if (this.lastOtherTrade.grandPrice==undefined){\n        return 0\n      }else{\n        return (\"\"+this.lastOtherTrade.grandPrice).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n      }\n    },\n    \n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n    dialogCashTime (val){\n      val || this.closeCashTime()\n    }\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    \n    printEnvelope(){\n      let routeData = this.$router.resolve({name: 'printEnvelope'});\n      this.$store.dispatch('setPrintCustomer', this.customerInfo)\n      window.open(routeData.href, '_blank')\n\n    },\n    printReceipt(){\n      let routeData = this.$router.resolve({name: 'printInwardsTrade', query: {date: this.dates[0]}});\n      this.$store.dispatch('setPrintData', this.trades)\n      this.$store.dispatch('setPrintCustomer', this.customerInfo)\n      window.open(routeData.href, '_blank')\n\n    },\n\n    checkInp(x){\n      if (isNaN(x)){\n        this.error=\"請輸入正確格式\";\n        return true;\n      }\n      return false;\n    },\n\n\n    dateRangeText () {\n      if(this.dates[1] == undefined){\n        this.dates[1] = this.dates[0]\n      }\n      if(new Date(this.dates[0])> new Date(this.dates[1])){\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + '~' + this.dates[1]\n    },\n\n    changeDate (x){\n      var date\n      if(x=='today'){\n        this.dates[0] = this.today\n        this.dates[1] = this.today\n      }else if(x=='week'){\n        date = new Date(this.dates[0])\n        date.setDate(date.getDate() - 7);\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }else if(x=='month'){\n        date = new Date(this.dates[0])\n        date.setDate(date.getDate() - 30);\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }else if(x=='year'){\n        date = new Date(this.dates[0])\n        date.setFullYear(date.getFullYear()-1);\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }\n      this.dateRangeText()\n      this.$refs.riceTrade.filterTrades()\n      this.$refs.otherTrade.filterTrades()\n    },\n\n    filterTrades (){\n      this.dateRangeText()\n      this.$refs.riceTrade.filterTrades()\n      this.$refs.otherTrade.filterTrades()\n    },\n\n    async search(){\n      // all customer names\n      try{\n        var customerData = (await CustomerService.index()).data\n        this.customerNames = customerData.map(value => value.name)\n\n        // get this customer\n        this.customerName = this.$store.state.route.params.customerName\n        if(this.customerName == 'null') {\n          return\n        }\n\n        // customer info\n        customerData.forEach(item=>{\n          if(item.name == this.customerName) this.customerInfo = item\n        })\n\n        // console.log(this.dates)\n        this.$refs.riceTrade.dates = this.dates\n        this.$refs.riceTrade.customerName = this.customerName\n        this.$refs.riceTrade.customerNames = this.customerNames\n        this.$refs.riceTrade.customerInfo = this.customerInfo\n        this.$refs.riceTrade.initialize()\n\n        this.$refs.otherTrade.dates = this.dates\n        this.$refs.otherTrade.customerName = this.customerName\n        this.$refs.otherTrade.customerNames = this.customerNames\n        this.$refs.otherTrade.customerInfo = this.customerInfo\n        this.$refs.otherTrade.initialize()\n\n        // get last trade\n        this.lastOtherTrade = (await OtherTradeService.getLastTrade(this.customerName)).data\n\n      }catch(err){\n        console.log(err)\n      }\n      \n\n    },\n\n    initialize () {\n      // get dates range\n      // var date = new Date(this.today)\n      // date.setDate(date.getDate() - 30);\n      // this.dates[0] = date.toISOString().substr(0, 10)\n      // this.dates[1] = this.today\n      // this.dateRangeText()\n\n      this.search()\n\n      \n    },\n\n  }\n}\n</script>\n\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TradeView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TradeView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TradeView.vue?vue&type=template&id=7e87d9a4&\"\nimport script from \"./TradeView.vue?vue&type=script&lang=js&\"\nexport * from \"./TradeView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"進 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"產品銷貨篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates)\n                _vm.dateRangeText()}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"d-flex flex-row\",attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('today')}}},[_vm._v(\"今日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('week')}}},[_vm._v(\"前七日\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('month')}}},[_vm._v(\"前一個月\")]),_c('v-btn',{on:{\"click\":function($event){return _vm.changeDate('year')}}},[_vm._v(\"前一年\")])],1)],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\" 產品資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋產品\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.products,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增產品 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[(_vm.editedIndex != -1)?_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"產品名稱（無法修改）\",\"readonly\":\"\"},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1):_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"產品名稱\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"庫存\"},model:{value:(_vm.editedItem.stock),callback:function ($$v) {_vm.$set(_vm.editedItem, \"stock\", $$v)},expression:\"editedItem.stock\"}})],1),_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"單價\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.price),callback:function ($$v) {_vm.$set(_vm.editedItem, \"price\", $$v)},expression:\"editedItem.price\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name == '' || _vm.editedItem.price == ''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個產品嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"1200px\"},model:{value:(_vm.dialogSearch),callback:function ($$v) {_vm.dialogSearch=$$v},expression:\"dialogSearch\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5 justify-space-between\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.editedItem.name)+\" \")]),_c('div',{staticClass:\"text1 d-flex flex-row px-2\"},[_vm._v(\" 共賣出\"+_vm._s(_vm.sum)+\"份 \")])]),_c('v-card-text',[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.tradeHeaders,\"items\":_vm.trades,\"item-key\":\"id\"},scopedSlots:_vm._u([_vm._l((_vm.tradeHeaders.filter((header) =>\n                      header.hasOwnProperty('formatter')\n                    )),function(header){return {key:`item.${header.value}`,fn:function({ header, value }){return [(header.value == 'grandPrice' && value > 0)?_c('div',{staticClass:\"blue-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value < 0)?_c('div',{staticClass:\"red-text\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):(header.value == 'grandPrice' && value == 0)?_c('div',{staticClass:\"zero\"},[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(header.formatter(value))+\" \")])]}}})],null,true)})],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.editItem(item)}}},[_vm._v(\" mdi-pencil \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")]),_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.searchItem(item)}}},[_vm._v(\" mdi-card-search \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <titlepanel title=\"進 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n        <b>產品銷貨篩選條件</b>\n      </div>\n      <v-row>\n        <!-- <v-col\n          cols=\"12\"\n          md=\"3\">\n          <v-autocomplete\n            v-model=\"searchProduct\"\n            :items=\"productNames\"\n            label=\"產品選項\"\n            dense\n            outlined\n            solo/>\n        </v-col> -->\n\n        <v-col cols=\"12\" md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"dateText\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n              </v-text-field>\n            </template>\n            <v-date-picker v-model=\"dates\" no-title range>\n              <v-spacer></v-spacer>\n              <v-btn text color=\"primary\" @click=\"menu = false\"> Cancel </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"\n                  $refs.menu.save(dates)\n                  dateRangeText()\n                \"\n              >\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col cols=\"12\" md=\"4\" class=\"d-flex flex-row\">\n          <v-btn @click=\"changeDate('today')\">今日</v-btn>\n          <v-btn @click=\"changeDate('week')\">前七日</v-btn>\n          <v-btn @click=\"changeDate('month')\">前一個月</v-btn>\n          <v-btn @click=\"changeDate('year')\">前一年</v-btn>\n        </v-col>\n\n        <!-- <v-col\n          cols=\"12\"\n          md=\"1\"\n          class=\"pt-3\">\n          <v-btn\n            class=\"d-flex\"\n            :disabled = \"searchProduct == '' || dates == null\"\n            @click=\"calculateSum\">\n            搜尋\n          </v-btn>\n        </v-col> -->\n      </v-row>\n    </div>\n\n    <v-card>\n      <v-card-title>\n        產品資料\n        <v-spacer></v-spacer>\n        <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"搜尋產品\"\n          single-line\n          hide-details\n        ></v-text-field>\n      </v-card-title>\n\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"products\"\n        :items-per-page=\"10\"\n        class=\"elevation-1\"\n        item-key=\"name\"\n        :search=\"search\"\n        :custom-filter=\"filterOnlyCapsText\"\n      >\n        <template v-slot:footer>\n          <v-toolbar flat>\n            <v-spacer></v-spacer>\n\n            <v-dialog v-model=\"dialog\" max-width=\"500px\">\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                  color=\"primary\"\n                  dark\n                  class=\"mb-2\"\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                >\n                  新增產品\n                </v-btn>\n              </template>\n\n              <v-card>\n                <v-card-title>\n                  <span class=\"text-h5\">{{ formTitle }}</span>\n                </v-card-title>\n\n                <v-card-text>\n                  <v-container>\n                    <v-row v-if=\"editedIndex != -1\">\n                      <v-text-field\n                        v-model=\"editedItem.name\"\n                        label=\"產品名稱（無法修改）\"\n                        readonly\n                      >\n                      </v-text-field>\n                    </v-row>\n                    <v-row v-else>\n                      <v-text-field\n                        v-model=\"editedItem.name\"\n                        label=\"產品名稱\"\n                        :rules=\"[required]\"\n                      >\n                      </v-text-field>\n                    </v-row>\n                    <v-row>\n                      <v-text-field v-model=\"editedItem.stock\" label=\"庫存\">\n                      </v-text-field>\n                    </v-row>\n                    <v-row>\n                      <v-text-field\n                        v-model=\"editedItem.price\"\n                        label=\"單價\"\n                        :rules=\"[required]\"\n                      >\n                      </v-text-field>\n                    </v-row>\n                  </v-container>\n                  <v-container v-if=\"error\" class=\"danger-alert\">\n                    {{ error }}\n                  </v-container>\n                </v-card-text>\n\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"close\">\n                    取消\n                  </v-btn>\n                  <v-btn\n                    color=\"blue darken-1\"\n                    text\n                    @click=\"save\"\n                    :disabled=\"editedItem.name == '' || editedItem.price == ''\"\n                  >\n                    儲存\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n\n            <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n              <v-card>\n                <v-card-title class=\"text-h5\"\n                  >你確定要刪掉這個產品嗎？</v-card-title\n                >\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                    >取消</v-btn\n                  >\n                  <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                    >確認</v-btn\n                  >\n                  <v-spacer></v-spacer>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n\n            <!-- check how much the product is sold -->\n            <v-dialog v-model=\"dialogSearch\" max-width=\"1200px\">\n              <v-card>\n                <v-card-title class=\"text-h5 justify-space-between\">\n                  <div>\n                    {{ editedItem.name }}\n                  </div>\n                  <div class=\"text1 d-flex flex-row px-2\">\n                    共賣出{{ sum }}份\n                  </div>\n                </v-card-title>\n                <v-card-text>\n                  <v-data-table\n                    :headers=\"tradeHeaders\"\n                    :items=\"trades\"\n                    item-key=\"id\"\n                    class=\"elevation-1\"\n                  >\n                    <template\n                      v-for=\"header in tradeHeaders.filter((header) =>\n                        header.hasOwnProperty('formatter')\n                      )\"\n                      v-slot:[`item.${header.value}`]=\"{ header, value }\"\n                    >\n                      <!-- {{ header.formatter(value) }} -->\n                      <div\n                        v-if=\"header.value == 'grandPrice' && value > 0\"\n                        class=\"blue-text\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div\n                        v-else-if=\"header.value == 'grandPrice' && value < 0\"\n                        class=\"red-text\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div\n                        v-else-if=\"header.value == 'grandPrice' && value == 0\"\n                        class=\"zero\"\n                      >\n                        {{ header.formatter(value) }}\n                      </div>\n                      <div v-else>\n                        {{ header.formatter(value) }}\n                      </div>\n                    </template>\n                  </v-data-table>\n                </v-card-text>\n              </v-card>\n            </v-dialog>\n          </v-toolbar>\n        </template>\n\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\n            mdi-pencil\n          </v-icon>\n          <v-icon small class=\"mr-2\" @click=\"deleteItem(item)\">\n            mdi-delete\n          </v-icon>\n          <v-icon small class=\"mr-2\" @click=\"searchItem(item)\">\n            mdi-card-search\n          </v-icon>\n        </template>\n\n        <template v-slot:no-data>\n          <p class=\"ma-3\">你還沒新增資料</p>\n          <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n          <v-btn class=\"mb-3\" color=\"primary\" @click=\"initialize\"> 重整 </v-btn>\n        </template>\n      </v-data-table>\n    </v-card>\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from \"../TitlePanel.vue\"\nimport ProductService from \"@/services/inwards/ProductService\"\nimport OtherTradeService from \"@/services/inwards/OtherTradeService\"\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    tradeHeaders: [\n      {\n        text: \"日期\",\n        value: \"made_date\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => x.slice(0, 10),\n      },\n      { text: \"顧客\", align: \"start\", sortable: false, value: \"customer_name\" },\n      {\n        text: \"單價\",\n        value: \"uintPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"數量\",\n        value: \"number\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"小計\",\n        value: \"aTradePrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"餘額\",\n        value: \"grandPrice\",\n        sortable: false,\n        formatter: (x) => (\"\" + x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      },\n      {\n        text: \"結算日期\",\n        value: \"payLoanDate\",\n        sortable: false,\n        width: \"105px\",\n        formatter: (x) => (x ? x.slice(0, 10) : \"-\"),\n      },\n      { text: \"備註\", value: \"comment\", sortable: false },\n    ],\n    trades: [],\n\n    search: \"\",\n    sum: 0,\n    today: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n      .toISOString()\n      .substr(0, 10),\n    dateText: \"\",\n    dates: [],\n    menu: false,\n\n    // searchProduct:'',\n    error: \"\",\n    required: (value) => !!value || \"Required.\",\n    dialog: false,\n    dialogDelete: false,\n    dialogSearch: false,\n    headers: [\n      {\n        text: \"產品\",\n        align: \"start\",\n        sortable: false,\n        value: \"name\",\n      },\n      { text: \"庫存\", value: \"stock\", sortable: false },\n      { text: \"單價\", value: \"price\", sortable: false },\n      { text: \"功能\", value: \"actions\", sortable: false },\n    ],\n    products: [],\n    productNames: [],\n    editedIndex: -1,\n    editedItem: {\n      name: \"\",\n      stock: \"\",\n      price: \"\",\n    },\n    defaultItem: {\n      name: \"\",\n      stock: \"\",\n      price: \"\",\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"新增產品\" : \"編輯產品\"\n    },\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close()\n    },\n    dialogDelete(val) {\n      val || this.closeDelete()\n    },\n    dialogSearch(val) {\n      val || this.closeSearch()\n    },\n  },\n\n  created() {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    changeDate(x) {\n      var date\n      if (x == \"today\") {\n        this.dates[0] = this.today\n        this.dates[1] = this.today\n      } else if (x == \"week\") {\n        date = new Date(this.dates[0])\n        date.setDate(date.getDate() - 7)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"month\") {\n        date = new Date(this.dates[0])\n        date.setMonth(date.getMonth() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      } else if (x == \"year\") {\n        date = new Date(this.dates[0])\n        date.setFullYear(date.getFullYear() - 1)\n        this.dates[0] = date.toISOString().substr(0, 10)\n      }\n      this.dateRangeText()\n    },\n\n    filterOnlyCapsText(value, search, item) {\n      return (\n        value != null &&\n        search != null &&\n        typeof value === \"string\" &&\n        value.toString().indexOf(search) !== -1\n      )\n    },\n\n    // async calculateSum(){\n    //   this.$loading(true)\n    //   this.sum = 0\n    //   var startDate = new Date(`${this.dates[0]}T00:00:00`)\n    //   var endDate = new Date(`${this.dates[1]}T24:00:00`)\n    //   // console.log(startDate.toISOString()+','+endDate.toISOString())\n    //   var allItems = (await OtherTradeService.getAllItemsByProduct(this.searchProduct, startDate.toISOString()+','+endDate.toISOString())).data\n    //   console.log(allItems)\n\n    //   allItems.forEach(item=>{\n    //     this.sum+=item.number\n    //   })\n    //   this.$loading(false)\n    // },\n\n    dateRangeText() {\n      if (this.dates[1] == undefined) {\n        this.dates[1] = this.dates[0]\n      }\n      if (new Date(this.dates[0]) > new Date(this.dates[1])) {\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + \"~\" + this.dates[1]\n    },\n\n    checkInp(x) {\n      if (isNaN(x)) {\n        this.error = \"請輸入正確格式\"\n        return true\n      }\n      return false\n    },\n\n    async initialize() {\n      this.products = (await ProductService.index()).data\n      this.productNames = this.products.map((value) => value.name)\n\n      // get dates range\n      var date = new Date(this.today)\n      date.setDate(date.getDate() - 30)\n      this.dates[0] = date.toISOString().substr(0, 10)\n      this.dates[1] = this.today\n      this.dateRangeText()\n    },\n\n    editItem(item) {\n      this.editedIndex = this.products.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialog = true\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.products.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async searchItem(item) {\n      this.sum = 0\n\n      var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      var endDate = new Date(`${this.dates[1]}T24:00:00`)\n      this.trades = (\n        await OtherTradeService.getAllItemsByProduct(\n          item.name,\n          startDate.toISOString() + \",\" + endDate.toISOString()\n        )\n      ).data\n      console.log(this.trades)\n\n      // the amounts\n      this.trades.forEach((item) => {\n        this.sum += item.number\n      })\n\n      this.editedItem = Object.assign({}, item)\n\n      this.dialogSearch = true\n    },\n\n    async deleteItemConfirm() {\n      this.$loading(true)\n      try {\n        await ProductService.delete(this.editedItem)\n        this.closeDelete()\n      } catch (err) {\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close() {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n      this.error = \"\"\n    },\n\n    closeDelete() {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeSearch() {\n      this.dialogSearch = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save() {\n      this.$loading(true)\n      var item = this.editedItem\n\n      // check input is correct\n      if (this.checkInp(item.price) || this.checkInp(item.stock)) {\n        this.$loading(false)\n        return\n      }\n      if (item.stock == \"\") item.stock = 0\n\n      if (this.editedIndex > -1) {\n        try {\n          await ProductService.put(item)\n          this.initialize()\n        } catch (err) {\n          console.log(err)\n        }\n      } else {\n        const checkSameItem = (item) => item == this.editedItem.name\n        if (this.productNames.some(checkSameItem)) {\n          this.error = \"你已經有這個品項了\"\n          this.$loading(false)\n          return\n        }\n        try {\n          await ProductService.post(item)\n          this.initialize()\n        } catch (err) {\n          console.log(err)\n        }\n      }\n      this.close()\n      this.$loading(false)\n    },\n  },\n}\n</script>\n<style scoped>\n.text1 {\n  height: auto;\n  text-align: left;\n  font-size: 24px;\n  padding: 5px 10px;\n  color: white;\n  background-color: #1976d2;\n  border-radius: 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=7349567f&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=7349567f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7349567f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('titlepanel',{attrs:{\"title\":\"進 貨 \"}},[_c('div',{staticClass:\"white\"},[_c('div',{staticClass:\"subTitle\"},[_c('b',[_vm._v(\"米銷貨篩選條件\")])]),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.ricekindNames,\"label\":\"產品選項\",\"dense\":\"\",\"outlined\":\"\",\"solo\":\"\"},model:{value:(_vm.searchRicekind),callback:function ($$v) {_vm.searchRicekind=$$v},expression:\"searchRicekind\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"篩選日期\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"dense\":\"\",\"outlined\":\"\",\"flat\":\"\",\"solo\":\"\"},model:{value:(_vm.dateText),callback:function ($$v) {_vm.dateText=$$v},expression:\"dateText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.$refs.menu.save(_vm.dates); _vm.dateRangeText();}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{staticClass:\"pt-3\",attrs:{\"cols\":\"12\",\"md\":\"1\"}},[_c('v-btn',{staticClass:\"d-flex\",attrs:{\"disabled\":_vm.searchRicekind == '' || _vm.dates == null},on:{\"click\":_vm.calculateSum}},[_vm._v(\" 搜尋 \")])],1),(_vm.searchRicekind != '')?_c('v-col',{staticClass:\"pl-0 d-flex flex-row\",attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('div',[_c('b',{staticClass:\"text1\"},[_vm._v(_vm._s(this.searchRicekind)+\"進貨\"+_vm._s(this.sum)+\"份\")])])]):_vm._e()],1)],1),_c('v-card',[_c('v-card-title',[_vm._v(\" 米的種類資料 \"),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"搜尋米的種類\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.ricekinds,\"items-per-page\":10,\"item-key\":\"name\",\"search\":_vm.search,\"custom-filter\":_vm.filterOnlyCapsText},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 新增米項目 \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.formTitle))])]),_c('v-card-text',[_c('v-container',[_c('v-row',[_c('v-text-field',{attrs:{\"label\":\"米項目名稱\",\"rules\":[_vm.required]},model:{value:(_vm.editedItem.name),callback:function ($$v) {_vm.$set(_vm.editedItem, \"name\", $$v)},expression:\"editedItem.name\"}})],1)],1),(_vm.error)?_c('v-container',{staticClass:\"danger-alert\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.close}},[_vm._v(\" 取消 \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.editedItem.name==''},on:{\"click\":_vm.save}},[_vm._v(\" 儲存 \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"text-h5\"},[_vm._v(\"你確定要刪掉這個米項目嗎？\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeDelete}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItemConfirm}},[_vm._v(\"確認\")]),_c('v-spacer')],1)],1)],1)],1)]},proxy:true},{key:\"item.actions\",fn:function({ item }){return [_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteItem(item)}}},[_vm._v(\" mdi-delete \")])]}},{key:\"no-data\",fn:function(){return [_c('p',{staticClass:\"ma-3\"},[_vm._v(\"你還沒新增資料\")]),_c('p',{staticClass:\"ma-3\"},[_vm._v(\"如果你新增了，可以按下面的按鈕重整\")]),_c('v-btn',{staticClass:\"mb-3\",attrs:{\"color\":\"primary\"},on:{\"click\":_vm.initialize}},[_vm._v(\" 重整 \")])]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <titlepanel title=\"進 貨 \">\n    <div class=\"white\">\n      <div class=\"subTitle\">\n        <b>米銷貨篩選條件</b>\n      </div>\n      <v-row>\n        <v-col\n          cols=\"12\"\n          md=\"3\">\n          <v-autocomplete\n            v-model=\"searchRicekind\"\n            :items=\"ricekindNames\"\n            label=\"產品選項\"\n            dense\n            outlined\n            solo/>\n        </v-col>\n      \n        <v-col\n          cols=\"12\"\n          md=\"3\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            transition=\"scale-transition\"\n            offset-y\n            min-width=\"auto\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                v-model=\"dateText\"\n                label=\"篩選日期\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                dense\n                outlined\n                flat\n                solo\n                v-bind=\"attrs\"\n                v-on=\"on\">\n              </v-text-field>\n            </template>\n            <v-date-picker\n              v-model=\"dates\"\n              no-title\n              range>\n              <v-spacer></v-spacer>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"menu = false\">\n                Cancel\n              </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.menu.save(dates); dateRangeText();\">\n                OK\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n\n        <v-col\n          cols=\"12\"\n          md=\"1\"\n          class=\"pt-3\">\n          <v-btn\n            class=\"d-flex\"\n            :disabled = \"searchRicekind == '' || dates == null\"\n            @click=\"calculateSum\">\n            搜尋\n          </v-btn>\n        </v-col>\n\n        <v-col\n          v-if=\"searchRicekind != ''\"\n          cols=\"12\"\n          md=\"5\"\n          class=\"pl-0 d-flex flex-row \">\n          <div>\n            <b class=\"text1\">{{this.searchRicekind}}進貨{{this.sum}}份</b>\n          </div>\n        </v-col>\n      </v-row>\n    </div>\n\n    <v-card>\n    <v-card-title>\n      米的種類資料\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"mdi-magnify\"\n        label=\"搜尋米的種類\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"ricekinds\"\n      :items-per-page=\"10\"\n      class=\"elevation-1\"\n      item-key=\"name\"\n      :search=\"search\"\n      :custom-filter=\"filterOnlyCapsText\">\n\n      <template v-slot:footer>\n        <v-toolbar flat>\n          <v-spacer></v-spacer>\n\n          <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                dark\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\">\n                新增米項目\n              </v-btn>\n            </template>\n\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">{{ formTitle }}</span>\n              </v-card-title>\n\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-text-field\n                      v-model=\"editedItem.name\"\n                      label=\"米項目名稱\"\n                      :rules=\"[required]\">\n                    </v-text-field>\n                  </v-row>\n                </v-container>\n\n                <v-container v-if=\"error\" class=\"danger-alert\">\n                  {{error}}\n                </v-container>\n              </v-card-text>\n\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"close\">\n                  取消\n                </v-btn>\n                <v-btn\n                  color=\"blue darken-1\"\n                  text\n                  @click=\"save\"\n                  :disabled=\"editedItem.name==''\">\n                  儲存\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"text-h5\">你確定要刪掉這個米項目嗎？</v-card-title>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">取消</v-btn>\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">確認</v-btn>\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon\n          small\n          class=\"mr-2\"\n          @click=\"deleteItem(item)\">\n          mdi-delete\n        </v-icon>\n      </template>\n\n      <template v-slot:no-data>\n      <p class=\"ma-3\">你還沒新增資料</p>\n      <p class=\"ma-3\">如果你新增了，可以按下面的按鈕重整</p>\n      <v-btn\n        class=\"mb-3\"\n        color=\"primary\"\n        @click=\"initialize\">\n        重整\n      </v-btn>\n    </template>\n\n    </v-data-table>\n    </v-card>\n\n  </titlepanel>\n</template>\n\n<script>\nimport Titlepanel from '../TitlePanel.vue'\nimport RicekindService from '@/services/inwards/RicekindService'\nimport RiceTradeService from '@/services/inwards/RiceTradeService'\n\nexport default {\n  components: { Titlepanel },\n  data: () => ({\n    search:'',\n    error: '',\n    sum: 0,\n    today: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\n    dateText: '',\n    dates: [],\n    menu: false,\n    \n    searchRicekind:'',\n    required: (value) => !!value || 'Required.',\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      {\n        text: '米項目名',\n        align: 'start',\n        sortable: false,\n        value: 'name',\n      },\n      { text: '功能', value: 'actions', sortable: false },\n    ],\n    ricekinds: [],\n    ricekindNames: [],\n    editedIndex: -1,\n    editedItem: {\n      name: '',\n    },\n    defaultItem: {\n      name: '',\n    },\n  }),\n\n  computed: {\n    formTitle () {\n      return this.editedIndex === -1 ? '新增米項目' : '編輯米項目'\n    },\n  },\n\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n    dialogDelete (val) {\n      val || this.closeDelete()\n    },\n  },\n\n  created () {\n    this.$loading(true)\n    this.initialize()\n    this.$loading(false)\n  },\n\n  methods: {\n    filterOnlyCapsText (value, search, item) {\n      return value != null &&\n            search != null &&\n            typeof value === 'string' &&\n            value.toString().indexOf(search) !== -1\n    },\n\n    async calculateSum(){\n      this.$loading(true)\n      this.sum = 0\n      var startDate = new Date(`${this.dates[0]}T00:00:00`)\n      var endDate = new Date(`${this.dates[1]}T24:00:00`)\n      var allItems = (await RiceTradeService.getAllItemsByRicekind(this.searchRicekind, startDate.toISOString()+','+endDate.toISOString())).data\n      // console.log(allItems)\n      \n      allItems.forEach(item=>{\n        if(item.turn_id == -1){\n          this.sum+=item.in\n          this.sum-=item.out\n        }\n      })\n      this.$loading(false)\n\n    },\n\n    dateRangeText () {\n      if(this.dates[1] == undefined){\n        this.dates[1] = this.dates[0]\n      }\n      if(new Date(this.dates[0])> new Date(this.dates[1])){\n        var tempDate = this.dates[1]\n        this.dates[1] = this.dates[0]\n        this.dates[0] = tempDate\n      }\n      this.dateText = this.dates[0] + '~' + this.dates[1]\n    },\n\n\n    async initialize () {\n      this.ricekinds = (await RicekindService.index()).data\n      this.ricekindNames = this.ricekinds.map(value => value.name)\n\n      // get dates range\n      var date = new Date(this.today)\n      date.setDate(date.getDate() - 30);\n      this.dates[0] = date.toISOString().substr(0, 10)\n      this.dates[1] = this.today\n      this.dateRangeText()\n    },\n\n    deleteItem (item) {\n      this.editedIndex = this.ricekinds.indexOf(item)\n      this.editedItem = Object.assign({}, item)\n      this.dialogDelete = true\n    },\n\n    async deleteItemConfirm () {\n      this.$loading(true)\n      try{\n        await RicekindService.delete(this.editedItem)\n        this.closeDelete()\n      }catch(err){\n        console.log(err)\n      }\n      this.initialize()\n      this.$loading(false)\n    },\n\n    close () {\n      this.dialog = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    closeDelete () {\n      this.dialogDelete = false\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem)\n        this.editedIndex = -1\n      })\n    },\n\n    async save () {\n      this.$loading(true)\n      \n      const checkSameItem = (item) => item == this.editedItem.name;\n      if(this.ricekindNames.some(checkSameItem)) {\n        this.error=\"你已經有這個品項了\"\n        this.$loading(false)\n        return\n      }\n\n      try{\n        await RicekindService.post(this.editedItem)\n      }catch(err){\n        console.log(err)\n      }\n\n      this.initialize()\n      this.close()\n      this.$loading(false)\n\n    },\n  },\n}\n</script>\n<style scoped>\n.text1{\n  height: auto;\n  text-align: left;\n  font-size: 24px;\n  padding: 5px 10px;\n  color: white;\n  background-color: #1976D2;\n  border-radius: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ricekind.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Ricekind.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ricekind.vue?vue&type=template&id=11785cb0&scoped=true&\"\nimport script from \"./Ricekind.vue?vue&type=script&lang=js&\"\nexport * from \"./Ricekind.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ricekind.vue?vue&type=style&index=0&id=11785cb0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11785cb0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"receipt\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"831.6px\",\"width\":\"378px\",\"background-color\":\"antiquewhite\",\"font-size\":\"20px\",\"text-align\":\"start\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"280px\",\"right\":\"100px\",\"writing-mode\":\"vertical-rl\",\"text-orientation\":\"mixed\"}},[_c('p',[_vm._v(_vm._s((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)))]),_c('p',[_vm._v(\"電話：\"+_vm._s(this.customerInfo.homePhone))]),_c('p',[_vm._v(_vm._s(this.customerInfo.address))])]),_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"360px\",\"right\":\"260px\",\"writing-mode\":\"vertical-rl\",\"text-orientation\":\"mixed\",\"font-size\":\"24px\"}},[_c('p',[_vm._v(_vm._s(this.customerInfo.name)+\" 收\")])])]),_c('v-btn',{staticClass:\"print\",on:{\"click\":_vm.printFunc}},[_vm._v(\"列印\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"receipt\">\n    <div style=\"position:relative; height: 831.6px; width: 378px; background-color: antiquewhite; font-size: 20px;text-align: start;\">\n        <div style=\"position: absolute; top: 280px; right: 100px;writing-mode: vertical-rl;text-orientation: mixed;\">\n            <p>{{(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)}}</p>\n            <p>電話：{{this.customerInfo.homePhone}}</p>\n            <p>{{this.customerInfo.address}}</p>\n        </div>\n        <div style=\"position: absolute; top: 360px; right: 260px;writing-mode: vertical-rl;text-orientation: mixed; font-size: 24px;\">\n            <p>{{this.customerInfo.name}} 收</p>\n        </div>\n    </div>\n    \n    <v-btn class=\"print\" @click=\"printFunc\">列印</v-btn>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    printSelect: 0,\n    date,\n    customerInfo:{},\n    trades: [],\n    allTrades: [],\n  }),\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    initialize () {\n      this.customerInfo = this.$store.state.printCustomerInfo\n    },\n    printFunc(){\n      window.print()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&display=swap');\n\n* {\n  font-family: 'Noto Sans TC', sans-serif;\n}\n.receipt *{\n  margin:0;\n  padding:0;\n  box-sizing: border-box;\n}\n.receipt{\n  margin-left: 0;\n  padding:0;\n  margin-top: -80px;\n}\n\n@media print{\n  @page{\n    size: auto;\n  }\n\n  .print{\n    display: none;\n  }\n}\n\n.receipt:last-child{\n  page-break-after: auto;\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintEnvelope.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintEnvelope.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintEnvelope.vue?vue&type=template&id=9d51db20&scoped=true&\"\nimport script from \"./PrintEnvelope.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintEnvelope.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintEnvelope.vue?vue&type=style&index=0&id=9d51db20&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d51db20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"receipt\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"812px\",\"background-color\":\"antiquewhite\",\"overflow\":\"hidden\"}},[_vm._m(0),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"70%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商編號： \"+_vm._s(_vm.customerInfo.taxId))]),_c('p',[_vm._v(\"廠商姓名： \"+_vm._s(_vm.customerInfo.name))]),_c('p',[_vm._v(\"廠商地址： \"+_vm._s(_vm.customerInfo.address))])]),_c('div',{staticStyle:{\"width\":\"30%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商電話： \"+_vm._s(_vm.customerInfo.homePhone))]),_c('p',[_vm._v(\"製表日期： \"+_vm._s((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)))])])]):_vm._e(),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(1),_c('div',{staticStyle:{\"min-height\":\"240px\"}},_vm._l((_vm.trades),function(item,index){return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"13%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"15%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.in)))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.out)))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.stock)))]),_c('p',{staticStyle:{\"width\":\"20%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.go))]),_c('p',{staticStyle:{\"width\":\"24%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.comment))])])}),0)]):_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(2),_c('div',{staticStyle:{\"min-height\":\"240px\"}},[_vm._l((_vm.trades),function(item,index){return _c('div',[(_vm.diffIndex.includes(index))?_c('div',{staticClass:\"my-1\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}}):_vm._e(),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.customer_name))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.in)))]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.out)))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.stock)))]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.go))]),_c('p',{staticStyle:{\"width\":\"21%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.comment))])])])}),_c('div',{staticClass:\"mt-2\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}})],2)])]),_c('v-btn',{staticClass:\"print\",on:{\"click\":_vm.printFunc}},[_vm._v(\"列印\")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h3',[_vm._v(\"糧食進出登記簿\")]),_c('p',[_vm._v(\"年昌碾米工廠 地址: 玉里中華路28號\")]),_c('p',[_vm._v(\"電話: 03-8883066 03-8882066 傳真: 03-8881066\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"13%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"品名\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"轉進\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"轉出\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"20%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"稻穀紀錄\")]),_c('p',{staticStyle:{\"width\":\"24%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"顧客\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"品名\")]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"轉進\")]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"轉出\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"19%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"稻穀紀錄\")]),_c('p',{staticStyle:{\"width\":\"21%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"receipt\">\n    <div style=\"position:relative;width: 812px;background-color: antiquewhite; overflow: hidden;\">\n      <div style=\"text-align: center;\">\n          <h3>糧食進出登記簿</h3>\n          <p>年昌碾米工廠 地址: 玉里中華路28號</p>\n          <p>電話: 03-8883066 03-8882066 傳真: 03-8881066</p>\n      </div>\n      <div\n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"display:flex;\">\n        <div style=\"width: 70%;text-align: left;\">\n            <p>廠商編號： {{customerInfo.taxId}}</p>\n            <p>廠商姓名： {{customerInfo.name}}</p>\n            <p>廠商地址： {{customerInfo.address}}</p>\n        </div>\n        <div style=\"width: 30%;text-align: left;\">\n            <p>廠商電話： {{customerInfo.homePhone}}</p>\n            <p>製表日期： {{(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)}}</p>\n        </div>\n      </div>\n      <div \n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n            <p style=\"width:13%; text-align:center;margin:1px 3px;\">日期</p>\n            <p style=\"width:9%;text-align:start;margin:1px 3px;\">品名</p>\n            <p style=\"width:9%;text-align:end;margin:1px 3px;\">轉進</p>\n            <p style=\"width:10%;text-align:end;margin:1px 3px;\">轉出</p>\n            <p style=\"width:10%;text-align:end;margin:1px 3px;\">小計</p>\n            <p style=\"width:20%;text-align:start;margin:1px 3px;\">稻穀紀錄</p>\n            <p style=\"width:24%;text-align:start;margin:1px 3px;\">備註</p>\n        </div>\n        \n        <div style=\"min-height:240px;\">\n          <div style=\"display: flex;\" v-for=\"(item, index) in trades\">\n              <p style=\"width:13%;  text-align: center;margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n              <p style=\"width:15%; text-align: start;margin:1px 3px;\">{{item.name}}</p>\n              <p style=\"width:9%; text-align: end;margin:1px 3px;\">{{numWithComma(item.in)}}</p>\n              <p style=\"width:9%; text-align: end;margin:1px 3px;\">{{numWithComma(item.out)}}</p>\n              <p style=\"width:10%; text-align: end;margin:1px 3px;\">{{numWithComma(item.stock)}}</p>\n              <p style=\"width:20%; text-align: start;margin:1px 3px;\">{{item.go}}</p>\n              <p style=\"width:24%; text-align: start;margin:1px 3px;\">{{item.comment}}</p>\n          </div>\n        </div>\n      </div>\n      <div \n        v-else\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n          <p style=\"width:16%; text-align:center; margin:1px 3px;\">顧客</p>\n          <p style=\"width:9%; text-align:center;margin:1px 3px;\">日期</p>\n          <p style=\"width:12%;text-align:start;margin:1px 3px;\">品名</p>\n          <p style=\"width:7%;text-align:end;margin:1px 3px;\">轉進</p>\n          <p style=\"width:7%;text-align:end;margin:1px 3px;\">轉出</p>\n          <p style=\"width:9%;text-align:end;margin:1px 3px;\">小計</p>\n          <p style=\"width:19%;text-align:start;margin:1px 3px;\">稻穀紀錄</p>\n          <p style=\"width:21%;text-align:start;margin:1px 3px;\">備註</p>\n        </div>\n        \n        <div style=\"min-height:240px;\">\n          <div v-for=\"(item, index) in trades\">\n            <div v-if=\"diffIndex.includes(index)\" style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"my-1\">\n            </div>\n            <div style=\"display: flex;\">\n              <p style=\"width:16%; text-align: start; margin:1px 3px;\">{{item.customer_name}}</p>\n              <p style=\"width:9%;  text-align: center;margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n              <p style=\"width:12%; text-align: start;margin:1px 3px;\">{{item.name}}</p>\n              <p style=\"width:7%; text-align: end;margin:1px 3px;\">{{numWithComma(item.in)}}</p>\n              <p style=\"width:7%; text-align: end;margin:1px 3px;\">{{numWithComma(item.out)}}</p>\n              <p style=\"width:9%; text-align: end;margin:1px 3px;\">{{numWithComma(item.stock)}}</p>\n              <p style=\"width:18%; text-align: start;margin:1px 3px;\">{{item.go}}</p>\n              <p style=\"width:21%; text-align: start;margin:1px 3px;\">{{item.comment}}</p>\n            </div>\n          </div>\n          <div style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"mt-2\">\n            </div>\n        </div>\n      </div>\n    </div>\n    <v-btn class=\"print\" @click=\"printFunc\">列印</v-btn>\n  </div>\n</template>\n\n\n\n<script>\nexport default {\n  data: () => ({\n    customerInfo:{},\n    trades: [],\n    diffIndex:[]\n  }),\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    initialize () {\n      this.trades = this.$store.state.printDataArr\n      this.customerInfo = this.$store.state.printCustomerInfo\n\n      var formerItem = this.trades[0].customer_name\n      this.trades.forEach(item=>{\n        if(formerItem != item.customer_name) this.diffIndex.push(this.trades.indexOf(item));\n        formerItem = item.customer_name\n      })\n    },\n    printFunc(){\n      window.print()\n    },\n    numWithComma(x){\n      return (\"\"+x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n    }\n  }\n}\n</script>\n\n<style scoped>\n@import url('https://.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&display=swap');\n\n* {\n  font-family: 'Noto Sans TC', sans-serif;\n}\n.receipt *{\n  margin:0;\n  padding:0;\n  box-sizing: border-box;\n}\n.receipt{\n  margin-left: 0;\n  padding:0;\n}\n\np{\n  font-size: 12px;\n}\n\n\n@media print{\n  @page{\n    size: auto;\n  }\n\n  .print{\n    display: none;\n  }\n}\n\n.receipt:last-child{\n  page-break-after: auto;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintInwardsTrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintInwardsTrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintInwardsTrade.vue?vue&type=template&id=7410d4e6&scoped=true&\"\nimport script from \"./PrintInwardsTrade.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintInwardsTrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintInwardsTrade.vue?vue&type=style&index=0&id=7410d4e6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7410d4e6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"receipt\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"812px\",\"background-color\":\"antiquewhite\",\"overflow\":\"hidden\"}},[_vm._m(0),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"70%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商編號： \"+_vm._s(_vm.customerInfo.taxId))]),_c('p',[_vm._v(\"廠商姓名： \"+_vm._s(_vm.customerInfo.name))]),_c('p',[_vm._v(\"廠商地址： \"+_vm._s(_vm.customerInfo.address))])]),_c('div',{staticStyle:{\"width\":\"30%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商電話： \"+_vm._s(_vm.customerInfo.homePhone))]),_c('p',[_vm._v(\"製表日期： \"+_vm._s((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)))])])]):_vm._e(),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(1),_c('div',{staticStyle:{\"min-height\":\"240px\"}},_vm._l((_vm.trades),function(item,index){return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"34%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.uintPrice))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.number))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.aTradePrice))]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.grandPrice))]),_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"start\",\"margin\":\"3px\"}},[_vm._v(_vm._s(item.comment))])])}),0)]):_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(2),_c('div',{staticStyle:{\"min-height\":\"240px\"}},[_vm._l((_vm.trades),function(item,index){return _c('div',[(_vm.diffIndex.includes(index))?_c('div',{staticClass:\"my-1\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}}):_vm._e(),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.customer_name))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"24%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.uintPrice)))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.number)))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.aTradePrice)))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.grandPrice)))]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"3px\"}},[_vm._v(_vm._s(item.comment))])])])}),_c('div',{staticClass:\"mt-2\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}})],2)])]),_c('v-btn',{staticClass:\"print\",on:{\"click\":_vm.printFunc}},[_vm._v(\"列印\")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h3',[_vm._v(\"客戶往來交易\")]),_c('p',[_vm._v(\"年昌碾米工廠 地址: 玉里中華路28號\")]),_c('p',[_vm._v(\"電話: 03-8883066 03-8882066 傳真: 03-8881066\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"34%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"名稱\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單價\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"數量\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"餘額\")]),_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"16%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"顧客\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"24%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"名稱\")]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單價\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"數量\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"餘額\")]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"receipt\">\n    <div style=\"position:relative;width: 812px;background-color: antiquewhite; overflow: hidden;\">\n      <div style=\"text-align: center;\">\n          <h3>客戶往來交易</h3>\n          <p>年昌碾米工廠 地址: 玉里中華路28號</p>\n          <p>電話: 03-8883066 03-8882066 傳真: 03-8881066</p>\n      </div>\n      <div \n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"display:flex;\">\n        <div style=\"width: 70%;text-align: left;\">\n            <p>廠商編號： {{customerInfo.taxId}}</p>\n            <p>廠商姓名： {{customerInfo.name}}</p>\n            <p>廠商地址： {{customerInfo.address}}</p>\n        </div>\n        <div style=\"width: 30%;text-align: left;\">\n            <p>廠商電話： {{customerInfo.homePhone}}</p>\n            <p>製表日期： {{(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)}}</p>\n        </div>\n      </div>\n      <div \n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n            <p style=\"width:12%; text-align:center;margin:1px 3px;\">日期</p>\n            <p style=\"width:34%;text-align:start;margin:1px 3px;\">名稱</p>\n            <p style=\"width:8%;text-align:end;margin:1px 3px;\">單價</p>\n            <p style=\"width:8%;text-align:end;margin:1px 3px;\">數量</p>\n            <p style=\"width:10%;text-align:end;margin:1px 3px;\">小計</p>\n            <p style=\"width:12%;text-align:end;margin:1px 3px;\">餘額</p>\n            <p style=\"width:16%;text-align:start;margin:1px 3px;\">備註</p>\n        </div>\n        <div style=\"min-height:240px;\">\n          <div style=\"display: flex;\" v-for=\"(item, index) in trades\">\n              <p style=\"width:12%;  text-align: center;margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n              <p style=\"width:34%; text-align: start;margin:1px 3px;\">{{item.name}}</p>\n              <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{item.uintPrice}}</p>\n              <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{item.number}}</p>\n              <p style=\"width:10%; text-align: end;margin:1px 3px;\">{{item.aTradePrice}}</p>\n              <p style=\"width:12%; text-align: end;margin:1px 3px;\">{{item.grandPrice}}</p>\n              <p style=\"width:16%; text-align: start;margin:3px;\">{{item.comment}}</p>\n          </div>\n        </div>\n      </div>\n      <div \n        v-else\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n          <p style=\"width:16%; text-align:center; margin:1px 3px;\">顧客</p>\n          <p style=\"width:9%; text-align:center;margin:1px 3px;\">日期</p>\n          <p style=\"width:24%;text-align:start;margin:1px 3px;\">名稱</p>\n          <p style=\"width:5%;text-align:end;margin:1px 3px;\">單價</p>\n          <p style=\"width:8%;text-align:end;margin:1px 3px;\">數量</p>\n          <p style=\"width:10%;text-align:end;margin:1px 3px;\">小計</p>\n          <p style=\"width:10%;text-align:end;margin:1px 3px;\">餘額</p>\n          <p style=\"width:18%;text-align:start;margin:1px 3px;\">備註</p>\n        </div>\n        <div style=\"min-height:240px;\">\n          <div v-for=\"(item, index) in trades\">\n            <div v-if=\"diffIndex.includes(index)\" style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"my-1\">\n            </div>\n            <div style=\"display: flex;\">\n              <p style=\"width:16%; text-align: start; margin:1px 3px;\">{{item.customer_name}}</p>\n              <p style=\"width:9%;  text-align: center;margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n              <p style=\"width:24%; text-align: start;margin:1px 3px;\">{{item.name}}</p>\n              <p style=\"width:5%; text-align: end;margin:1px 3px;\">{{numWithComma(item.uintPrice)}}</p>\n              <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{numWithComma(item.number)}}</p>\n              <p style=\"width:10%; text-align: end;margin:1px 3px;\">{{numWithComma(item.aTradePrice)}}</p>\n              <p style=\"width:10%; text-align: end;margin:1px 3px;\">{{numWithComma(item.grandPrice)}}</p>\n              <p style=\"width:18%; text-align: start;margin:3px;\">{{item.comment}}</p>\n            </div>\n          </div>\n          <div style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"mt-2\">\n            </div>\n        </div>\n      </div>\n    </div>\n\n    <v-btn class=\"print\" @click=\"printFunc\">列印</v-btn>\n  </div>\n</template>\n\n\n\n<script>\nexport default {\n  data: () => ({\n    customerInfo:{},\n    trades: [],\n    diffIndex:[]\n  }),\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    initialize () {\n      this.trades = this.$store.state.printDataArr\n      this.customerInfo = this.$store.state.printCustomerInfo\n\n      var formerItem = this.trades[0].customer_name\n      this.trades.forEach(item=>{\n        if(formerItem != item.customer_name) this.diffIndex.push(this.trades.indexOf(item));\n        formerItem = item.customer_name\n      })\n    },\n    printFunc(){\n      window.print()\n    },\n    numWithComma(x){\n      return (\"\"+x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n    }\n  }\n}\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&display=swap');\n\n* {\n  font-family: 'Noto Sans TC', sans-serif;\n}\n.receipt *{\n  margin:0;\n  padding:0;\n  box-sizing: border-box;\n}\n.receipt{\n  margin-left: 0;\n  padding:0;\n}\n\np{\n  font-size: 12px;\n}\n\n\n@media print{\n  @page{\n    size: auto;\n  }\n\n  .print{\n    display: none;\n  }\n}\n\n.receipt:last-child{\n  page-break-after: auto;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintInwardsOtherTrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintInwardsOtherTrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintInwardsOtherTrade.vue?vue&type=template&id=4ed61dfe&scoped=true&\"\nimport script from \"./PrintInwardsOtherTrade.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintInwardsOtherTrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintInwardsOtherTrade.vue?vue&type=style&index=0&id=4ed61dfe&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed61dfe\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"receipt\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"812px\",\"background-color\":\"antiquewhite\",\"padding\":\"5px\",\"overflow\":\"hidden\"}},[_vm._m(0),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"70%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商編號： \"+_vm._s(_vm.customerInfo.taxId))]),_c('p',[_vm._v(\"廠商姓名： \"+_vm._s(_vm.customerInfo.name))]),_c('p',[_vm._v(\"廠商地址： \"+_vm._s(_vm.customerInfo.address))])]),_c('div',{staticStyle:{\"width\":\"30%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商電話： \"+_vm._s(_vm.customerInfo.homePhone))]),_c('p',[_vm._v(\"列印日期： \"+_vm._s((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)))])])]),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(1),_c('div',{staticStyle:{\"min-height\":\"240px\"}},_vm._l((_vm.trades),function(item,index){return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"3%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(index+1))]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.amount))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.package))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.totalNumber))]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.sellUint))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.uintPrice))]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.aTradePrice))]),_c('p',{staticStyle:{\"width\":\"11%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.transport))]),_c('p',{staticStyle:{\"width\":\"15%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.comment))])])}),0),_c('div',{staticStyle:{\"width\":\"99%\",\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\",\"margin-top\":\"20px\",\"padding-left\":\"10px\"}},[_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"本次銷售：\"+_vm._s((\"\"+this.sum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")]),_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"前次累積：\"+_vm._s((\"\"+this.formerSum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")]),_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"貸款總計：\"+_vm._s((\"\"+(parseInt(this.sum)+parseInt(this.formerSum))).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")]),_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"總重量：\"+_vm._s(this.weight)+\"公斤\")])])])]),_c('v-btn',{staticClass:\"print\",on:{\"click\":_vm.printFunc}},[_vm._v(\"列印\")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h3',[_vm._v(\"出 貨 單\")]),_c('p',[_vm._v(\"年昌碾米工廠 地址: 玉里中華路28號\")]),_c('p',[_vm._v(\"電話: 03-8883066 03-8882066 傳真: 03-8881066\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"3%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"NO\")]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"品名\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"數量\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"包數\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"總數量\")]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單位\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單價\")]),_c('p',{staticStyle:{\"width\":\"12%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"11%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"貨運\")]),_c('p',{staticStyle:{\"width\":\"15%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"receipt\">\n    <div  style=\"position:relative;width: 812px;background-color: antiquewhite; padding: 5px; overflow: hidden;\">\n      <div style=\"text-align: center;\">\n        <h3>出  貨  單</h3>\n        <p>年昌碾米工廠 地址: 玉里中華路28號</p>\n        <p>電話: 03-8883066 03-8882066 傳真: 03-8881066</p>\n      </div>\n      <div style=\"display:flex;\">\n        <div style=\"width: 70%;text-align: left;\">\n          <p>廠商編號： {{customerInfo.taxId}}</p>\n          <p>廠商姓名： {{customerInfo.name}}</p>\n          <p>廠商地址： {{customerInfo.address}}</p>\n        </div>\n        <div style=\"width: 30%;text-align: left;\">\n          <p>廠商電話： {{customerInfo.homePhone}}</p>\n          <p>列印日期： {{(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)}}</p>\n        </div>\n      </div>\n      <div style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n          <p style=\"width:3%; text-align:center;margin:1px 3px;\">NO</p>\n          <p style=\"width:18%;text-align:start;margin:1px 3px;\">品名</p>\n          <p style=\"width:8%;text-align:end;margin:1px 3px;\">數量</p>\n          <p style=\"width:8%;text-align:end;margin:1px 3px;\">包數</p>\n          <p style=\"width:10%;text-align:end;margin:1px 3px;\">總數量</p>\n          <p style=\"width:5%; text-align:end;margin:1px 3px;\">單位</p>\n          <p style=\"width:8%;text-align:end;margin:1px 3px;\">單價</p>\n          <p style=\"width:12%;text-align:end;margin:1px 3px;\">小計</p>\n          <p style=\"width:11%;text-align:center;margin:1px 3px;\">貨運</p>\n          <p style=\"width:15%;text-align:start;margin:1px 3px;\">備註</p>\n        </div>\n          \n        <div style=\"min-height:240px;\">\n          <div style=\"display: flex;\" v-for=\"(item, index) in trades\">\n            <p style=\"width:3%;  text-align: center;margin:1px 3px;\">{{index+1}}</p>\n            <p style=\"width:18%; text-align: start;margin:1px 3px;\">{{item.name}}</p>\n            <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{item.amount}}</p>\n            <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{item.package}}</p>\n            <p style=\"width:10%; text-align: end;margin:1px 3px;\">{{item.totalNumber}}</p>\n            <p style=\"width:5%;  text-align: end;margin:1px 3px;\">{{item.sellUint}}</p>\n            <p style=\"width:8%; text-align: end;margin:1px 3px;\">{{item.uintPrice}}</p>\n            <p style=\"width:12%; text-align: end;margin:1px 3px;\">{{item.aTradePrice}}</p>\n            <p style=\"width:11%; text-align: center;margin:1px 3px;\">{{item.transport}}</p>\n            <p style=\"width:15%; text-align: start;margin:1px 3px;\">{{item.comment}}</p>\n          </div>\n        </div>\n\n        <div style=\"width: 99%; display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; margin-top: 20px;padding-left: 10px;\">\n          <p style=\"width:25%;text-align:start;\">本次銷售：{{(\"\"+this.sum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n          <p style=\"width:25%;text-align:start;\">前次累積：{{(\"\"+this.formerSum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n          <p style=\"width:25%;text-align:start;\">貸款總計：{{(\"\"+(parseInt(this.sum)+parseInt(this.formerSum))).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n          <p style=\"width:25%;text-align:start;\">總重量：{{this.weight}}公斤</p>\n        </div>\n      </div>\n    </div>\n\n    <v-btn class=\"print\" @click=\"printFunc\">列印</v-btn>\n  </div>\n</template>\n\n\n\n<script>\nexport default {\n  data: () => ({\n    formerSum: 0,\n    sum: 0,\n    weight: 0,\n    customerInfo:{},\n    trades: [],\n    allTrades: [],\n  }),\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    initialize () {\n      this.formerSum = this.$route.query.formerSum\n      this.sum = this.$route.query.sum\n      this.weight = this.$route.query.weight\n      this.trades = this.$store.state.printDataArr\n      this.customerInfo = this.$store.state.printCustomerInfo\n    },\n    printFunc(){\n      window.print()\n    }\n  }\n}\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&display=swap');\n\n* {\n  font-family: 'Noto Sans TC', sans-serif;\n}\n.receipt *{\n  margin:0;\n  padding:0;\n  box-sizing: border-box;\n}\n.receipt{\n  margin-left: 0;\n  padding:0;\n}\n\n\n@media print{\n  @page{\n    size: auto;\n  }\n\n  .print{\n    display: none;\n  }\n}\n\n.receipt:last-child{\n  page-break-after: auto;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintOutwardsSomeTrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintOutwardsSomeTrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintOutwardsSomeTrade.vue?vue&type=template&id=08c1bfcb&scoped=true&\"\nimport script from \"./PrintOutwardsSomeTrade.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintOutwardsSomeTrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintOutwardsSomeTrade.vue?vue&type=style&index=0&id=08c1bfcb&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08c1bfcb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"receipt\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"812px\",\"background-color\":\"antiquewhite\",\"overflow\":\"hidden\"}},[_vm._m(0),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',{staticStyle:{\"width\":\"70%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商編號： \"+_vm._s(_vm.customerInfo.taxId))]),_c('p',[_vm._v(\"廠商姓名： \"+_vm._s(_vm.customerInfo.name))]),_c('p',[_vm._v(\"廠商地址： \"+_vm._s(_vm.customerInfo.address))])]),_c('div',{staticStyle:{\"width\":\"30%\",\"text-align\":\"left\"}},[_c('p',[_vm._v(\"廠商電話： \"+_vm._s(_vm.customerInfo.homePhone))]),_c('p',[_vm._v(\"列印日期： \"+_vm._s((new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)))])])]):_vm._e(),(this.$route.query.all == 'false')?_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(1),_c('div',{staticStyle:{\"min-height\":\"240px\"}},_vm._l((_vm.trades),function(item,index){return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"13%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.amount)))]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.package)))]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.totalNumber)))]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.sellUint))]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.uintPrice)))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.aTradePrice)))]),_c('p',{staticStyle:{\"width\":\"11%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.grandPrice)))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.transport))]),_c('p',{staticStyle:{\"width\":\"20%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.comment))])])}),0),_c('div',{staticStyle:{\"width\":\"99%\",\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\",\"margin-top\":\"20px\",\"padding-left\":\"10px\"}},[_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"本次銷售：\"+_vm._s((\"\"+this.$route.query.sum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")]),_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"前次累積：\"+_vm._s((\"\"+this.$route.query.formerSum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")]),_c('p',{staticStyle:{\"width\":\"25%\",\"text-align\":\"start\"}},[_vm._v(\"貸款總計：\"+_vm._s((\"\"+(parseInt(this.$route.query.sum)+parseInt(this.$route.query.formerSum))).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\"元\")])])]):_c('div',{staticStyle:{\"margin-top\":\"5px\",\"width\":\"100%\"}},[_vm._m(2),_c('div',{staticStyle:{\"min-height\":\"240px\"}},[_vm._l((_vm.trades),function(item,index){return _c('div',[(_vm.diffIndex.includes(index))?_c('div',{staticClass:\"my-1\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}}):_vm._e(),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('p',{staticStyle:{\"width\":\"14%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.customer_name))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.made_date.slice(0,10)))]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.name))]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.amount)))]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.package)))]),_c('p',{staticStyle:{\"width\":\"6%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.totalNumber)))]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.sellUint))]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.uintPrice)))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.aTradePrice)))]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(_vm.numWithComma(item.grandPrice)))]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.transport))]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(_vm._s(item.comment))])])])}),_c('div',{staticClass:\"mt-2\",staticStyle:{\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}})],2)])]),_c('v-btn',{staticClass:\"print\",on:{\"click\":_vm.printFunc}},[_vm._v(\"列印\")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h3',[_vm._v(\"交 易 紀 錄\")]),_c('p',[_vm._v(\"年昌碾米工廠 地址: 玉里中華路28號\")]),_c('p',[_vm._v(\"電話: 03-8883066 03-8882066 傳真: 03-8881066\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"13%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"品名\")]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"數量\")]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"包數\")]),_c('p',{staticStyle:{\"width\":\"8%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"總數量\")]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單位\")]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單價\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"11%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"累計\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"貨運\")]),_c('p',{staticStyle:{\"width\":\"20%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"border-top\":\"2px solid #000\",\"border-bottom\":\"2px solid #000\"}},[_c('p',{staticStyle:{\"width\":\"14%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"顧客\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"center\",\"margin\":\"1px 3px\"}},[_vm._v(\"日期\")]),_c('p',{staticStyle:{\"width\":\"18%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"品名\")]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"數量\")]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"包數\")]),_c('p',{staticStyle:{\"width\":\"6%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"總數量\")]),_c('p',{staticStyle:{\"width\":\"4%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單位\")]),_c('p',{staticStyle:{\"width\":\"5%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"單價\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"小計\")]),_c('p',{staticStyle:{\"width\":\"9%\",\"text-align\":\"end\",\"margin\":\"1px 3px\"}},[_vm._v(\"累計\")]),_c('p',{staticStyle:{\"width\":\"7%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"運輸\")]),_c('p',{staticStyle:{\"width\":\"10%\",\"text-align\":\"start\",\"margin\":\"1px 3px\"}},[_vm._v(\"備註\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"receipt\">\n    <div style=\"position:relative;width: 812px;background-color: antiquewhite; overflow: hidden;\">\n      <div style=\"text-align: center;\">\n        <h3>交 易 紀 錄</h3>\n        <p>年昌碾米工廠 地址: 玉里中華路28號</p>\n        <p>電話: 03-8883066 03-8882066 傳真: 03-8881066</p>\n      </div>\n      <div \n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"display:flex;\">\n        <div style=\"width: 70%;text-align: left;\">\n            <p>廠商編號： {{customerInfo.taxId}}</p>\n            <p>廠商姓名： {{customerInfo.name}}</p>\n            <p>廠商地址： {{customerInfo.address}}</p>\n        </div>\n        <div style=\"width: 30%;text-align: left;\">\n            <p>廠商電話： {{customerInfo.homePhone}}</p>\n            <p>列印日期： {{(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)}}</p>\n        </div>\n      </div>\n      <div \n        v-if=\"this.$route.query.all == 'false'\"\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n            <p style=\"width:10%; text-align:center; margin:1px 3px;\">日期</p>\n            <p style=\"width:13%;text-align:start; margin:1px 3px;\">品名</p>\n            <p style=\"width:4%;text-align:end; margin:1px 3px;\">數量</p>\n            <p style=\"width:4%;text-align:end;margin:1px 3px;\">包數</p>\n            <p style=\"width:8%;text-align:end;margin:1px 3px;\">總數量</p>\n            <p style=\"width:5%; text-align:end; margin:1px 3px;\">單位</p>\n            <p style=\"width:5%;text-align:end; margin:1px 3px;\">單價</p>\n            <p style=\"width:10%;text-align:end; margin:1px 3px;\">小計</p>\n            <p style=\"width:11%;text-align:end; margin:1px 3px;\">累計</p>\n            <p style=\"width:10%;text-align:start;margin:1px 3px;\">貨運</p>\n            <p style=\"width:20%;text-align:start; margin:1px 3px;\">備註</p>\n        </div>\n          \n        <div style=\"min-height:240px;\">\n          <div style=\"display: flex;\" v-for=\"(item, index) in trades\">\n            <p style=\"width:10%; text-align: center; margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n            <p style=\"width:13%; text-align: start; margin:1px 3px;\">{{item.name}}</p>\n            <p style=\"width:4%; text-align: end;margin:1px 3px;\">{{numWithComma(item.amount)}}</p>\n            <p style=\"width:4%; text-align: end;margin:1px 3px;\">{{numWithComma(item.package)}}</p>\n            <p style=\"width:8%; text-align: end; margin:1px 3px;\">{{numWithComma(item.totalNumber)}}</p>\n            <p style=\"width:5%; text-align:end; margin:1px 3px;\">{{item.sellUint}}</p>\n            <p style=\"width:5%; text-align: end; margin:1px 3px;\">{{numWithComma(item.uintPrice)}}</p>\n            <p style=\"width:10%; text-align: end; margin:1px 3px;\">{{numWithComma(item.aTradePrice)}}</p>\n            <p style=\"width:11%; text-align: end; margin:1px 3px;\">{{numWithComma(item.grandPrice)}}</p>\n            <p style=\"width:10%; text-align: start; margin:1px 3px;\">{{item.transport}}</p>\n            <p style=\"width:20%; text-align: start; margin:1px 3px;\">{{item.comment}}</p>\n          </div>\n        </div>\n\n        <div style=\"width: 99%; display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; margin-top: 20px;padding-left: 10px;\">\n          <p style=\"width:25%;text-align:start;\">本次銷售：{{(\"\"+this.$route.query.sum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n          <p style=\"width:25%;text-align:start;\">前次累積：{{(\"\"+this.$route.query.formerSum).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n          <p style=\"width:25%;text-align:start;\">貸款總計：{{(\"\"+(parseInt(this.$route.query.sum)+parseInt(this.$route.query.formerSum))).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}}元</p>\n        </div>\n      </div>\n      <div \n        v-else\n        style=\"margin-top: 5px;width:100%;\">\n        <div style=\"display: flex; border-top: 2px solid #000; border-bottom: 2px solid #000; \">\n            <p style=\"width:14%; text-align:center; margin:1px 3px;\">顧客</p>\n            <p style=\"width:9%; text-align:center; margin:1px 3px;\">日期</p>\n            <p style=\"width:18%;text-align:start; margin:1px 3px;\">品名</p>\n            <p style=\"width:4%;text-align:end; margin:1px 3px;\">數量</p>\n            <p style=\"width:4%;text-align:end;margin:1px 3px;\">包數</p>\n            <p style=\"width:6%;text-align:end; margin:1px 3px;\">總數量</p>\n            <p style=\"width:4%; text-align:end; margin:1px 3px;\">單位</p>\n            <p style=\"width:5%;text-align:end; margin:1px 3px;\">單價</p>\n            <p style=\"width:9%;text-align:end; margin:1px 3px;\">小計</p>\n            <p style=\"width:9%;text-align:end; margin:1px 3px;\">累計</p>\n            <p style=\"width:7%;text-align:start; margin:1px 3px;\">運輸</p>\n            <p style=\"width:10%;text-align:start; margin:1px 3px;\">備註</p>\n        </div>\n          \n        <div style=\"min-height:240px;\">\n          <div v-for=\"(item, index) in trades\">\n            <div v-if=\"diffIndex.includes(index)\" style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"my-1\">\n            </div>\n            <div style=\"display: flex;\">\n              <p style=\"width:14%; text-align: start; margin:1px 3px;\">{{item.customer_name}}</p>\n              <p style=\"width:9%; text-align: start; margin:1px 3px;\">{{item.made_date.slice(0,10)}}</p>\n              <p style=\"width:18%; text-align: start; margin:1px 3px;\">{{item.name}}</p>\n              <p style=\"width:4%; text-align: end;margin:1px 3px;\">{{numWithComma(item.amount)}}</p>\n              <p style=\"width:4%; text-align: end;margin:1px 3px;\">{{numWithComma(item.package)}}</p>\n              <p style=\"width:6%; text-align: end; margin:1px 3px;\">{{numWithComma(item.totalNumber)}}</p>\n              <p style=\"width:4%; text-align:end; margin:1px 3px;\">{{item.sellUint}}</p>\n              <p style=\"width:5%; text-align: end; margin:1px 3px;\">{{numWithComma(item.uintPrice)}}</p>\n              <p style=\"width:9%; text-align: end; margin:1px 3px;\">{{numWithComma(item.aTradePrice)}}</p>\n              <p style=\"width:9%; text-align: end; margin:1px 3px;\">{{numWithComma(item.grandPrice)}}</p>\n              <p style=\"width:7%; text-align: start; margin:1px 3px;\">{{item.transport}}</p>\n              <p style=\"width:10%; text-align: start; margin:1px 3px;\">{{item.comment}}</p>\n            </div>\n          </div>\n          <div style=\"border-top: 2px solid #000; border-bottom: 2px solid #000;\" class=\"mt-2\">\n            </div>\n        </div>\n      </div>\n    </div>\n    <v-btn class=\"print\" @click=\"printFunc\">列印</v-btn>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    customerInfo:{},\n    trades: [],\n    diffIndex:[]\n  }),\n\n  created () {\n    this.initialize()\n  },\n\n  methods: {\n    initialize () {\n      this.trades = this.$store.state.printDataArr\n      this.customerInfo = this.$store.state.printCustomerInfo\n\n      var formerItem = this.trades[0].customer_name\n      this.trades.forEach(item=>{\n        if(formerItem != item.customer_name) this.diffIndex.push(this.trades.indexOf(item));\n        formerItem = item.customer_name\n      })\n    },\n    printFunc(){\n      window.print()\n    },\n    numWithComma(x){\n      return x? (\"\"+x).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"): 0\n    }\n  }\n}\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;900&display=swap');\n\n* {\n  font-family: 'Noto Sans TC', sans-serif;\n}\n.receipt *{\n  margin:0;\n  padding:0;\n  box-sizing: border-box;\n}\n.receipt{\n  margin-left: 0;\n  padding:0;\n}\n\n\n@media print{\n  @page{\n    size: auto;\n  }\n\n  .print{\n    display: none;\n  }\n}\n\n.receipt:last-child{\n  page-break-after: auto;\n}\n\np{\n  font-size: 12px;\n}\n\n\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintOutwardsAllTrade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PrintOutwardsAllTrade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintOutwardsAllTrade.vue?vue&type=template&id=7a0bc21e&scoped=true&\"\nimport script from \"./PrintOutwardsAllTrade.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintOutwardsAllTrade.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrintOutwardsAllTrade.vue?vue&type=style&index=0&id=7a0bc21e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a0bc21e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '@/components/Home'\nimport Register from '@/components/Register'\nimport Login from '@/components/Login'\nimport Outwards from '@/components/outwards'\nimport Customer from '@/components/outwards/Customer'\nimport Transport from '@/components/outwards/Transport'\nimport Product from '@/components/outwards/Product'\nimport Trade from '@/components/outwards/Trade'\nimport SellUint from '@/components/outwards/SellUint'\nimport CashMethod from '@/components/outwards/CashMethod'\nimport Inwards from '@/components/inwards'\nimport InwardsCustomer from '@/components/inwards/Customer'\nimport inwardsTrade from '@/components/inwards/TradeView'\nimport InwardsProduct from '@/components/inwards/Product'\nimport InwardsRicekind from '@/components/inwards/Ricekind'\nimport printEnvelope from '@/components/print/PrintEnvelope'\nimport printInwardsTrade from '@/components/print/PrintInwardsTrade'\nimport printInwardsOtherTrade from '@/components/print/PrintInwardsOtherTrade'\nimport printOutwardsSomeTrade from '@/components/print/PrintOutwardsSomeTrade'\nimport printOutwardsAllTrade from '@/components/print/PrintOutwardsAllTrade'\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'root',\n    component: Home\n  },\n  {\n    path: '/outwards',\n    name: 'outwards',\n    component: Outwards\n  },\n  {\n    path: '/inwards',\n    name: 'inwards',\n    component: Inwards\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: Register\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login\n  },\n  {\n    path: '/outwards/customer',\n    name: 'customer',\n    component: Customer\n  },\n  {\n    path: '/outwards/transport',\n    name: 'transport',\n    component: Transport\n  },\n  {\n    path: '/outwards/product',\n    name: 'product',\n    component: Product\n  },\n  {\n    path: '/outwards/sellUint',\n    name: 'sellUint',\n    component: SellUint\n  },\n  {\n    path: '/outwards/cashMethod',\n    name: 'cashMethod',\n    component: CashMethod\n  },\n  {\n    path: '/outwards/trade/:customerName',\n    name: 'trade',\n    component: Trade\n  },\n\n  {\n    path: '/inwards/customer',\n    name: 'inwardsCustomer',\n    component: InwardsCustomer\n  },\n  {\n    path: '/inwards/product',\n    name: 'inwardsProduct',\n    component: InwardsProduct\n  },\n  {\n    path: '/inwards/ricekind',\n    name: 'inwardsRicekind',\n    component: InwardsRicekind\n  },\n  {\n    path: '/inwards/trade/:customerName',\n    name: 'inwardsTrade',\n    component: inwardsTrade\n  },\n  \n  {\n    path: '/inwards/printenvelope',\n    name: 'printEnvelope',\n    component: printEnvelope\n  },\n  {\n    path: '/inwards/printtrade',\n    name: 'printInwardsTrade',\n    component: printInwardsTrade\n  },\n  {\n    path: '/inwards/printothertrade',\n    name: 'printInwardsOtherTrade',\n    component: printInwardsOtherTrade\n  },\n  {\n    path: '/outwards/printsometrade',\n    name: 'printOutwardsSomeTrade',\n    component: printOutwardsSomeTrade\n  },\n  {\n    path: '/outwards/printalltrade',\n    name: 'printOutwardsAllTrade',\n    component: printOutwardsAllTrade\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from \"vuex-persistedstate\"\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  plugins: [\n    createPersistedState({\n      storage: window.sessionStorage,\n    }),\n  ],\n  strict: true,\n  state: {\n    token: null,\n    user: null,\n    isUserLoggedIn: false,\n    isPrint: false,\n    printDataArr:[],\n    printCustomerInfo:{},\n  },\n  getters: {\n  },\n  mutations: {\n    setToken (state, token) {\n      state.token = token\n      state.isUserLoggedIn = !!(token)\n    },\n    setUser (state, user) {\n      state.user = user\n    },\n    setPrintData (state, arr) {\n      state.printDataArr = arr\n    },\n    setPrinCustomer (state, customer) {\n      state.printCustomerInfo = customer\n    }\n  },\n  actions: {\n    setToken ({commit}, token) {\n      commit('setToken', token)\n    },\n    setUser ({commit}, user) {\n      commit('setUser', user)\n    },\n    setPrintData ({commit}, arr) {\n      commit('setPrintData', arr)\n    },\n    setPrintCustomer ({commit}, customer) {\n      commit('setPrinCustomer', customer)\n    },\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { sync } from 'vuex-router-sync'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport VueLoading from 'vuejs-loading-plugin'\nimport JsonExcel from 'vue-json-excel';\n\nVue.use(VueLoading)\n\nVue.component(\"downloadExcel\", JsonExcel);\n\nVue.config.productionTip = false\n\nsync(store, router)\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkclient\"] = self[\"webpackChunkclient\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(8919); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["attrs","staticRenderFns","name","component","render","staticClass","_c","_vm","_v","ref","dates","$event","scopedSlots","key","on","value","callback","dateText","expression","menu","model","$refs","save","outward_json_fields","inward_rice_trades","inward_trades","fn","params","customerName","nativeOn","data","methods","logout","axios","baseURL","window","location","protocol","host","withCredentials","url","index","customer","Api","get","indexByDates","indexByCashmethodAndDates","cashmethod","post","item","put","id","delete","getLastTrade","getAllItemsByProduct","type","getAllItemsByRicekind","deleteById","components","IndexHeader","error","顧客","日期","品名","數量","包數","總數量","單位","單價","小計","累計","貨運","備註","inward_json_fields","名稱","餘額","inward_rice_json_fields","進","出","稻穀紀錄","json_meta","outward_trades","dateRangeText","printAllReceipt","query","all","formerSum","sum","weight","printInwardReceipt","printInwardRiceReceipt","account","password","register","credentials","login","props","Panel","console","Titlepanel","date","$$v","search","required","closeDelete","proxy","editItem","deleteItem","dialog","dialogDelete","headers","text","align","sortable","width","customers","editedIndex","editedItem","address","phone","homePhone","contact","taxId","defaultItem","computed","formTitle","watch","val","created","filterOnlyCapsText","trades","set","navigateTo","close","Object","transports","_u","$set","deleteItemConfirm","license","productUints","productSellUint","products","number","uint","sellUint","price","checkInp","filterTrades","changeDate","json_fields","switch1","assign","menu_made_date","made_date","comment","formMadeDate","uintPrice","amount","header","today","toISOString","substr","searchCustomer","cashMethod","productNames","transportNames","customerNames","customerInfo","dialogCashTime","formatter","x","cashMethodArr","changeItemId","productArr","allTrades","package","aTradePrice","transport","mounted","chooseProduct","printEnvelope","printSomeReceipt","calculatePriceAndWeight","customerData","getChangeIdLeftTrades","Math","getLastTenTrades","closeCashTime","sellUints","cashMethods","_s","initialize","tradeHeaders","actionNames","dialogSearch","ratioName","closeSearch","$router","_g","ricekindNames","ricekinds","ricekindUints","inCustomerNames","currentTime","in","out","inCustomer","printReceipt","e","ricekindData","anotherIndex","aTradeStock","edititem","anotherItem","res_out","dialogLoan","loan_made_date","menu_loan_made_date","rate","menu1","calculateLoanDay","selectedLoans","closeLoan","lastTrade","loans","Date","loanHeaders","loan","loanComment","customer_name","user_name","rateItem","showLoan","productItem","Trade","OtherTrade","lastOtherTrade","lastOtherTradeGrandPrice","stock","startDate","searchRicekind","calculateSum","allItems","staticStyle","printSelect","printFunc","diffIndex","formerItem","numWithComma","Vue","VueRouter","routes","path","Home","Outwards","Inwards","Register","Login","Customer","Transport","Product","SellUint","CashMethod","InwardsCustomer","InwardsProduct","InwardsRicekind","inwardsTrade","printInwardsTrade","printInwardsOtherTrade","printOutwardsSomeTrade","printOutwardsAllTrade","router","mode","base","process","Vuex","plugins","createPersistedState","storage","sessionStorage","strict","state","token","user","isUserLoggedIn","isPrint","printDataArr","printCustomerInfo","getters","mutations","setToken","setUser","setPrintData","arr","setPrinCustomer","actions","commit","setPrintCustomer","modules","Vuetify","VueLoading","JsonExcel","sync","store","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","length","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}